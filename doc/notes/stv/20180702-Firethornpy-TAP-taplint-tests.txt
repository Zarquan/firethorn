#
# <meta:header>
#   <meta:licence>
#     Copyright (c) 2018, ROE (http://www.roe.ac.uk/)
#
#     This information is free software: you can redistribute it and/or modify
#     it under the terms of the GNU General Public License as published by
#     the Free Software Foundation, either version 3 of the License, or
#     (at your option) any later version.
#
#     This information is distributed in the hope that it will be useful,
#     but WITHOUT ANY WARRANTY; without even the implied warranty of
#     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#     GNU General Public License for more details.
#  
#     You should have received a copy of the GNU General Public License
#     along with this program.  If not, see <http://www.gnu.org/licenses/>.
#   </meta:licence>
# </meta:header>
#
#


#################################################################
##################### WFAU TAP Service URLs ##################### 
#################################################################

OSA: http://tap.metagrid.xyz/firethorn/tap/534583
SSA: http://tap.metagrid.xyz/firethorn/tap/783260
WSA: http://tap.metagrid.xyz/firethorn/tap/783266
VSA: http://tap.metagrid.xyz/firethorn/tap/783269


############################
#### Taplint validation ####
############################

## Testing OSA (http://tap.metagrid.xyz/firethorn/tap/534583)

stelios@stelios-pc:~$ java -jar stilts.jar taplint tapurl=http://tap.metagrid.xyz/firethorn/tap/534583 debug=true
This is STILTS taplint, 3.1-4/a0c52d8 (2018-05-18)
Static report types: ERROR(123), WARNING(47), INFO(20), SUMMARY(9), FAILURE(21)

Section TMV: Validate table metadata against XML schema
I-TMV-VURL-1 Validating http://tap.metagrid.xyz/firethorn/tap/534583/tables as tableset (http://www.ivoa.net/xml/VODataService/v1.1)
S-TMV-VALI-1 SAX report: warnings 0, errors 0, fatal 0

Section TME: Check content of tables metadata from /tables
I-TME-TURL-1 Reading table metadata from http://tap.metagrid.xyz/firethorn/tap/534583/tables
S-TME-SUMM-1 Schemas: 13, Tables: 333, Columns: 9071, Foreign Keys: 0
S-TME-FLGS-1 Standard column flags: indexed: 0, primary: 0, nullable: 0
S-TME-FLGO-1 Other column flags: none

Section TMS: Check content of tables metadata from TAP_SCHEMA
I-TMS-QSUB-1 Submitting query: SELECT COUNT(*) AS nr FROM TAP_SCHEMA.schemas
I-TMS-QGET-1 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/534583/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+COUNT%28*%29+AS+nr+FROM+TAP_SCHEMA.schemas
I-TMS-QSUB-2 Submitting query: SELECT COUNT(*) AS nr FROM TAP_SCHEMA.tables
I-TMS-QGET-2 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/534583/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+COUNT%28*%29+AS+nr+FROM+TAP_SCHEMA.tables
I-TMS-QSUB-3 Submitting query: SELECT COUNT(*) AS nr FROM TAP_SCHEMA.columns
I-TMS-QGET-3 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/534583/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+COUNT%28*%29+AS+nr+FROM+TAP_SCHEMA.columns
I-TMS-QSUB-4 Submitting query: SELECT COUNT(*) AS nr FROM TAP_SCHEMA.keys
I-TMS-QGET-4 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/534583/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+COUNT%28*%29+AS+nr+FROM+TAP_SCHEMA.keys
I-TMS-QSUB-5 Submitting query: SELECT COUNT(*) AS nr FROM TAP_SCHEMA.key_columns
I-TMS-QGET-5 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/534583/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+COUNT%28*%29+AS+nr+FROM+TAP_SCHEMA.key_columns
I-TMS-QSUB-6 Submitting query: SELECT principal, indexed, std, "size" FROM TAP_SCHEMA.columns
I-TMS-QGET-6 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/534583/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+principal%2C+indexed%2C+std%2C+%22size%22+FROM+TAP_SCHEMA.columns&MAXREC=9081
I-TMS-QSUB-7 Submitting query: SELECT TOP 1 * FROM TAP_SCHEMA.columns
I-TMS-QGET-7 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/534583/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+TOP+1+*+FROM+TAP_SCHEMA.columns&MAXREC=1
I-TMS-QSUB-8 Submitting query: SELECT ft_column_id, std, indexed, principal, ts_column_id, datatype, utype, ucd, unit, description, column_name, table_name FROM TAP_SCHEMA.columns
I-TMS-QGET-8 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/534583/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+ft_column_id%2C+std%2C+indexed%2C+principal%2C+ts_column_id%2C+datatype%2C+utype%2C+ucd%2C+unit%2C+description%2C+column_name%2C+table_name+FROM+TAP_SCHEMA.columns&MAXREC=9081
I-TMS-QSUB-9 Submitting query: SELECT from_column, target_column, key_id FROM TAP_SCHEMA.key_columns
I-TMS-QGET-9 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/534583/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+from_column%2C+target_column%2C+key_id+FROM+TAP_SCHEMA.key_columns&MAXREC=9081
S-TMS-SUMM-1 Schemas: 13, Tables: 333, Columns: 9071, Foreign Keys: 0
S-TMS-FLGS-1 Standard column flags: indexed: 0, principal: 7, std: 33
S-TMS-QNUM-1 Successful/submitted TAP queries: 13/13
S-TMS-QTIM-1 Average successful query time: 1.8s
I-TMS-QSUB-x (4 more)
I-TMS-QGET-x (4 more)

Section TMC: Compare table metadata from /tables and TAP_SCHEMA

Section CPV: Validate capabilities against XML schema
I-CPV-VURL-1 Validating http://tap.metagrid.xyz/firethorn/tap/534583/capabilities as capabilities (http://www.ivoa.net/xml/VOSICapabilities/v1.0)
S-CPV-VALI-1 SAX report: warnings 0, errors 0, fatal 0

Section CAP: Check content of TAPRegExt capabilities record
I-CAP-CURL-1 Reading capability metadata from http://tap.metagrid.xyz/firethorn/tap/534583/capabilities

Section AVV: Validate availability against XML schema
I-AVV-VURL-1 Validating http://tap.metagrid.xyz/firethorn/tap/534583/availability as availability (http://www.ivoa.net/xml/VOSIAvailability/v1.0)
S-AVV-VALI-1 SAX report: warnings 0, errors 0, fatal 0

Section QGE: Make ADQL queries in sync GET mode
I-QGE-QSUB-1 Submitting query: SELECT TOP 10 surveyID FROM ATLASDR3.Survey
I-QGE-QGET-1 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/534583/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+TOP+10+surveyID+FROM+ATLASDR3.Survey
I-QGE-QSUB-2 Submitting query: SELECT surveyID FROM ATLASDR3.Survey
I-QGE-QGET-2 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/534583/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+surveyID+FROM+ATLASDR3.Survey&MAXREC=0
I-QGE-QSUB-3 Submitting query: SELECT TOP 1 surveyID FROM ATLASDR3.Survey
I-QGE-QGET-3 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/534583/sync?REQUEST=doQuery&LANG=ADQL-2.0&QUERY=SELECT+TOP+1+surveyID+FROM+ATLASDR3.Survey
I-QGE-QSUB-4 Submitting query: SELECT TOP 1 surveyID FROM ATLASDR3.Survey
I-QGE-QGET-4 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/534583/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+TOP+1+surveyID+FROM+ATLASDR3.Survey
I-QGE-QSUB-5 Submitting query: SELECT TOP 8 sdssPrimary, sdssType AS taplint_c_2, A.distanceMins, slaveObjID AS taplint_c_4, masterObjID FROM ATLASDR3.atlasSourceXDR5PhotoObj AS A
I-QGE-QGET-5 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/534583/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+TOP+8+sdssPrimary%2C+sdssType+AS+taplint_c_2%2C+A.distanceMins%2C+slaveObjID+AS+taplint_c_4%2C+masterObjID++FROM+ATLASDR3.atlasSourceXDR5PhotoObj+AS+A
I-QGE-QSUB-6 Submitting query: SELECT masterObjID FROM ATLASDR3.atlasSourceXDR5PhotoObjAll
I-QGE-QGET-6 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/534583/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+masterObjID+FROM+ATLASDR3.atlasSourceXDR5PhotoObjAll&MAXREC=0
I-QGE-DUFF-1 Submitting duff query: DUFF QUERY
I-QGE-QGET-7 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/534583/sync?REQUEST=doQuery&LANG=ADQL&QUERY=DUFF+QUERY
S-QGE-QNUM-1 Successful/submitted TAP queries: 6/6
S-QGE-QTIM-1 Average successful query time: 1.3s

Section QPO: Make ADQL queries in sync POST mode
I-QPO-QSUB-1 Submitting query: SELECT TOP 10 surveyID FROM ATLASDR3.Survey
I-QPO-QSUB-2 Submitting query: SELECT surveyID FROM ATLASDR3.Survey
I-QPO-QSUB-3 Submitting query: SELECT TOP 8 sdssPrimary, sdssType AS taplint_c_2, A.distanceMins, slaveObjID AS taplint_c_4, masterObjID FROM ATLASDR3.atlasSourceXDR5PhotoObj AS A
I-QPO-QSUB-4 Submitting query: SELECT masterObjID FROM ATLASDR3.atlasSourceXDR5PhotoObjAll
I-QPO-DUFF-1 Submitting duff query: DUFF QUERY
S-QPO-QNUM-1 Successful/submitted TAP queries: 4/4
S-QPO-QTIM-1 Average successful query time: 1.3s

Section QAS: Make ADQL queries in async mode
I-QAS-QSUB-1 Submitting query: SELECT TOP 10 surveyID FROM ATLASDR3.Survey
I-QAS-QJOB-1 Submitted query at http://tap.metagrid.xyz/firethorn/tap/534583/async/1578164
I-QAS-QSUB-2 Submitting query: SELECT surveyID FROM ATLASDR3.Survey
I-QAS-QJOB-2 Submitted query at http://tap.metagrid.xyz/firethorn/tap/534583/async/1578165
I-QAS-QSUB-3 Submitting query: SELECT TOP 8 sdssPrimary, sdssType AS taplint_c_2, A.distanceMins, slaveObjID AS taplint_c_4, masterObjID FROM ATLASDR3.atlasSourceXDR5PhotoObj AS A
I-QAS-QJOB-3 Submitted query at http://tap.metagrid.xyz/firethorn/tap/534583/async/1578166
I-QAS-QSUB-4 Submitting query: SELECT masterObjID FROM ATLASDR3.atlasSourceXDR5PhotoObjAll
I-QAS-QJOB-4 Submitted query at http://tap.metagrid.xyz/firethorn/tap/534583/async/1578167
I-QAS-DUFF-1 Submitting duff query: DUFF QUERY
I-QAS-QJOB-5 Submitted query at http://tap.metagrid.xyz/firethorn/tap/534583/async/1578168
S-QAS-QNUM-1 Successful/submitted TAP queries: 4/4
S-QAS-QTIM-1 Average successful query time: 1.4s

Section UWS: Test asynchronous UWS/TAP behaviour
I-UWS-CJOB-1 Created new job http://tap.metagrid.xyz/firethorn/tap/534583/async/1578169
I-UWS-POPA-1 POSTed runId=TAPLINT-002 to http://tap.metagrid.xyz/firethorn/tap/534583/async/1578169/parameters
I-UWS-POPA-2 POSTed PHASE=ABORT to http://tap.metagrid.xyz/firethorn/tap/534583/async/1578169/phase
I-UWS-POPA-3 POSTed ACTION=DELETE to http://tap.metagrid.xyz/firethorn/tap/534583/async/1578169
I-UWS-CJOB-2 Created new job http://tap.metagrid.xyz/firethorn/tap/534583/async/1578170
I-UWS-CJOB-3 Created new job http://tap.metagrid.xyz/firethorn/tap/534583/async/1578171
W-UWS-TFMT-1 Not ISO-8601 content "" from http://tap.metagrid.xyz/firethorn/tap/534583/async/1578171/destruction
I-UWS-POPA-4 POSTed PHASE=RUN to http://tap.metagrid.xyz/firethorn/tap/534583/async/1578171/phase
I-UWS-JOFI-1 Job completed immediately - can't test phase progression

Section MDQ: Check table query result columns against declared metadata
I-MDQ-QSUB-1 Submitting query: SELECT TOP 1 * FROM ATLASDR1.ArchiveCurationHistory
I-MDQ-QSUB-2 Submitting query: SELECT TOP 1 * FROM ATLASDR1.AstrCalVers
I-MDQ-QSUB-3 Submitting query: SELECT TOP 1 * FROM ATLASDR1.CurationTask
I-MDQ-QSUB-4 Submitting query: SELECT TOP 1 * FROM ATLASDR1.CurrentAstrometry
I-MDQ-QSUB-5 Submitting query: SELECT TOP 1 * FROM ATLASDR1.ExternalSurvey
I-MDQ-QSUB-6 Submitting query: SELECT TOP 1 * FROM ATLASDR1.ExternalSurveyTable
I-MDQ-QSUB-7 Submitting query: SELECT TOP 1 * FROM ATLASDR1.Filter
I-MDQ-QSUB-8 Submitting query: SELECT TOP 1 * FROM ATLASDR1.FilterSections
I-MDQ-QSUB-9 Submitting query: SELECT TOP 1 * FROM ATLASDR1.Multiframe
S-MDQ-QNUM-1 Successful/submitted TAP queries: 333/333
S-MDQ-QTIM-1 Average successful query time: 1.5s
I-MDQ-QSUB-x (324 more)

Section OBS: Test implementation of ObsCore Data Model
I-OBS-NODM-1 Table capabilities lists no ObsCore DataModel - no ObsCore tests

Section UPL: Make queries with table uploads
F-UPL-NOUP-1 Table capabilities lists no upload methods - will not attempt upload tests

Section EXA: Check content of examples document
I-EXA-EURL-1 Reading examples document from http://tap.metagrid.xyz/firethorn/tap/534583/examples
F-EXA-EXNO-1 No examples document at http://tap.metagrid.xyz/firethorn/tap/534583/examples

Totals: Errors: 0; Warnings: 1; Infos: 403; Summaries: 18; Failures: 2


########################### Test passed ################################### 








## Testing SSA (http://tap.metagrid.xyz/firethorn/tap/783260)

stelios@stelios-pc:~$ java -Xmx4096m -jar stilts.jar -disk taplint tapurl=http://tap.metagrid.xyz/firethorn/tap/783260 debug=true
This is STILTS taplint, 3.1-4/a0c52d8 (2018-05-18)
Static report types: ERROR(123), WARNING(47), INFO(20), SUMMARY(9), FAILURE(21)

Section TMV: Validate table metadata against XML schema
I-TMV-VURL-1 Validating http://tap.metagrid.xyz/firethorn/tap/783260/tables as tableset (http://www.ivoa.net/xml/VODataService/v1.1)
E-TMV-JLBQ-1 (l.238393, c.2): cvc-complex-type.2.4.a: Invalid content was found starting with element 'descripti2000'. One of '{description, unit, ucd, utype, dataType, flag}' is expected.
E-TMV-WDCE-1 (l.238412, c.1): XML document structures must start and end within the same entity.
S-TMV-VALI-1 SAX report: warnings 0, errors 1, fatal 1

Section TME: Check content of tables metadata from /tables
I-TME-TURL-1 Reading table metadata from http://tap.metagrid.xyz/firethorn/tap/783260/tables
E-TME-FLSX-1 Can't parse table metadata well enough to check it [The markup in the document following the root element must be well-formed.]
org.xml.sax.SAXParseException; lineNumber: 3; columnNumber: 15; The markup in the document following the root element must be well-formed.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:203)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:177)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:400)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:327)
	at com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1472)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$TrailingMiscDriver.next(XMLDocumentScannerImpl.java:1391)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:602)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:505)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:842)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:771)
	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1213)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:643)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(SAXParserImpl.java:327)
	at javax.xml.parsers.SAXParser.parse(SAXParser.java:195)
	at uk.ac.starlink.ttools.taplint.TablesEndpointStage.readTableMetadata(TablesEndpointStage.java:127)
	at uk.ac.starlink.ttools.taplint.TableMetadataStage.run(TableMetadataStage.java:85)
	at uk.ac.starlink.ttools.taplint.TapLinter$4.execute(TapLinter.java:214)
	at uk.ac.starlink.ttools.task.LineInvoker.invoke(LineInvoker.java:294)
	at uk.ac.starlink.ttools.Stilts.main(Stilts.java:45)
F-TME-GONE-1 Table metadata absent

Section TMS: Check content of tables metadata from TAP_SCHEMA
I-TMS-QSUB-1 Submitting query: SELECT COUNT(*) AS nr FROM TAP_SCHEMA.schemas
I-TMS-QGET-1 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/783260/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+COUNT%28*%29+AS+nr+FROM+TAP_SCHEMA.schemas
I-TMS-QSUB-2 Submitting query: SELECT COUNT(*) AS nr FROM TAP_SCHEMA.tables
I-TMS-QGET-2 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/783260/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+COUNT%28*%29+AS+nr+FROM+TAP_SCHEMA.tables
I-TMS-QSUB-3 Submitting query: SELECT COUNT(*) AS nr FROM TAP_SCHEMA.columns
I-TMS-QGET-3 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/783260/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+COUNT%28*%29+AS+nr+FROM+TAP_SCHEMA.columns
I-TMS-QSUB-4 Submitting query: SELECT COUNT(*) AS nr FROM TAP_SCHEMA.keys
I-TMS-QGET-4 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/783260/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+COUNT%28*%29+AS+nr+FROM+TAP_SCHEMA.keys
I-TMS-QSUB-5 Submitting query: SELECT COUNT(*) AS nr FROM TAP_SCHEMA.key_columns
I-TMS-QGET-5 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/783260/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+COUNT%28*%29+AS+nr+FROM+TAP_SCHEMA.key_columns
I-TMS-QSUB-6 Submitting query: SELECT principal, indexed, std, "size" FROM TAP_SCHEMA.columns
I-TMS-QGET-6 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/783260/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+principal%2C+indexed%2C+std%2C+%22size%22+FROM+TAP_SCHEMA.columns&MAXREC=37954
E-TMS-VOYA-1 (l.2, c.3): The element type "TR" must be terminated by the matching end-tag "</TR>".
E-TMS-CERR-1 Error reading TAP_SCHEMA.columns data [Result parse error: The element type "TR" must be terminated by the matching end-tag "</TR>".]
java.io.IOException: Result parse error: The element type "TR" must be terminated by the matching end-tag "</TR>".
	at uk.ac.starlink.ttools.taplint.TapSchemaStage$LintTapSchemaInterrogator.executeQuery(TapSchemaStage.java:288)
	at uk.ac.starlink.ttools.taplint.TapSchemaStage$LintTapSchemaInterrogator.checkColumnTypes(TapSchemaStage.java:310)
	at uk.ac.starlink.ttools.taplint.TapSchemaStage.readTableMetadata(TapSchemaStage.java:68)
	at uk.ac.starlink.ttools.taplint.TableMetadataStage.run(TableMetadataStage.java:85)
	at uk.ac.starlink.ttools.taplint.TapSchemaStage.run(TapSchemaStage.java:45)
	at uk.ac.starlink.ttools.taplint.TapLinter$4.execute(TapLinter.java:214)
	at uk.ac.starlink.ttools.task.LineInvoker.invoke(LineInvoker.java:294)
	at uk.ac.starlink.ttools.Stilts.main(Stilts.java:45)
Caused by: org.xml.sax.SAXParseException; lineNumber: 2; columnNumber: 3; The element type "TR" must be terminated by the matching end-tag "</TR>".
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1239)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:643)
	at uk.ac.starlink.ttools.taplint.VotLintTapRunner.readResultDocument(VotLintTapRunner.java:277)
	at uk.ac.starlink.ttools.taplint.VotLintTapRunner.readResultDocument(VotLintTapRunner.java:205)
	at uk.ac.starlink.ttools.taplint.VotLintTapRunner.executeQuery(VotLintTapRunner.java:112)
	at uk.ac.starlink.ttools.taplint.TapRunner.attemptGetResultTable(TapRunner.java:79)
	at uk.ac.starlink.ttools.taplint.TapSchemaStage$LintTapSchemaInterrogator.executeQuery(TapSchemaStage.java:285)
	... 7 more
I-TMS-QSUB-7 Submitting query: SELECT TOP 1 * FROM TAP_SCHEMA.columns
I-TMS-QGET-7 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/783260/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+TOP+1+*+FROM+TAP_SCHEMA.columns&MAXREC=1
W-TMS-NOCT-1 No Content-Type header for http://tap.metagrid.xyz/firethorn/tap/783260/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+TOP+1+*+FROM+TAP_SCHEMA.columns&MAXREC=1
I-TMS-VVNL-1 Undeclared VOTable version; assuming v1.2
E-TMS-VOCX-1 (l.1, c.1): Content is not allowed in prolog.
E-TMS-CLIO-1 Error reading TAP_SCHEMA.columns table [Result parse error: Content is not allowed in prolog.]
java.io.IOException: Result parse error: Content is not allowed in prolog.
	at uk.ac.starlink.ttools.taplint.TapSchemaStage$LintTapSchemaInterrogator.executeQuery(TapSchemaStage.java:288)
	at uk.ac.starlink.vo.TapSchemaInterrogator.readAvailableColumns(TapSchemaInterrogator.java:335)
	at uk.ac.starlink.vo.TapSchemaInterrogator.getAvailableColumns(TapSchemaInterrogator.java:315)
	at uk.ac.starlink.vo.TapSchemaInterrogator.access$100(TapSchemaInterrogator.java:32)
	at uk.ac.starlink.vo.TapSchemaInterrogator$MetaQuerier.readMap(TapSchemaInterrogator.java:638)
	at uk.ac.starlink.vo.TapSchemaInterrogator.readMap(TapSchemaInterrogator.java:208)
	at uk.ac.starlink.ttools.taplint.TapSchemaStage.readTableMetadata(TapSchemaStage.java:78)
	at uk.ac.starlink.ttools.taplint.TableMetadataStage.run(TableMetadataStage.java:85)
	at uk.ac.starlink.ttools.taplint.TapSchemaStage.run(TapSchemaStage.java:45)
	at uk.ac.starlink.ttools.taplint.TapLinter$4.execute(TapLinter.java:214)
	at uk.ac.starlink.ttools.task.LineInvoker.invoke(LineInvoker.java:294)
	at uk.ac.starlink.ttools.Stilts.main(Stilts.java:45)
Caused by: org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 1; Content is not allowed in prolog.
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1239)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:643)
	at uk.ac.starlink.ttools.taplint.VotLintTapRunner.readResultDocument(VotLintTapRunner.java:277)
	at uk.ac.starlink.ttools.taplint.VotLintTapRunner.readResultDocument(VotLintTapRunner.java:205)
	at uk.ac.starlink.ttools.taplint.VotLintTapRunner.executeQuery(VotLintTapRunner.java:112)
	at uk.ac.starlink.ttools.taplint.TapRunner.attemptGetResultTable(TapRunner.java:79)
	at uk.ac.starlink.ttools.taplint.TapSchemaStage$LintTapSchemaInterrogator.executeQuery(TapSchemaStage.java:285)
	... 11 more
I-TMS-QSUB-8 Submitting query: SELECT from_column, target_column, key_id FROM TAP_SCHEMA.key_columns
I-TMS-QGET-8 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/783260/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+from_column%2C+target_column%2C+key_id+FROM+TAP_SCHEMA.key_columns&MAXREC=37954
I-TMS-QSUB-9 Submitting query: SELECT key_id, target_table, description, utype, from_table FROM TAP_SCHEMA.keys
I-TMS-QGET-9 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/783260/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+key_id%2C+target_table%2C+description%2C+utype%2C+from_table+FROM+TAP_SCHEMA.keys&MAXREC=37954
S-TMS-SUMM-1 Schemas: 10, Tables: 649, Columns: 0, Foreign Keys: 0
S-TMS-FLGS-1 Standard column flags: indexed: 0, principal: 0, std: 0
S-TMS-QNUM-1 Successful/submitted TAP queries: 10/12
S-TMS-QTIM-1 Average successful query time: 1.4s
I-TMS-QSUB-x (3 more)
I-TMS-QGET-x (3 more)

Section TMC: Compare table metadata from /tables and TAP_SCHEMA
F-TMC-NOTM-1 Don't have two metadata sets to compare (earlier stages failed/skipped?)

Section CPV: Validate capabilities against XML schema
I-CPV-VURL-1 Validating http://tap.metagrid.xyz/firethorn/tap/783260/capabilities as capabilities (http://www.ivoa.net/xml/VOSICapabilities/v1.0)
S-CPV-VALI-1 SAX report: warnings 0, errors 0, fatal 0

Section CAP: Check content of TAPRegExt capabilities record
I-CAP-CURL-1 Reading capability metadata from http://tap.metagrid.xyz/firethorn/tap/783260/capabilities

Section AVV: Validate availability against XML schema
I-AVV-VURL-1 Validating http://tap.metagrid.xyz/firethorn/tap/783260/availability as availability (http://www.ivoa.net/xml/VOSIAvailability/v1.0)
S-AVV-VALI-1 SAX report: warnings 0, errors 0, fatal 0

Section QGE: Make ADQL queries in sync GET mode
F-QGE-ZCOL-1 No columns known for BestDR7.TilingBoundary, can't make column queries
F-QGE-ZCOL-2 No columns known for BestDR7.TilingGeometry, can't make column queries
F-QGE-ZCOL-3 No columns known for BestDR7.TilingInfo, can't make column queries
I-QGE-DUFF-1 Submitting duff query: DUFF QUERY
I-QGE-QGET-1 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/783260/sync?REQUEST=doQuery&LANG=ADQL&QUERY=DUFF+QUERY
S-QGE-QNUM-1 Successful/submitted TAP queries: 0/0

Section QPO: Make ADQL queries in sync POST mode
F-QPO-ZCOL-1 No columns known for BestDR7.TilingBoundary, can't make column queries
F-QPO-ZCOL-2 No columns known for BestDR7.TilingGeometry, can't make column queries
F-QPO-ZCOL-3 No columns known for BestDR7.TilingInfo, can't make column queries
I-QPO-DUFF-1 Submitting duff query: DUFF QUERY
S-QPO-QNUM-1 Successful/submitted TAP queries: 0/0

Section QAS: Make ADQL queries in async mode
F-QAS-ZCOL-1 No columns known for BestDR7.TilingBoundary, can't make column queries
F-QAS-ZCOL-2 No columns known for BestDR7.TilingGeometry, can't make column queries
F-QAS-ZCOL-3 No columns known for BestDR7.TilingInfo, can't make column queries
I-QAS-DUFF-1 Submitting duff query: DUFF QUERY
I-QAS-QJOB-1 Submitted query at http://tap.metagrid.xyz/firethorn/tap/783260/async/1606862
S-QAS-QNUM-1 Successful/submitted TAP queries: 0/0

Section UWS: Test asynchronous UWS/TAP behaviour
I-UWS-CJOB-1 Created new job http://tap.metagrid.xyz/firethorn/tap/783260/async/1606863
I-UWS-POPA-1 POSTed runId=TAPLINT-002 to http://tap.metagrid.xyz/firethorn/tap/783260/async/1606863/parameters
I-UWS-POPA-2 POSTed PHASE=ABORT to http://tap.metagrid.xyz/firethorn/tap/783260/async/1606863/phase
I-UWS-POPA-3 POSTed ACTION=DELETE to http://tap.metagrid.xyz/firethorn/tap/783260/async/1606863
I-UWS-CJOB-2 Created new job http://tap.metagrid.xyz/firethorn/tap/783260/async/1606864
I-UWS-CJOB-3 Created new job http://tap.metagrid.xyz/firethorn/tap/783260/async/1606865
W-UWS-TFMT-1 Not ISO-8601 content "" from http://tap.metagrid.xyz/firethorn/tap/783260/async/1606865/destruction
I-UWS-POPA-4 POSTed PHASE=RUN to http://tap.metagrid.xyz/firethorn/tap/783260/async/1606865/phase
I-UWS-JOFI-1 Job completed immediately - can't test phase progression

Section MDQ: Check table query result columns against declared metadata
I-MDQ-QSUB-1 Submitting query: SELECT TOP 1 * FROM BestDR1.Best2Sector
E-MDQ-CLRD-1 SELECT * for table BestDR1.Best2Sector returns 2 undeclared columns: objID, regionID
I-MDQ-QSUB-2 Submitting query: SELECT TOP 1 * FROM BestDR1.Chunk
E-MDQ-CLRD-2 SELECT * for table BestDR1.Chunk returns 8 undeclared columns: chunkID, skyVersion, targetVersion, startMu, endMu, stripe, exportVersion, loadVersion
I-MDQ-QSUB-3 Submitting query: SELECT TOP 1 * FROM BestDR1.DBColumns
E-MDQ-CLRD-3 SELECT * for table BestDR1.DBColumns returns 6 undeclared columns: tablename, name, unit, ucd, enum, description
I-MDQ-QSUB-4 Submitting query: SELECT TOP 1 * FROM BestDR1.DBObjectDescription

Out of memory
Requested array size exceeds VM limit
Try increasing heap memory (-Xmx flag) ## tried..

## Stuck here..


## Testing earlier reported errors

stelios@stelios-pc:~$ wget "http://tap.metagrid.xyz/firethorn/tap/783260/tables"
--2018-07-03 21:38:32--  http://tap.metagrid.xyz/firethorn/tap/783260/tables
Resolving tap.metagrid.xyz (tap.metagrid.xyz)... 129.215.175.101
Connecting to tap.metagrid.xyz (tap.metagrid.xyz)|129.215.175.101|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: unspecified
Saving to: ‘tables’

    [ <=>                                                                                                                                           ] 5,478       --.-K/s   in 0s      

2018-07-03 21:38:32 (382 MB/s) - ‘tables’ saved [5478]
          
stelios@stelios-pc:~$ cat tables 
2000D>931708</TD></TR><TR><TD>35222</TD><TD>BestDR9.Unknown</TD><TD>petroR50_u</TD><TD>Radius containing 50% of Petrosian flux</TD><TD>arcsec</TD><TD></TD><TD></TD><TD>float</TD><TD>0</TD><TD>0</TD><TD>0</TD><TD>931709</TD></TR><TR><TD>35223</TD><TD>BestDR9.Unknown</TD><TD>petroR50_g</TD><TD>Radius containing 50% of Petrosian flux</TD><TD>arcsec</TD><TD></TD><TD></TD><TD>float</TD><TD>0</TD><TD>0</TD><TD>0</TD><TD>931710</TD></TR><TR><TD>35224</TD><TD>BestDR9.Unknown</TD><TD>petroR50_r</TD><TD>Radius containing 50% of Petrosian flux</TD><TD>arcsec</TD><TD></TD><TD></TD><TD>float</TD><TD>0</TD><TD>0</TD><TD>0</TD><TD>931711</TD></TR><TR><TD>35225</TD><TD>BestDR9.Unknown</TD><TD>petroR50_i</TD><TD>Radius containing 50% of Petrosian flux</TD><TD>arcsec</TD><TD></TD><TD></TD><TD>float</TD><TD>0</TD><TD>0</TD><TD>0</TD><TD>931712</TD></TR><TR><TD>35226</TD><TD>BestDR9.Unknown</TD><TD>petroR50_z</TD><TD>Radius containing 50% of Petrosian flux</TD><TD>arcsec</TD><TD></TD><TD></TD><TD>float</TD><TD>0</TD><TD>0</TD><TD>0</TD><TD>931713</TD></TR><TR><TD>35227</TD><TD>BestDR9.Unknown</TD><TD>petroR50Err_u</TD><TD>Error in radius with 50% of Petrosian flux error</TD><TD>arcsec</TD><TD></TD><TD></TD><TD>float</TD><TD>0</TD><TD>0</TD><TD>0</TD><TD>931714</TD></TR><TR><TD>35228</TD><TD>BestDR9.Unknown</TD><TD>petroR50Err_g</TD><TD>Error in radius with 50% of Petrosian flux error</TD><TD>arcsec</TD><TD></TD><TD></TD><TD>float</TD><TD>0</TD><TD>0</TD><TD>0</TD><TD>931715</TD></TR><TR><TD>35229</TD><TD>BestDR9.Unknown</TD><TD>petroR50Err_r</TD><TD>Error in radius with 50% of Petrosian flux error</TD><TD>arcsec</TD><TD></TD><TD></TD><TD>float</TD><TD>0</TD><TD>0</TD><TD>0</TD><TD>931716</TD></TR><TR><TD>35230</TD><TD>BestDR9.Unknown</TD><TD>petroR50Err_i</TD><TD>Error in radius with 50% of Petrosian flux error</TD><TD>arcsec</TD><TD></TD><TD></TD><TD>float</TD><TD>0</TD><TD>0</TD><TD>0</TD><TD>931717</TD></TR><TR><TD>35231</TD><TD>BestDR9.Unknown</TD><TD>petroR50Err_z</TD><TD>Error in radius with 50% of Petrosian flux error</TD><TD>arcsec</TD><TD></TD><TD></TD><TD>float</TD><TD>0</TD><TD>0</TD><TD>0</TD><TD>931718</TD></TR><TR><TD>35232</TD><TD>BestDR9.Unknown</TD><TD>petroR90_u</TD><TD>Radius containing 90% of Petrosian flux</TD><TD>arcsec</TD><TD></TD><TD></TD><TD>float</TD><TD>0</TD><TD>0</TD><TD>0</TD><TD>931719</TD></TR><TR><TD>35233</TD><TD>BestDR9.Unknown</TD><TD>petroR90_g</TD><TD>Radius containing 90% of Petrosian flux</TD><TD>arcsec</TD><TD></TD><TD></TD><TD>float</TD><TD>0</TD><TD>0</TD><TD>0</TD><TD>931720</TD></TR><TR><TD>35234</TD><TD>BestDR9.Unknown</TD><TD>petroR90_r</TD><TD>Radius containing 90% of Petrosian flux</TD><TD>arcsec</TD><TD></TD><TD></TD><TD>float</TD><TD>0</TD><TD>0</TD><TD>0</TD><TD>931721</TD></TR><TR><TD>35235</TD><TD>BestDR9.Unknown</TD><TD>petroR90_i</TD><TD>Radius containing 90% of Petrosian flux</TD><TD>arcsec</TD><TD></TD><TD></TD><TD>float</TD><TD>0</TD><TD>0</TD><TD>0</TD><TD>931722</TD></TR><TR><TD>35236</TD><TD>BestDR9.Unknown</TD><TD>petroR90_z</TD><TD>Radius containing 90% of Petrosian flux</TD><TD>arcsec</TD><TD></TD><TD></TD><TD>float</TD><TD>0</TD><TD>0</TD><TD>0</TD><TD>931723</TD></TR><TR><TD>35237</TD><TD>BestDR9.Unknown</TD><TD>petroR90Err_u</TD><TD>Error in radius with 90% of Petrosian flux error</TD><TD>arcsec</TD><TD></TD><TD></TD><TD>float</TD><TD>0</TD><TD>0</TD><TD>0</TD><TD>931724</TD></TR><TR><TD>35238</TD><TD>BestDR9.Unknown</TD><TD>petroR90Err_g</TD><TD>Error in radius with 90% of Petrosian flux error</TD><TD>arcsec</TD><TD></TD><TD></TD><TD>float</TD><TD>0</TD><TD>0</TD><TD>0</TD><TD>931725</TD></TR><TR><TD>35239</TD><TD>BestDR9.Unknown</TD><TD>petroR90Err_r</TD><TD>Error in radius with 90% of Petrosian flux error</TD><TD>arcsec</TD><TD></TD><TD></TD><TD>float</TD><TD>0</TD><TD>0</TD><TD>0</TD><TD>931726</TD></TR><TR><TD>35240</TD><TD>BestDR9.Unknown</TD><TD>petroR90Err_i</TD><TD>Error in radius with 90% of Petrosian flux error</TD><TD>arcsec</TD><TD></TD><TD></TD><TD>float</TD><TD>0</TD><TD>0</TD><TD>0</TD><TD>931727</TD></TR><TR><TD>35241</TD><TD>BestDR9.Unknown</TD><TD>petroR90Err_z</TD><TD>Error in radius with 90% of Petrosian flux error</TD><TD>arcsec</TD><TD></TD><TD></TD><TD>float</TD><TD>0</TD><TD>0</TD><TD>0</TD><TD>931728</TD></TR><TR><TD>35242</TD><TD>BestDR9.Unknown</TD><TD>q_u</TD><TD>Stokes Q parameter</TD><TD></TD><TD></TD><TD></TD><TD>float</TD><TD>0</TD><TD>0</TD><TD>0</TD><TD>931729</TD></TR><TR><TD>35243</TD><TD>BestDR9.Unknown</TD><TD>q_g</TD><TD>Stokes Q parameter</TD><TD></TD><TD></TD><TD></TD><TD>float</TD><TD>0</TD><TD>0</TD><TD>0</TD><TD>931730</TD></TR><TR><TD>35244</TD><TD>BestDR9.Unknown</TD><TD>q_r</TD><TD>Stokes Q parameter</TD><TD></TD><TD></TD><TD></TD><TD>float</TD><TD>0</TD><TD>0</TD><TD>0</TD><TD>931731</TD></TR><TR><TD>35245</TD><TD>BestDR9.Unknown</TD><TD>q_i</TD><TD>Stokes Q parameter</TD><TD></TD><TD></TD><TD></TD><TD>float</TD><TD>0</TD><TD>0</TD><TD>0</TD><TD>931732</TD></TR><TR><TD>35246</TD><TD>BestDR9.Unknown</TD><TD>q_z</TD><TD>Stokes Q parameter</TD><TD></TD><TD></TD><TD></TD><TD>float</TD><TD>0</TD><TD>0</TD><TD>0</TD><TD>931733</TD></TR><TR><TD>35247</TD><TD>BestDR9.Unknown</TD><TD>qErr_u</TD><TD>Stokes Q parameter error</TD><TD></TD><TD></TD><TD></TD><TD>float</TD><TD>0</TD><TD>0</TD><TD>0</TD><TD>931734</TD></TR><TR><TD>35248</TD><TD>BestDR9.Unknown</TD><TD>qErr_g</TD><TD>Stokes Q parameter error</TD><TD></TD><TD></TD><TD></TD><TD>float</TD><TD>0</TD><TD>0</TD><TD>0</TD><TD>931735</TD


## wget second time gets the full table (?) which is 15 Mb



## Check http://tap.metagrid.xyz/firethorn/tap/783260/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+principal%2C+indexed%2C+std%2C+%22size%22+FROM+TAP_SCHEMA.columns&MAXREC=37954
which caused error..
## XML looks ok, and validates (??)
## http://tap.metagrid.xyz/firethorn/adql/table/1609163/votable

	
## Same with http://tap.metagrid.xyz/firethorn/tap/783260/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+TOP+1+*+FROM+TAP_SCHEMA.columns&MAXREC=1
## http://tap.metagrid.xyz/firethorn/adql/table/1609167/votable validates fine



########################### Test failed ################################### 





## Testing WSA (http://tap.metagrid.xyz/firethorn/tap/783266)

stelios@stelios-pc:~$ java -Xmx4096m -jar stilts.jar -disk taplint tapurl=http://tap.metagrid.xyz/firethorn/tap/783266 debug=true
This is STILTS taplint, 3.1-4/a0c52d8 (2018-05-18)
Static report types: ERROR(123), WARNING(47), INFO(20), SUMMARY(9), FAILURE(21)

Section TMV: Validate table metadata against XML schema
I-TMV-VURL-1 Validating http://tap.metagrid.xyz/firethorn/tap/783266/tables as tableset (http://www.ivoa.net/xml/VODataService/v1.1)
E-TMV-JHNF-1 (l.46123, c.32): The content of elements must consist of well-formed character data or markup.
S-TMV-VALI-1 SAX report: warnings 0, errors 0, fatal 1

Section TME: Check content of tables metadata from /tables
I-TME-TURL-1 Reading table metadata from http://tap.metagrid.xyz/firethorn/tap/783266/tables
E-TME-FLSX-1 Can't parse table metadata well enough to check it [The markup in the document following the root element must be well-formed.]
org.xml.sax.SAXParseException; lineNumber: 12; columnNumber: 14; The markup in the document following the root element must be well-formed.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:203)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:177)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:400)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:327)
	at com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1472)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$TrailingMiscDriver.next(XMLDocumentScannerImpl.java:1395)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:602)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:505)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:842)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:771)
	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1213)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:643)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(SAXParserImpl.java:327)
	at javax.xml.parsers.SAXParser.parse(SAXParser.java:195)
	at uk.ac.starlink.ttools.taplint.TablesEndpointStage.readTableMetadata(TablesEndpointStage.java:127)
	at uk.ac.starlink.ttools.taplint.TableMetadataStage.run(TableMetadataStage.java:85)
	at uk.ac.starlink.ttools.taplint.TapLinter$4.execute(TapLinter.java:214)
	at uk.ac.starlink.ttools.task.LineInvoker.invoke(LineInvoker.java:294)
	at uk.ac.starlink.ttools.Stilts.main(Stilts.java:45)
F-TME-GONE-1 Table metadata absent

Section TMS: Check content of tables metadata from TAP_SCHEMA
I-TMS-QSUB-1 Submitting query: SELECT COUNT(*) AS nr FROM TAP_SCHEMA.schemas
I-TMS-QGET-1 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/783266/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+COUNT%28*%29+AS+nr+FROM+TAP_SCHEMA.schemas
I-TMS-QSUB-2 Submitting query: SELECT COUNT(*) AS nr FROM TAP_SCHEMA.tables
I-TMS-QGET-2 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/783266/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+COUNT%28*%29+AS+nr+FROM+TAP_SCHEMA.tables
I-TMS-QSUB-3 Submitting query: SELECT COUNT(*) AS nr FROM TAP_SCHEMA.columns
I-TMS-QGET-3 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/783266/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+COUNT%28*%29+AS+nr+FROM+TAP_SCHEMA.columns
I-TMS-QSUB-4 Submitting query: SELECT COUNT(*) AS nr FROM TAP_SCHEMA.keys
I-TMS-QGET-4 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/783266/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+COUNT%28*%29+AS+nr+FROM+TAP_SCHEMA.keys
I-TMS-QSUB-5 Submitting query: SELECT COUNT(*) AS nr FROM TAP_SCHEMA.key_columns
I-TMS-QGET-5 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/783266/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+COUNT%28*%29+AS+nr+FROM+TAP_SCHEMA.key_columns
I-TMS-QSUB-6 Submitting query: SELECT principal, indexed, std, "size" FROM TAP_SCHEMA.columns
I-TMS-QGET-6 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/783266/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+principal%2C+indexed%2C+std%2C+%22size%22+FROM+TAP_SCHEMA.columns&MAXREC=99248
I-TMS-QSUB-7 Submitting query: SELECT TOP 1 * FROM TAP_SCHEMA.columns
I-TMS-QGET-7 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/783266/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+TOP+1+*+FROM+TAP_SCHEMA.columns&MAXREC=1
I-TMS-QSUB-8 Submitting query: SELECT ft_column_id, std, indexed, principal, ts_column_id, datatype, utype, ucd, unit, description, column_name, table_name FROM TAP_SCHEMA.columns
I-TMS-QGET-8 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/783266/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+ft_column_id%2C+std%2C+indexed%2C+principal%2C+ts_column_id%2C+datatype%2C+utype%2C+ucd%2C+unit%2C+description%2C+column_name%2C+table_name+FROM+TAP_SCHEMA.columns&MAXREC=99248
W-TMS-VOHA-1 (l.2, c.174): Wrong number of TDs in row (expecting 12 found 18)
E-TMS-VOEA-1 (l.3, c.1): XML document structures must start and end within the same entity.
E-TMS-CLIO-1 Error reading TAP_SCHEMA.columns table [Result parse error: XML document structures must start and end within the same entity.]
java.io.IOException: Result parse error: XML document structures must start and end within the same entity.
	at uk.ac.starlink.ttools.taplint.TapSchemaStage$LintTapSchemaInterrogator.executeQuery(TapSchemaStage.java:288)
	at uk.ac.starlink.vo.TapSchemaInterrogator$MetaQuerier.query(TapSchemaInterrogator.java:730)
	at uk.ac.starlink.vo.TapSchemaInterrogator$MetaQuerier.readMap(TapSchemaInterrogator.java:642)
	at uk.ac.starlink.vo.TapSchemaInterrogator.readMap(TapSchemaInterrogator.java:208)
	at uk.ac.starlink.ttools.taplint.TapSchemaStage.readTableMetadata(TapSchemaStage.java:78)
	at uk.ac.starlink.ttools.taplint.TableMetadataStage.run(TableMetadataStage.java:85)
	at uk.ac.starlink.ttools.taplint.TapSchemaStage.run(TapSchemaStage.java:45)
	at uk.ac.starlink.ttools.taplint.TapLinter$4.execute(TapLinter.java:214)
	at uk.ac.starlink.ttools.task.LineInvoker.invoke(LineInvoker.java:294)
	at uk.ac.starlink.ttools.Stilts.main(Stilts.java:45)
Caused by: org.xml.sax.SAXParseException; lineNumber: 3; columnNumber: 1; XML document structures must start and end within the same entity.
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1239)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:643)
	at uk.ac.starlink.ttools.taplint.VotLintTapRunner.readResultDocument(VotLintTapRunner.java:277)
	at uk.ac.starlink.ttools.taplint.VotLintTapRunner.readResultDocument(VotLintTapRunner.java:205)
	at uk.ac.starlink.ttools.taplint.VotLintTapRunner.executeQuery(VotLintTapRunner.java:112)
	at uk.ac.starlink.ttools.taplint.TapRunner.attemptGetResultTable(TapRunner.java:79)
	at uk.ac.starlink.ttools.taplint.TapSchemaStage$LintTapSchemaInterrogator.executeQuery(TapSchemaStage.java:285)
	... 9 more
I-TMS-QSUB-9 Submitting query: SELECT from_column, target_column, key_id FROM TAP_SCHEMA.key_columns
I-TMS-QGET-9 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/783266/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+from_column%2C+target_column%2C+key_id+FROM+TAP_SCHEMA.key_columns&MAXREC=99248
W-TMS-NOCT-1 No Content-Type header for http://tap.metagrid.xyz/firethorn/tap/783266/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+from_column%2C+target_column%2C+key_id+FROM+TAP_SCHEMA.key_columns&MAXREC=99248
I-TMS-VVNL-1 Undeclared VOTable version; assuming v1.2
E-TMS-VOCX-1 (l.1, c.1): Content is not allowed in prolog.
E-TMS-KCIO-1 Error reading TAP_SCHEMA.key_columns table [Result parse error: Content is not allowed in prolog.]
java.io.IOException: Result parse error: Content is not allowed in prolog.
	at uk.ac.starlink.ttools.taplint.TapSchemaStage$LintTapSchemaInterrogator.executeQuery(TapSchemaStage.java:288)
	at uk.ac.starlink.vo.TapSchemaInterrogator$MetaQuerier.query(TapSchemaInterrogator.java:730)
	at uk.ac.starlink.vo.TapSchemaInterrogator$MetaQuerier.readMap(TapSchemaInterrogator.java:642)
	at uk.ac.starlink.vo.TapSchemaInterrogator.readMap(TapSchemaInterrogator.java:208)
	at uk.ac.starlink.ttools.taplint.TapSchemaStage.readTableMetadata(TapSchemaStage.java:87)
	at uk.ac.starlink.ttools.taplint.TableMetadataStage.run(TableMetadataStage.java:85)
	at uk.ac.starlink.ttools.taplint.TapSchemaStage.run(TapSchemaStage.java:45)
	at uk.ac.starlink.ttools.taplint.TapLinter$4.execute(TapLinter.java:214)
	at uk.ac.starlink.ttools.task.LineInvoker.invoke(LineInvoker.java:294)
	at uk.ac.starlink.ttools.Stilts.main(Stilts.java:45)
Caused by: org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 1; Content is not allowed in prolog.
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1239)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:643)
	at uk.ac.starlink.ttools.taplint.VotLintTapRunner.readResultDocument(VotLintTapRunner.java:277)
	at uk.ac.starlink.ttools.taplint.VotLintTapRunner.readResultDocument(VotLintTapRunner.java:205)
	at uk.ac.starlink.ttools.taplint.VotLintTapRunner.executeQuery(VotLintTapRunner.java:112)
	at uk.ac.starlink.ttools.taplint.TapRunner.attemptGetResultTable(TapRunner.java:79)
	at uk.ac.starlink.ttools.taplint.TapSchemaStage$LintTapSchemaInterrogator.executeQuery(TapSchemaStage.java:285)
	... 9 more
S-TMS-SUMM-1 Schemas: 27, Tables: 1895, Columns: 0, Foreign Keys: 0
S-TMS-FLGS-1 Standard column flags: indexed: 0, principal: 0, std: 0
S-TMS-QNUM-1 Successful/submitted TAP queries: 11/13
S-TMS-QTIM-1 Average successful query time: 3.0s
I-TMS-QSUB-x (4 more)
I-TMS-QGET-x (4 more)

Section TMC: Compare table metadata from /tables and TAP_SCHEMA
F-TMC-NOTM-1 Don't have two metadata sets to compare (earlier stages failed/skipped?)

Section CPV: Validate capabilities against XML schema
I-CPV-VURL-1 Validating http://tap.metagrid.xyz/firethorn/tap/783266/capabilities as capabilities (http://www.ivoa.net/xml/VOSICapabilities/v1.0)
S-CPV-VALI-1 SAX report: warnings 0, errors 0, fatal 0

Section CAP: Check content of TAPRegExt capabilities record
I-CAP-CURL-1 Reading capability metadata from http://tap.metagrid.xyz/firethorn/tap/783266/capabilities

Section AVV: Validate availability against XML schema
I-AVV-VURL-1 Validating http://tap.metagrid.xyz/firethorn/tap/783266/availability as availability (http://www.ivoa.net/xml/VOSIAvailability/v1.0)
S-AVV-VALI-1 SAX report: warnings 0, errors 0, fatal 0

Section QGE: Make ADQL queries in sync GET mode
F-QGE-ZCOL-1 No columns known for UKIDSSDR1PLUS.udsListRemeasurement, can't make column queries
F-QGE-ZCOL-2 No columns known for UKIDSSDR1PLUS.udsMergeLog, can't make column queries
F-QGE-ZCOL-3 No columns known for UKIDSSDR1PLUS.udsSource, can't make column queries
I-QGE-DUFF-1 Submitting duff query: DUFF QUERY
I-QGE-QGET-1 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/783266/sync?REQUEST=doQuery&LANG=ADQL&QUERY=DUFF+QUERY
S-QGE-QNUM-1 Successful/submitted TAP queries: 0/0

Section QPO: Make ADQL queries in sync POST mode
F-QPO-ZCOL-1 No columns known for UKIDSSDR1PLUS.udsListRemeasurement, can't make column queries
F-QPO-ZCOL-2 No columns known for UKIDSSDR1PLUS.udsMergeLog, can't make column queries
F-QPO-ZCOL-3 No columns known for UKIDSSDR1PLUS.udsSource, can't make column queries
I-QPO-DUFF-1 Submitting duff query: DUFF QUERY
S-QPO-QNUM-1 Successful/submitted TAP queries: 0/0

Section QAS: Make ADQL queries in async mode
F-QAS-ZCOL-1 No columns known for UKIDSSDR1PLUS.udsListRemeasurement, can't make column queries
F-QAS-ZCOL-2 No columns known for UKIDSSDR1PLUS.udsMergeLog, can't make column queries
F-QAS-ZCOL-3 No columns known for UKIDSSDR1PLUS.udsSource, can't make column queries
I-QAS-DUFF-1 Submitting duff query: DUFF QUERY
I-QAS-QJOB-1 Submitted query at http://tap.metagrid.xyz/firethorn/tap/783266/async/1615486
S-QAS-QNUM-1 Successful/submitted TAP queries: 0/0

Section UWS: Test asynchronous UWS/TAP behaviour
I-UWS-CJOB-1 Created new job http://tap.metagrid.xyz/firethorn/tap/783266/async/1615487
I-UWS-POPA-1 POSTed runId=TAPLINT-002 to http://tap.metagrid.xyz/firethorn/tap/783266/async/1615487/parameters
I-UWS-POPA-2 POSTed PHASE=ABORT to http://tap.metagrid.xyz/firethorn/tap/783266/async/1615487/phase
I-UWS-POPA-3 POSTed ACTION=DELETE to http://tap.metagrid.xyz/firethorn/tap/783266/async/1615487
I-UWS-CJOB-2 Created new job http://tap.metagrid.xyz/firethorn/tap/783266/async/1615488
I-UWS-CJOB-3 Created new job http://tap.metagrid.xyz/firethorn/tap/783266/async/1615489
W-UWS-TFMT-1 Not ISO-8601 content "" from http://tap.metagrid.xyz/firethorn/tap/783266/async/1615489/destruction
I-UWS-POPA-4 POSTed PHASE=RUN to http://tap.metagrid.xyz/firethorn/tap/783266/async/1615489/phase
I-UWS-JOFI-1 Job completed immediately - can't test phase progression

Section MDQ: Check table query result columns against declared metadata
I-MDQ-QSUB-1 Submitting query: SELECT TOP 1 * FROM BestDR1.Best2Sector
E-MDQ-CLRD-1 SELECT * for table BestDR1.Best2Sector returns 2 undeclared columns: objID, regionID
I-MDQ-QSUB-2 Submitting query: SELECT TOP 1 * FROM BestDR1.Chunk
E-MDQ-CLRD-2 SELECT * for table BestDR1.Chunk returns 8 undeclared columns: chunkID, skyVersion, targetVersion, startMu, endMu, stripe, exportVersion, loadVersion
I-MDQ-QSUB-3 Submitting query: SELECT TOP 1 * FROM BestDR1.DBColumns
E-MDQ-CLRD-3 SELECT * for table BestDR1.DBColumns returns 6 undeclared columns: tablename, name, unit, ucd, enum, description
I-MDQ-QSUB-4 Submitting query: SELECT TOP 1 * FROM BestDR1.DBObjectDescription

Out of memory
Requested array size exceeds VM limit
Try increasing heap memory (-Xmx flag)


## Same issues as before

		
## Get /tables
## wget http://tap.metagrid.xyz/firethorn/tap/783266/tables

...
                <description><![CDATA[Covariance in E2/E2 shape measure]]></description>
                        <ucd>??</ucd>
                        
                            <dataType arraysize='*' xsi:type="vs:VOTableType">float</dataType>
                            
            </column>
            
            <column>
           		        
					 <name>mRrCc_u</name>
				
                <description><![CDATA[Adaptive (&lt;r^2&gt; + &lt;c^2&gt;)]]></description>
                        <ucd>stat.covariance</ucd>
                        
                            <dataType arraysize='*' xsi:type="vs:VOTableType">float</dataType>
                            
            </column>
            
            <column>
           		        
					 <name>mRrCc_g</name>
				
                <description><![CDATA[Adaptive (&lt;r^2&gt; + &lt;c^2&gt;)]]></description>

## XML ends prematurely..



## VOTable of Synchronous query that failed above, also seems to end prematurely

## http://tap.metagrid.xyz/firethorn/tap/783266/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+ft_column_id%2C+std%2C+indexed%2C+principal%2C+ts_column_id%2C+datatype%2C+utype%2C+ucd%2C+unit%2C+description%2C+column_name%2C+table_name+FROM+TAP_SCHEMA.columns&MAXREC=99248

## wget http://tap.metagrid.xyz/firethorn/adql/table/1616515/votable
..
.TilingBoundary</TD></TR><TR><TD>1275250</TD><TD>0</TD><TD>0</TD><TD>0</TD><TD>9157</TD><TD>double</TD><TD></TD><TD>??</TD><TD>deg</TD><TD>first lower bound</TD><TD>lambdamu_0</TD><TD>BestDR5.TilingBoundary</TD></TR><TR><TD>1275251</TD><TD>0</TD><TD>0</TD><TD>0</TD><TD>9158</TD><TD>double</TD><TD></TD><TD>??</TD><TD>deg</TD><TD>first upper bound</TD><TD>lambdamu_1</TD><TD>BestDR5.Tili




## http://tap.metagrid.xyz/firethorn/tap/783266/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+from_column%2C+target_column%2C+key_id+FROM+TAP_SCHEMA.key_columns&MAXREC=99248
## Result doesn't match what the error is stating
## Content-Type is text/xml;charset=UTF-8, version is declared etc..
## Perhaps when taplint is doing the +request, it returns prematurely


########################### Test failed ################################### 






## Testing VSA (http://tap.metagrid.xyz/firethorn/tap/783269)

stelios@stelios-pc:~$ java -Xmx4096m -jar stilts.jar -disk taplint tapurl=http://tap.metagrid.xyz/firethorn/tap/783269 debug=true
This is STILTS taplint, 3.1-4/a0c52d8 (2018-05-18)
Static report types: ERROR(123), WARNING(47), INFO(20), SUMMARY(9), FAILURE(21)

Section TMV: Validate table metadata against XML schema
I-TMV-VURL-1 Validating http://tap.metagrid.xyz/firethorn/tap/783269/tables as tableset (http://www.ivoa.net/xml/VODataService/v1.1)
S-TMV-VALI-1 SAX report: warnings 0, errors 0, fatal 0

Section TME: Check content of tables metadata from /tables
I-TME-TURL-1 Reading table metadata from http://tap.metagrid.xyz/firethorn/tap/783269/tables
S-TME-SUMM-1 Schemas: 41, Tables: 2549, Columns: 110426, Foreign Keys: 0
S-TME-FLGS-1 Standard column flags: indexed: 0, primary: 0, nullable: 0
S-TME-FLGO-1 Other column flags: none

Section TMS: Check content of tables metadata from TAP_SCHEMA
I-TMS-QSUB-1 Submitting query: SELECT COUNT(*) AS nr FROM TAP_SCHEMA.schemas
I-TMS-QGET-1 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/783269/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+COUNT%28*%29+AS+nr+FROM+TAP_SCHEMA.schemas
W-TMS-NOCT-1 No Content-Type header for http://tap.metagrid.xyz/firethorn/adql/table/1616523/votable
I-TMS-VVNL-1 Undeclared VOTable version; assuming v1.2
E-TMS-VOCX-1 (l.1, c.1): Content is not allowed in prolog.
E-TMS-QERX-1 TAP query result parse failed [Content is not allowed in prolog.]
org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 1; Content is not allowed in prolog.
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1239)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:643)
	at uk.ac.starlink.ttools.taplint.VotLintTapRunner.readResultDocument(VotLintTapRunner.java:277)
	at uk.ac.starlink.ttools.taplint.VotLintTapRunner.readResultDocument(VotLintTapRunner.java:205)
	at uk.ac.starlink.ttools.taplint.VotLintTapRunner.executeQuery(VotLintTapRunner.java:112)
	at uk.ac.starlink.ttools.taplint.TapRunner.attemptGetResultTable(TapRunner.java:79)
	at uk.ac.starlink.ttools.taplint.TapRunner.getResultTable(TapRunner.java:51)
	at uk.ac.starlink.ttools.taplint.TapSchemaStage.getRowCount(TapSchemaStage.java:197)
	at uk.ac.starlink.ttools.taplint.TapSchemaStage.getMetaMaxrec(TapSchemaStage.java:172)
	at uk.ac.starlink.ttools.taplint.TapSchemaStage.readTableMetadata(TapSchemaStage.java:61)
	at uk.ac.starlink.ttools.taplint.TableMetadataStage.run(TableMetadataStage.java:85)
	at uk.ac.starlink.ttools.taplint.TapSchemaStage.run(TapSchemaStage.java:45)
	at uk.ac.starlink.ttools.taplint.TapLinter$4.execute(TapLinter.java:214)
	at uk.ac.starlink.ttools.task.LineInvoker.invoke(LineInvoker.java:294)
	at uk.ac.starlink.ttools.Stilts.main(Stilts.java:45)
I-TMS-QSUB-2 Submitting query: SELECT COUNT(*) AS nr FROM TAP_SCHEMA.tables
I-TMS-QGET-2 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/783269/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+COUNT%28*%29+AS+nr+FROM+TAP_SCHEMA.tables
I-TMS-QSUB-3 Submitting query: SELECT COUNT(*) AS nr FROM TAP_SCHEMA.columns
I-TMS-QGET-3 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/783269/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+COUNT%28*%29+AS+nr+FROM+TAP_SCHEMA.columns
I-TMS-QSUB-4 Submitting query: SELECT COUNT(*) AS nr FROM TAP_SCHEMA.keys
I-TMS-QGET-4 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/783269/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+COUNT%28*%29+AS+nr+FROM+TAP_SCHEMA.keys
I-TMS-QSUB-5 Submitting query: SELECT COUNT(*) AS nr FROM TAP_SCHEMA.key_columns
I-TMS-QGET-5 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/783269/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+COUNT%28*%29+AS+nr+FROM+TAP_SCHEMA.key_columns
I-TMS-QSUB-6 Submitting query: SELECT principal, indexed, std, "size" FROM TAP_SCHEMA.columns
I-TMS-QGET-6 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/783269/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+principal%2C+indexed%2C+std%2C+%22size%22+FROM+TAP_SCHEMA.columns&MAXREC=110436
I-TMS-QSUB-7 Submitting query: SELECT TOP 1 * FROM TAP_SCHEMA.columns
I-TMS-QGET-7 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/783269/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+TOP+1+*+FROM+TAP_SCHEMA.columns&MAXREC=1
I-TMS-QSUB-8 Submitting query: SELECT ts_column_id, table_name, column_name, description, unit, ucd, utype, datatype, principal, indexed, std, ft_column_id FROM TAP_SCHEMA.columns
I-TMS-QGET-8 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/783269/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+ts_column_id%2C+table_name%2C+column_name%2C+description%2C+unit%2C+ucd%2C+utype%2C+datatype%2C+principal%2C+indexed%2C+std%2C+ft_column_id+FROM+TAP_SCHEMA.columns&MAXREC=110436
I-TMS-QSUB-9 Submitting query: SELECT from_column, target_column, key_id FROM TAP_SCHEMA.key_columns
I-TMS-QGET-9 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/783269/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+from_column%2C+target_column%2C+key_id+FROM+TAP_SCHEMA.key_columns&MAXREC=110436
S-TMS-SUMM-1 Schemas: 41, Tables: 2549, Columns: 110426, Foreign Keys: 0
S-TMS-FLGS-1 Standard column flags: indexed: 0, principal: 7, std: 33
S-TMS-QNUM-1 Successful/submitted TAP queries: 12/13
S-TMS-QTIM-1 Average successful query time: 4.5s
I-TMS-QSUB-x (4 more)
I-TMS-QGET-x (4 more)

Section TMC: Compare table metadata from /tables and TAP_SCHEMA

Section CPV: Validate capabilities against XML schema
I-CPV-VURL-1 Validating http://tap.metagrid.xyz/firethorn/tap/783269/capabilities as capabilities (http://www.ivoa.net/xml/VOSICapabilities/v1.0)
S-CPV-VALI-1 SAX report: warnings 0, errors 0, fatal 0

Section CAP: Check content of TAPRegExt capabilities record
I-CAP-CURL-1 Reading capability metadata from http://tap.metagrid.xyz/firethorn/tap/783269/capabilities

Section AVV: Validate availability against XML schema
I-AVV-VURL-1 Validating http://tap.metagrid.xyz/firethorn/tap/783269/availability as availability (http://www.ivoa.net/xml/VOSIAvailability/v1.0)
S-AVV-VALI-1 SAX report: warnings 0, errors 0, fatal 0

Section QGE: Make ADQL queries in sync GET mode
I-QGE-QSUB-1 Submitting query: SELECT TOP 10 programmeID FROM VVVDR4.ProgrammeFrame
I-QGE-QGET-1 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/783269/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+TOP+10+programmeID+FROM+VVVDR4.ProgrammeFrame
I-QGE-QSUB-2 Submitting query: SELECT programmeID FROM VVVDR4.ProgrammeFrame
I-QGE-QGET-2 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/783269/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+programmeID+FROM+VVVDR4.ProgrammeFrame&MAXREC=9
I-QGE-QSUB-3 Submitting query: SELECT TOP 1 programmeID FROM VVVDR4.ProgrammeFrame
I-QGE-QGET-3 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/783269/sync?REQUEST=doQuery&LANG=ADQL-2.0&QUERY=SELECT+TOP+1+programmeID+FROM+VVVDR4.ProgrammeFrame
I-QGE-QSUB-4 Submitting query: SELECT TOP 1 programmeID FROM VVVDR4.ProgrammeFrame
I-QGE-QGET-4 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/783269/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+TOP+1+programmeID+FROM+VVVDR4.ProgrammeFrame
I-QGE-QSUB-5 Submitting query: SELECT TOP 8 method, wcs AS taplint_c_2, V.filter2, filter1 AS taplint_c_4, productID, V.programmeID AS taplint_c_6 FROM VVVDR4.RequiredDiffImage AS V
I-QGE-QGET-5 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/783269/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+TOP+8+method%2C+wcs+AS+taplint_c_2%2C+V.filter2%2C+filter1+AS+taplint_c_4%2C+productID%2C+V.programmeID+AS+taplint_c_6++FROM+VVVDR4.RequiredDiffImage+AS+V
I-QGE-QSUB-6 Submitting query: SELECT elRedShiftID FROM BestDR1.ELRedShift
I-QGE-QGET-6 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/783269/sync?REQUEST=doQuery&LANG=ADQL&QUERY=SELECT+elRedShiftID+FROM+BestDR1.ELRedShift&MAXREC=0
I-QGE-DUFF-1 Submitting duff query: DUFF QUERY
I-QGE-QGET-7 Query GET URL: http://tap.metagrid.xyz/firethorn/tap/783269/sync?REQUEST=doQuery&LANG=ADQL&QUERY=DUFF+QUERY
S-QGE-QNUM-1 Successful/submitted TAP queries: 6/6
S-QGE-QTIM-1 Average successful query time: 1.7s

Section QPO: Make ADQL queries in sync POST mode
I-QPO-QSUB-1 Submitting query: SELECT TOP 10 programmeID FROM VVVDR4.ProgrammeFrame
I-QPO-QSUB-2 Submitting query: SELECT programmeID FROM VVVDR4.ProgrammeFrame
I-QPO-QSUB-3 Submitting query: SELECT TOP 8 method, wcs AS taplint_c_2, V.filter2, filter1 AS taplint_c_4, productID, V.programmeID AS taplint_c_6 FROM VVVDR4.RequiredDiffImage AS V
I-QPO-QSUB-4 Submitting query: SELECT elRedShiftID FROM BestDR1.ELRedShift
I-QPO-DUFF-1 Submitting duff query: DUFF QUERY
S-QPO-QNUM-1 Successful/submitted TAP queries: 4/4
S-QPO-QTIM-1 Average successful query time: 1.3s

Section QAS: Make ADQL queries in async mode
I-QAS-QSUB-1 Submitting query: SELECT TOP 10 programmeID FROM VVVDR4.ProgrammeFrame
I-QAS-QJOB-1 Submitted query at http://tap.metagrid.xyz/firethorn/tap/783269/async/1617423


## Times out here..

########################### Test failed ################################### 

#
# <meta:header>
#   <meta:licence>
#     Copyright (c) 2018, ROE (http://www.roe.ac.uk/)
#
#     This information is free software: you can redistribute it and/or modify
#     it under the terms of the GNU General Public License as published by
#     the Free Software Foundation, either version 3 of the License, or
#     (at your option) any later version.
#
#     This information is distributed in the hope that it will be useful,
#     but WITHOUT ANY WARRANTY; without even the implied warranty of
#     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#     GNU General Public License for more details.
#
#     You should have received a copy of the GNU General Public License
#     along with this program.  If not, see <http://www.gnu.org/licenses/>.
#   </meta:licence>
# </meta:header>
#
#

    #
    # We have added the first ChaosMonkey code.
    # Need to find a way of triggering it ...


# -----------------------------------------------------
# Standard Python test ...
#[root@firethorn-py]

import os
import time
import firethorn as ftpy

#
# Create our firethorn client (using named param).
firethorn = ftpy.Firethorn(
    endpoint = os.environ.get(
        'endpoint'
        )
    )

#
# Login as the admin account.
firethorn.login(
    os.environ.get('adminuser'),
    os.environ.get('adminpass'),
    os.environ.get('admingroup')
    )

#
# Create a JdbcResource to connect to the ATLAS database.
atlas_jdbc = firethorn.firethorn_engine.create_jdbc_resource(
    "ATLAS JDBC resource",
    os.environ.get('datadata'),
    '*',
    os.environ.get('datatype'),
    os.environ.get('datahost'),
    os.environ.get('datauser'),
    os.environ.get('datapass')
    )
print(
    atlas_jdbc
    )

#
# Create an AdqlResource to represent the JdbcResource.
atlas_adql = firethorn.firethorn_engine.create_adql_resource(
    "ATLAS ADQL resource"
    )
print(
    atlas_adql
    )

#
# Import the target JdbcSchema into AdqlSchema.
schema_names = [
    "ATLASDR1"
    ]

for schema_name in schema_names:
    print(schema_name)
    jdbc_schema = atlas_jdbc.select_schema_by_name(
        schema_name,
        "dbo"
        )
    if (None != jdbc_schema):
        metadoc="https://raw.githubusercontent.com/wfau/metadata/master/metadocs/" + schema_name + "_TablesSchema.xml"
        adql_schema = atlas_adql.import_jdbc_schema(
            jdbc_schema,
            schema_name,
            metadoc=metadoc
            )

#
# Admin user
# -------- -------- -------- --------
# Normal user
#

#
# Login using our guest account.
firethorn.login(
    'Hyrax',
    'frobengle23',
    os.environ.get('guestgroup')
    )

#
# Create a new workspace.
workspace = firethorn.firethorn_engine.create_adql_resource(
    "Query resource"
    )

#
# Import the ATLAS schemas into our workspace
for schema in atlas_adql.select_schemas():
    workspace.import_adql_schema(
        schema
        )

#
# Create and run a query.
query_str = "SELECT TOP 1000 ra, dec FROM ATLASDR1.atlasSource"
query_obj = workspace.create_query(
    query_str,
    "COMPLETED",
    None,
    3000000
    )
print(
    query_obj
    )

print(
    query_obj.table()
    )
print(
    query_obj.table().count()
    )

# -----------------------------------------------------
# Hack the Python code to add an extra param ?
#[root@firethorn-py]

vi /home/firethorn-py/firethorn/core/query_engine.py

    def create_query(self, ....)

        urlenc.update(
                {
                "uk.ac.roe.wfau.firethorn.ogsadai.activity.server.sql.SQLQueryActivity" : "uche2aNa"
                }
            )

    +   urlenc.update({"firethorn.monkey.name" : "uk.ac.roe.wfau.firethorn.ogsadai.activity.server.sql.SQLQueryActivity"})
    +   urlenc.update({"firethorn.monkey.data" : "uche2aNa"})

pip3 install /home/firethorn-py

# -----------------------------------------------------
# Actually, we can just provide params to workspace.create_query()
#[root@firethorn-py]

params = {}
params.update({"firethorn.monkey.name" : "uk.ac.roe.wfau.firethorn.ogsadai.activity.server.sql.SQLQueryActivity"})
params.update({"firethorn.monkey.data" : "uche2aNa"})

print(
    params
    )

query_obj = workspace.create_query(
    query_str,
    "COMPLETED",
    None,
    3000000,
    params=params
    )
print(
    query_obj
    )

# -----------------------------------------------------
# Client params trigger an Exception in OGSA-DAI code.

    2018-08-16 11:35:45,770 DEBUG sql.SQLQueryActivity [pool-1-thread-4,processIteration:263] Initialising query
    2018-08-16 11:35:45,770 DEBUG sql.SQLQueryActivity [pool-1-thread-4,processIteration:275] Checking monkey
    2018-08-16 11:35:45,770 DEBUG sql.SQLQueryActivity [pool-1-thread-4,processIteration:278] Monkey params match - invoking ChaosMonkey
    2018-08-16 11:35:45,771 DEBUG activity.MatchedIterativeActivity [pool-1-thread-4,debug:84] performing clean-up
    2018-08-16 11:35:45,768 DEBUG event.LoggingActivityListener [pool-1-thread-5,debug:84] COMPLETED: Activity uk.ac.roe.wfau.firethorn.Context (instance name = uk.ac.roe.wfau.firethorn.Context-ogsadai-0929a629-5b48-4ba5-b30b-6ac498a61aa1)
    2018-08-16 11:35:45,772 DEBUG event.LoggingActivityListener [pool-1-thread-3,debug:84] PROCESSING: Activity uk.org.ogsadai.DeliverToRequestStatus (instance name = uk.org.ogsadai.DeliverToRequestStatus-ogsadai-6576827c-4fd3-4ab8-a7d7-b309d1cd38f6)
    2018-08-16 11:35:45,768 DEBUG activity.MatchedIterativeActivity [pool-1-thread-2,debug:84] performing first stage of processing
    2018-08-16 11:35:45,772 DEBUG data.LimitsActivity [pool-1-thread-2,preprocess:144] preprocess()
    2018-08-16 11:35:45,773 DEBUG activity.MatchedIterativeActivity [pool-1-thread-2,debug:84] performing iterative stage of processing
    2018-08-16 11:35:45,773 DEBUG event.LoggingActivityListener [pool-1-thread-4,debug:84] uk.org.ogsadai.activity.sql.ActivitySQLUserException: The activity encountered a problem while interacting with a relational database.
	    at uk.ac.roe.wfau.firethorn.ogsadai.activity.server.sql.SQLQueryActivity.processIteration(SQLQueryActivity.java:332)
	    at uk.org.ogsadai.activity.MatchedIterativeActivity.process(MatchedIterativeActivity.java:90)
	    at uk.org.ogsadai.activity.event.EventfulActivity.process(EventfulActivity.java:78)
	    at uk.org.ogsadai.activity.concurrency.ActivityProcessingTask.call(ActivityProcessingTask.java:81)
	    at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	    at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	    at java.lang.Thread.run(Thread.java:748)
    Caused by: java.sql.SQLException: ChaosMonkey [uk.ac.roe.wfau.firethorn.ogsadai.activity.server.sql.SQLQueryActivity][uche2aNa]
	    at uk.ac.roe.wfau.firethorn.ogsadai.activity.server.sql.SQLQueryActivity.processIteration(SQLQueryActivity.java:280)
	    ... 9 more

    #
    # This isn't quite the same as the original.
    # The query status is set to FAILED, but nothng is added to the query history (separate issue).
    #

# -----------------------------------------------------
# Compared to original exception ..

    2018-08-10 09:39:41,958 WARN  activity.MatchedIterativeActivity [pool-1-thread-3949,warnExceptionAndChildren:343] #1533893981957:654825# java.sql.SQLException: Invalid state, the Connection object is closed.
    2018-08-10 09:39:41,958 DEBUG event.LoggingActivityListener [pool-1-thread-3949,debug:84] uk.org.ogsadai.activity.sql.ActivitySQLUserException: The activity encountered a problem while interacting with a relational database.
            at uk.ac.roe.wfau.firethorn.ogsadai.activity.server.sql.SQLQueryActivity.processIteration(SQLQueryActivity.java:293)

    #
    # We need to go back to the live server logs to find out more information about the original exception.
    #


# -----------------------------------------------------
# Back to the live server ..
#[user@desktop]

    ssh root@Gworewia

# -----------------------------------------------------
# Back to the live server ..
#[root@virtual]

#----------------------------------------------------------------
# Locate the ogsadai container logs.
#[root@Gworewia]

    docker ps -a

        CONTAINER ID        IMAGE                        COMMAND                  CREATED             STATUS                    PORTS                    NAMES
        c6687035a4f5        firethorn-py                 "bash"                   2 months ago        Exited (0) 2 months ago                            root_firethorn-py_run_1
        58e622aa6ad0        firethorn/firethorn:2.1.23   "/bin/sh -c '/var/..."   2 months ago        Up 18 hours (healthy)     0.0.0.0:8080->8080/tcp   root_gillian_1
        abe5ffa5e554        firethorn/postgres:2.1.23    "docker-entrypoint..."   2 months ago        Up 2 months               5432/tcp                 root_carolina_1
        9a8db568afa2        firethorn/postgres:2.1.23    "docker-entrypoint..."   2 months ago        Up 2 months               5432/tcp                 root_bethany_1
        251da737dc98        firethorn/ogsadai:2.1.23     "/bin/sh -c '/var/..."   2 months ago        Up 2 months (healthy)     8080/tcp                 root_jarmila_1

    container=root_jarmila_1

    pushd $(
        docker inspect \
            "${container:?}" \
      | jq -r '
            .[].Mounts | .[] | select(.Destination == "/var/local/tomcat/logs") | .Source
            '
            )

        tail -f ogsadai.log

        #
        # Make a copy of the original log.
        cp ogsadai.log ogsadai.bak

        #
        # Truncate the active log.
        echo '' > ogsadai.log

        #
        # Remove corrupted data from the head of the file.
        sed '
            1,/^2018-08-10 09/ d
            ' ogsadai.bak \
        > 'ogsadai-20180810.log'

        #
        # Edit the file ....
        vi 'ogsadai-20180810.log'


    #
    # Not found a conclusive log entry for the issue yet ..
    #


    container=root_gillian_1
    pushd $(
        docker inspect \
            "${container:?}" \
      | jq -r '
            .[].Mounts | .[] | select(.Destination == "/var/local/tomcat/logs") | .Source
            '
            )

        tail -f firethorn.log




#----------------------------------------------------------------
# Try to reproduce the issue on the live server.
#[root@Gworewia]

    curl -s -v 'http://tap.roe.ac.uk/osa/sync?QUERY=SELECT+TOP+10+%2A+FROM+ATLASDR3.atlasSource&REQUEST=doQuery&LANG=ADQL&FORMAT=VOTABLE'

        *   Trying 129.215.175.100...
        * Connected to tap.roe.ac.uk (129.215.175.100) port 80 (#0)
        > GET /osa/sync?QUERY=SELECT+TOP+10+sourceID+FROM+ATLASDR3.atlasSource&REQUEST=doQuery&LANG=ADQL&FORMAT=VOTABLE HTTP/1.1
        > Host: tap.roe.ac.uk
        > User-Agent: curl/7.43.0
        > Accept: */*
        >
        < HTTP/1.1 303
        < Date: Thu, 16 Aug 2018 13:48:47 GMT
        < Server: Apache/2.4.7 (Ubuntu)
        < X-Clacks-Overhead: GNU Terry Pratchett
        < Location: http://tap.roe.ac.uk/firethorn/adql/table/21077811/votable
        < firethorn.auth.identity: http://tap.roe.ac.uk/firethorn/community-member/21077292
        < firethorn.auth.username: anon-EPBFLCBLYW2HIAAAAFSUF7XBI4
        < firethorn.auth.community: friends
        < Content-Type: text/xml;charset=ISO-8859-1
        < Content-Length: 68
        <
        * Connection #0 to host tap.roe.ac.uk left intact

    curl -s -v 'http://tap.roe.ac.uk/osa/sync?QUERY=SELECT+TOP+10+%2A+FROM+TWOXMM.twoxmm&REQUEST=doQuery&LANG=ADQL&FORMAT=VOTABLE'

        2018-08-16 13:50:22,682 DEBUG sql.SQLQueryActivity [pool-1-thread-17,processIteration:234] Initialising query
        2018-08-16 13:50:22,682 DEBUG sql.SQLQueryActivity [pool-1-thread-17,processIteration:246] Executing query
        2018-08-16 13:50:22,682 DEBUG sql.SQLQueryActivity [pool-1-thread-17,debug:84] Creating CallableStatement for query
        2018-08-16 13:50:22,682 DEBUG sql.SQLQueryActivity [pool-1-thread-17,debug:84] Submitting CallableStatement to ExecutorService
        2018-08-16 13:50:22,681 DEBUG activity.MatchedIterativeActivity [pool-1-thread-18,debug:84] performing iterative stage of processing
        2018-08-16 13:50:22,691 DEBUG context.RequestContextFactory [http-nio-8080-exec-2,createContext:60] createContext(HttpServletRequest)
        2018-08-16 13:50:22,691 DEBUG context.RequestContextFactory [http-nio-8080-exec-2,createContext:62] remote [172.20.0.5]
        2018-08-16 13:50:22,695 DEBUG sql.SQLQueryActivity [pool-1-thread-17,debug:84] Initiating CallableStatement and starting background execution
        2018-08-16 13:50:24,241 DEBUG sql.SQLQueryActivity [pool-1-thread-17,debug:84] CallableStatement encountered problem in query execution
        2018-08-16 13:50:24,242 DEBUG activity.MatchedIterativeActivity [pool-1-thread-17,debug:84] performing clean-up
        2018-08-16 13:50:24,243 WARN  activity.MatchedIterativeActivity [pool-1-thread-17,warnExceptionAndChildren:343] #1534427424243:111# There was a problem cleaning up the activity instance (activity name uk.org.ogsadai.SQLQuery, instance name uk.org.ogsadai.SQLQuery-ogsadai-68d763f6-dbfd-41f8-91ad-fe767cb90325).
        2018-08-16 13:50:24,243 WARN  activity.MatchedIterativeActivity [pool-1-thread-17,warnExceptionAndChildren:343] #1534427424243:111# java.sql.SQLException: Invalid state, the Connection object is closed.
        2018-08-16 13:50:24,244 DEBUG event.LoggingActivityListener [pool-1-thread-17,debug:84] uk.org.ogsadai.activity.sql.ActivitySQLUserException: The activity encountered a problem while interacting with a relational database.
	        at uk.ac.roe.wfau.firethorn.ogsadai.activity.server.sql.SQLQueryActivity.processIteration(SQLQueryActivity.java:293)
	        at uk.org.ogsadai.activity.MatchedIterativeActivity.process(MatchedIterativeActivity.java:90)
	        at uk.org.ogsadai.activity.event.EventfulActivity.process(EventfulActivity.java:78)
	        at uk.org.ogsadai.activity.concurrency.ActivityProcessingTask.call(ActivityProcessingTask.java:81)
	        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	        at java.lang.Thread.run(Thread.java:748)
        Caused by: java.sql.SQLException: Warning: Fatal error 823 occurred at Aug 16 2018  2:51PM. Note the error and time, and contact your system administrator.
	        at net.sourceforge.jtds.jdbc.SQLDiagnostic.addDiagnostic(SQLDiagnostic.java:372)
	        at net.sourceforge.jtds.jdbc.TdsCore.tdsErrorToken(TdsCore.java:2988)
	        at net.sourceforge.jtds.jdbc.TdsCore.nextToken(TdsCore.java:2421)
	        at net.sourceforge.jtds.jdbc.TdsCore.getMoreResults(TdsCore.java:671)
	        at net.sourceforge.jtds.jdbc.JtdsStatement.executeSQLQuery(JtdsStatement.java:505)
	        at net.sourceforge.jtds.jdbc.JtdsStatement.executeQuery(JtdsStatement.java:1427)
	        at org.apache.commons.dbcp.DelegatingStatement.executeQuery(DelegatingStatement.java:208)
	        at org.apache.commons.dbcp.DelegatingStatement.executeQuery(DelegatingStatement.java:208)
	        at uk.org.ogsadai.activity.sql.CallableStatement.call(CallableStatement.java:66)
	        at uk.org.ogsadai.activity.sql.CallableStatement.call(CallableStatement.java:30)
	        ... 4 more

        2018-08-16 13:50:24,245 WARN  event.LoggingActivityListener [pool-1-thread-17,warnExceptionAndChildren:343] #1534427424242:110# A problem has occurred during processing of activity uk.org.ogsadai.SQLQuery with instance name uk.org.ogsadai.SQLQuery-ogsadai-68d763f6-dbfd-41f8-91ad-fe767cb90325.
        2018-08-16 13:50:24,245 WARN  event.LoggingActivityListener [pool-1-thread-17,warnExceptionAndChildren:343] #1534427424242:110# The activity encountered a problem while interacting with a relational database.
        2018-08-16 13:50:24,246 WARN  event.LoggingActivityListener [pool-1-thread-17,warnExceptionAndChildren:343] #1534427424242:110# java.sql.SQLException: Warning: Fatal error 823 occurred at Aug 16 2018  2:51PM. Note the error and time, and contact your system administrator.
        2018-08-16 13:50:24,247 DEBUG activity.MatchedIterativeActivity [pool-1-thread-16,debug:84] performing clean-up
        2018-08-16 13:50:24,247 DEBUG event.LoggingActivityListener [pool-1-thread-16,debug:84] uk.org.ogsadai.activity.io.DataError: The pipe has been closed due to an error that occurred at the data producer.
	        at uk.org.ogsadai.activity.io.BufferedPipe.read(BufferedPipe.java:154)
	        at uk.org.ogsadai.activity.event.EventfulPipe.read(EventfulPipe.java:118)
	        at uk.org.ogsadai.activity.io.TupleListActivityInput.read(TupleListActivityInput.java:77)
	        at uk.org.ogsadai.activity.MatchedIterativeActivity.performNextIteration(MatchedIterativeActivity.java:183)
	        at uk.org.ogsadai.activity.MatchedIterativeActivity.process(MatchedIterativeActivity.java:88)
	        at uk.org.ogsadai.activity.event.EventfulActivity.process(EventfulActivity.java:78)
	        at uk.org.ogsadai.activity.concurrency.ActivityProcessingTask.call(ActivityProcessingTask.java:81)
	        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	        at java.lang.Thread.run(Thread.java:748)

        2018-08-16 13:50:24,247 WARN  event.LoggingActivityListener [pool-1-thread-16,warnExceptionAndChildren:343] #1534427424247:114# A problem has occurred during processing of activity uk.ac.roe.wfau.firethorn.Delays with instance name uk.ac.roe.wfau.firethorn.Delays-ogsadai-e9431763-f2e1-48b9-b3b5-3a626274c716.
        2018-08-16 13:50:24,248 WARN  event.LoggingActivityListener [pool-1-thread-16,warnExceptionAndChildren:343] #1534427424247:114# The pipe has been closed due to an error that occurred at the data producer.
        2018-08-16 13:50:24,248 DEBUG activity.MatchedIterativeActivity [pool-1-thread-20,debug:84] performing clean-up
        2018-08-16 13:50:24,249 DEBUG event.LoggingActivityListener [pool-1-thread-20,debug:84] uk.org.ogsadai.activity.io.DataError: The pipe has been closed due to an error that occurred at the data producer.
	        at uk.org.ogsadai.activity.io.BufferedPipe.read(BufferedPipe.java:154)
	        at uk.org.ogsadai.activity.event.EventfulPipe.read(EventfulPipe.java:118)
	        at uk.org.ogsadai.activity.io.TupleListActivityInput.read(TupleListActivityInput.java:77)
	        at uk.org.ogsadai.activity.MatchedIterativeActivity.performNextIteration(MatchedIterativeActivity.java:183)
	        at uk.org.ogsadai.activity.MatchedIterativeActivity.process(MatchedIterativeActivity.java:88)
	        at uk.org.ogsadai.activity.event.EventfulActivity.process(EventfulActivity.java:78)
	        at uk.org.ogsadai.activity.concurrency.ActivityProcessingTask.call(ActivityProcessingTask.java:81)
	        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	        at java.lang.Thread.run(Thread.java:748)

        2018-08-16 13:50:24,249 WARN  event.LoggingActivityListener [pool-1-thread-20,warnExceptionAndChildren:343] #1534427424248:117# A problem has occurred during processing of activity uk.ac.roe.wfau.firethorn.Limits with instance name uk.ac.roe.wfau.firethorn.Limits-ogsadai-47bd21a8-afc8-43b4-a174-6bb0879553ab.
        2018-08-16 13:50:24,249 WARN  event.LoggingActivityListener [pool-1-thread-20,warnExceptionAndChildren:343] #1534427424248:117# The pipe has been closed due to an error that occurred at the data producer.
        2018-08-16 13:50:24,250 DEBUG activity.MatchedIterativeActivity [pool-1-thread-18,debug:84] performing clean-up
        2018-08-16 13:50:24,251 DEBUG event.LoggingActivityListener [pool-1-thread-18,debug:84] uk.org.ogsadai.activity.io.DataError: The pipe has been closed due to an error that occurred at the data producer.
	        at uk.org.ogsadai.activity.io.BufferedPipe.read(BufferedPipe.java:154)
	        at uk.org.ogsadai.activity.event.EventfulPipe.read(EventfulPipe.java:118)
	        at uk.org.ogsadai.activity.io.TupleListActivityInput.read(TupleListActivityInput.java:77)
	        at uk.org.ogsadai.activity.MatchedIterativeActivity.performNextIteration(MatchedIterativeActivity.java:183)
	        at uk.org.ogsadai.activity.MatchedIterativeActivity.process(MatchedIterativeActivity.java:88)
	        at uk.org.ogsadai.activity.event.EventfulActivity.process(EventfulActivity.java:78)
	        at uk.org.ogsadai.activity.concurrency.ActivityProcessingTask.call(ActivityProcessingTask.java:81)
	        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	        at java.lang.Thread.run(Thread.java:748)

        2018-08-16 13:50:24,252 WARN  event.LoggingActivityListener [pool-1-thread-18,warnExceptionAndChildren:343] #1534427424250:120# A problem has occurred during processing of activity uk.ac.roe.wfau.firethorn.JdbcInsertData with instance name uk.ac.roe.wfau.firethorn.JdbcInsertData-ogsadai-0dfed8ae-efb0-4dc1-ae97-c405624247ce.
        2018-08-16 13:50:24,252 WARN  event.LoggingActivityListener [pool-1-thread-18,warnExceptionAndChildren:343] #1534427424250:120# The pipe has been closed due to an error that occurred at the data producer.
        2018-08-16 13:50:24,253 DEBUG event.LoggingActivityListener [pool-1-thread-19,debug:84] uk.org.ogsadai.activity.io.DataError: The pipe has been closed due to an error that occurred at the data producer.
	        at uk.org.ogsadai.activity.io.BufferedPipe.read(BufferedPipe.java:154)
	        at uk.org.ogsadai.activity.event.EventfulPipe.read(EventfulPipe.java:118)
	        at uk.org.ogsadai.activity.delivery.DeliverToRequestStatusActivity.process(DeliverToRequestStatusActivity.java:138)
	        at uk.org.ogsadai.activity.event.EventfulActivity.process(EventfulActivity.java:78)
	        at uk.org.ogsadai.activity.concurrency.ActivityProcessingTask.call(ActivityProcessingTask.java:81)
	        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	        at java.lang.Thread.run(Thread.java:748)

        2018-08-16 13:50:24,253 WARN  event.LoggingActivityListener [pool-1-thread-19,warnExceptionAndChildren:343] #1534427424253:123# A problem has occurred during processing of activity uk.org.ogsadai.DeliverToRequestStatus with instance name uk.org.ogsadai.DeliverToRequestStatus-ogsadai-a1e13f8b-63c2-4bea-9b9e-bda136331053.
        2018-08-16 13:50:24,254 WARN  event.LoggingActivityListener [pool-1-thread-19,warnExceptionAndChildren:343] #1534427424253:123# The pipe has been closed due to an error that occurred at the data producer.



#----------------------------------------------------------------
# Try to reproduce the issue on the live server.
#[root@Gworewia]


    curl -s -v 'http://tap.roe.ac.uk/osa/sync?QUERY=SELECT+TOP+10+DETID+FROM+TWOXMM.twoxmm&REQUEST=doQuery&LANG=ADQL&FORMAT=VOTABLE'

    container=root_gillian_1
    pushd $(
        docker inspect \
            "${container:?}" \
      | jq -r '
            .[].Mounts | .[] | select(.Destination == "/var/local/tomcat/logs") | .Source
            '
            )
        tail -f firethorn.log


        2018-08-16 13:54:32,825 DEBUG [main-interface-114] [HttpRequestDebug] preHandle()
        2018-08-16 13:54:32,825 DEBUG [main-interface-114] [HttpRequestDebug] ----
        2018-08-16 13:54:32,825 DEBUG [main-interface-114] [HttpRequestDebug] Servlet
        2018-08-16 13:54:32,825 DEBUG [main-interface-114] [HttpRequestDebug]   scheme      [http]
        2018-08-16 13:54:32,825 DEBUG [main-interface-114] [HttpRequestDebug]   serverName  [tap.roe.ac.uk]
        2018-08-16 13:54:32,825 DEBUG [main-interface-114] [HttpRequestDebug]   serverPort  [80]
        2018-08-16 13:54:32,825 DEBUG [main-interface-114] [HttpRequestDebug]   serverPath  [/tap/61/sync]
        2018-08-16 13:54:32,825 DEBUG [main-interface-114] [HttpRequestDebug]   pathInfo    [null]
        2018-08-16 13:54:32,825 DEBUG [main-interface-114] [HttpRequestDebug]   pathTrans   [null]
        2018-08-16 13:54:32,825 DEBUG [main-interface-114] [HttpRequestDebug]   requestURI  [/firethorn/tap/61/sync]
        2018-08-16 13:54:32,825 DEBUG [main-interface-114] [HttpRequestDebug]   requestURL  [http://tap.roe.ac.uk/firethorn/tap/61/sync]
        2018-08-16 13:54:32,825 DEBUG [main-interface-114] [HttpRequestDebug]   protocol    [HTTP/1.1]
        2018-08-16 13:54:32,825 DEBUG [main-interface-114] [HttpRequestDebug]   queryString [QUERY=SELECT+TOP+10+DETID+FROM+TWOXMM.twoxmm&REQUEST=doQuery&LANG=ADQL&FORMAT=VOTABLE]
        2018-08-16 13:54:32,825 DEBUG [main-interface-114] [HttpRequestDebug]   authType    [null]
        2018-08-16 13:54:32,825 DEBUG [main-interface-114] [HttpRequestDebug]   remoteAddr  [192.168.201.13]
        2018-08-16 13:54:32,825 DEBUG [main-interface-114] [HttpRequestDebug]   remoteHost  [192.168.201.13]
        2018-08-16 13:54:32,825 DEBUG [main-interface-114] [HttpRequestDebug] ----
        2018-08-16 13:54:32,825 DEBUG [main-interface-114] [HttpRequestDebug] Headers
        2018-08-16 13:54:32,825 DEBUG [main-interface-114] [HttpRequestDebug]   [host][tap.roe.ac.uk]
        2018-08-16 13:54:32,825 DEBUG [main-interface-114] [HttpRequestDebug]   [user-agent][curl/7.43.0]
        2018-08-16 13:54:32,825 DEBUG [main-interface-114] [HttpRequestDebug]   [accept][*/*]
        2018-08-16 13:54:32,825 DEBUG [main-interface-114] [HttpRequestDebug]   [x-forwarded-for][81.187.247.196]
        2018-08-16 13:54:32,825 DEBUG [main-interface-114] [HttpRequestDebug]   [x-forwarded-host][tap.roe.ac.uk]
        2018-08-16 13:54:32,825 DEBUG [main-interface-114] [HttpRequestDebug]   [x-forwarded-server][tap.roe.ac.uk]
        2018-08-16 13:54:32,825 DEBUG [main-interface-114] [HttpRequestDebug]   [connection][Keep-Alive]
        2018-08-16 13:54:32,825 DEBUG [main-interface-114] [HttpRequestDebug] ----
        2018-08-16 13:54:32,826 DEBUG [main-interface-114] [HttpRequestDebug] Attributes
        2018-08-16 13:54:32,826 DEBUG [main-interface-114] [HttpRequestDebug]   [org.springframework.web.context.request.async.WebAsyncManager.WEB_ASYNC_MANAGER][org.springframewo...]
        2018-08-16 13:54:32,826 DEBUG [main-interface-114] [HttpRequestDebug]   [org.springframework.web.servlet.DispatcherServlet.CONTEXT][WebApplicationCon...]
        2018-08-16 13:54:32,826 DEBUG [main-interface-114] [HttpRequestDebug]   [org.springframework.web.servlet.DispatcherServlet.LOCALE_RESOLVER][org.springframewo...]
        2018-08-16 13:54:32,826 DEBUG [main-interface-114] [HttpRequestDebug]   [org.springframework.web.servlet.HandlerMapping.bestMatchingPattern][/tap/{ident}/sync]
        2018-08-16 13:54:32,826 DEBUG [main-interface-114] [HttpRequestDebug]   [org.springframework.web.servlet.DispatcherServlet.OUTPUT_FLASH_MAP][FlashMap [attribu...]
        2018-08-16 13:54:32,826 DEBUG [main-interface-114] [HttpRequestDebug]   [org.springframework.web.servlet.HandlerMapping.pathWithinHandlerMapping][/tap/61/sync]
        2018-08-16 13:54:32,826 DEBUG [main-interface-114] [HttpRequestDebug]   [org.springframework.web.servlet.DispatcherServlet.FLASH_MAP_MANAGER][org.springframewo...]
        2018-08-16 13:54:32,826 DEBUG [main-interface-114] [HttpRequestDebug]   [org.springframework.web.servlet.HandlerMapping.uriTemplateVariables][{ident=61}]
        2018-08-16 13:54:32,826 DEBUG [main-interface-114] [HttpRequestDebug]   [org.springframework.web.servlet.DispatcherServlet.THEME_RESOLVER][org.springframewo...]
        2018-08-16 13:54:32,827 DEBUG [main-interface-114] [HttpRequestDebug]   [org.springframework.core.convert.ConversionService][ConversionService...]
        2018-08-16 13:54:32,827 DEBUG [main-interface-114] [HttpRequestDebug]   [org.springframework.web.servlet.DispatcherServlet.THEME_SOURCE][WebApplicationCon...]
        2018-08-16 13:54:32,827 DEBUG [main-interface-114] [HttpRequestDebug] ----
        2018-08-16 13:54:32,827 DEBUG [main-interface-114] [HttpRequestDebug] Parameters
        2018-08-16 13:54:32,827 DEBUG [main-interface-114] [HttpRequestDebug]   [QUERY][SELECT TOP 10 DET...]
        2018-08-16 13:54:32,827 DEBUG [main-interface-114] [HttpRequestDebug]   [REQUEST][doQuery]
        2018-08-16 13:54:32,827 DEBUG [main-interface-114] [HttpRequestDebug]   [LANG][ADQL]
        2018-08-16 13:54:32,827 DEBUG [main-interface-114] [HttpRequestDebug]   [FORMAT][VOTABLE]
        2018-08-16 13:54:32,827 DEBUG [main-interface-114] [HttpRequestDebug] ----
        2018-08-16 13:54:32,827 DEBUG [main-interface-114] [OperationInterceptor] OperationInterceptor.preHandle()
        2018-08-16 13:54:32,827 DEBUG [main-interface-114] [OperationInterceptor] Handler   [org.springframework.web.method.HandlerMethod]
        2018-08-16 13:54:32,831 DEBUG [main-interface-114] [OperationInterceptor] Operation [21079307]
        2018-08-16 13:54:32,831 DEBUG [main-interface-114] [OperationInterceptor]   url  [http://tap.roe.ac.uk/firethorn/tap/61/sync]
        2018-08-16 13:54:32,831 DEBUG [main-interface-114] [OperationInterceptor]   port [80]
        2018-08-16 13:54:32,831 DEBUG [main-interface-114] [SimpleHeaderAuthenticator] preHandle()
        2018-08-16 13:54:32,831 DEBUG [main-interface-114] [SimpleHeaderAuthenticator] Operation [entity[class[uk.ac.roe.wfau.firethorn.identity.OperationEntity] ident[21079307]]]
        2018-08-16 13:54:32,831 DEBUG [main-interface-114] [SimpleHeaderAuthenticator] Community [null]
        2018-08-16 13:54:32,831 DEBUG [main-interface-114] [SimpleHeaderAuthenticator] Username  [null]
        2018-08-16 13:54:32,831 DEBUG [main-interface-114] [SimpleHeaderAuthenticator] Password  [null]
        2018-08-16 13:54:32,831 DEBUG [main-interface-114] [SimpleHeaderAuthenticator] Primary   [null]
        2018-08-16 13:54:32,831 DEBUG [main-interface-114] [AnonymousAuthenticator] preHandle()
        2018-08-16 13:54:32,831 DEBUG [main-interface-114] [AnonymousAuthenticator]  Operation [entity[class[uk.ac.roe.wfau.firethorn.identity.OperationEntity] ident[21079307]]]
        2018-08-16 13:54:32,831 DEBUG [main-interface-114] [AnonymousAuthenticator]  Primary [null]
        2018-08-16 13:54:32,831 DEBUG [main-interface-114] [AnonymousAuthenticator] Null primary, adding anonymous Authentication
        2018-08-16 13:54:32,831 DEBUG [main-interface-114] [CommunityEntity] guests()
        2018-08-16 13:54:32,831 DEBUG [main-interface-114] [CommunityEntity] find (String) [friends]
        2018-08-16 13:54:32,832 DEBUG [main-interface-114] [CommunityEntity]   found [entity[class[uk.ac.roe.wfau.firethorn.community.CommunityEntity] ident[102]]]
        2018-08-16 13:54:32,832 DEBUG [main-interface-114] [CommunityEntity] services()
        2018-08-16 13:54:32,832 DEBUG [main-interface-114] [IdentityEntity] create(Community) [friends]
        2018-08-16 13:54:32,835 DEBUG [main-interface-114] [OperationEntity] create(Identity, String)
        2018-08-16 13:54:32,835 DEBUG [main-interface-114] [OperationEntity]   Identity [anon-WWEZAWE6CAP64AAAAFSUGBBRAA]
        2018-08-16 13:54:32,835 DEBUG [main-interface-114] [OperationEntity]   Method   [anonymous]
        2018-08-16 13:54:32,836 DEBUG [main-interface-114] [AuthenticationImplEntity] create(Operation, Identity, String)
        2018-08-16 13:54:32,836 DEBUG [main-interface-114] [AuthenticationImplEntity]   Operation [GET]
        2018-08-16 13:54:32,836 DEBUG [main-interface-114] [AuthenticationImplEntity]   Identity  [anon-WWEZAWE6CAP64AAAAFSUGBBRAA]
        2018-08-16 13:54:32,836 DEBUG [main-interface-114] [AuthenticationImplEntity]   Method    [anonymous]
        2018-08-16 13:54:32,836 DEBUG [main-interface-114] [AuthenticationImplEntity] AuthenticationEntity(Operation, Identity, String)
        2018-08-16 13:54:32,836 DEBUG [main-interface-114] [AuthenticationImplEntity]   Operation [GET]
        2018-08-16 13:54:32,836 DEBUG [main-interface-114] [AuthenticationImplEntity]   Identity  [anon-WWEZAWE6CAP64AAAAFSUGBBRAA]
        2018-08-16 13:54:32,836 DEBUG [main-interface-114] [AuthenticationImplEntity]   Method    [anonymous]
        2018-08-16 13:54:32,839 DEBUG [main-interface-114] [OperationEntity] primary(Authentication)
        2018-08-16 13:54:32,839 DEBUG [main-interface-114] [OperationEntity]   Authentication [Authentication[Ident[21079407]Identity[anon-WWEZAWE6CAP64AAAAFSUGBBRAA]Method[anonymous]]]
        2018-08-16 13:54:32,839 DEBUG [main-interface-114] [OperationEntity]   Identity [entity[class[uk.ac.roe.wfau.firethorn.identity.IdentityEntity] ident[21079357]]]
        2018-08-16 13:54:32,841 DEBUG [main-interface-114] [AnnotationUtils] Failed to meta-introspect annotation [interface org.springframework.web.bind.annotation.ModelAttribute]: java.lang.IllegalArgumentException: Annotation must not be null
        2018-08-16 13:54:32,841 DEBUG [main-interface-114] [AdqlQueryDelays] AdqlQueryDelays(Integer, Integer, Integer)
        2018-08-16 13:54:32,841 DEBUG [main-interface-114] [AdqlQueryDelays]   first [500]
        2018-08-16 13:54:32,841 DEBUG [main-interface-114] [AdqlQueryDelays]   every [null]
        2018-08-16 13:54:32,841 DEBUG [main-interface-114] [AdqlQueryDelays]   last  [null]
        2018-08-16 13:54:32,841 DEBUG [main-interface-114] [BlueQueryEntity] -- Oi0ieNga Qua8ev1a
        2018-08-16 13:54:32,841 DEBUG [main-interface-114] [BlueQueryEntity] create(AdqlResource, JdbcSchema, AdqlSchema, String, Mode, Syntax, Limits, Delays, TaskState, Long)
        2018-08-16 13:54:32,841 DEBUG [main-interface-114] [BlueQueryEntity]   wait for [COMPLETED]
        2018-08-16 13:54:32,841 DEBUG [main-interface-114] [BlueQueryEntity]   wait for [600000]
        2018-08-16 13:54:32,841 DEBUG [main-interface-114] [BlueQueryEntity] Owner (outer) [21079357][anon-WWEZAWE6CAP64AAAAFSUGBBRAA]
        2018-08-16 13:54:32,841 DEBUG [main-interface-114] [BlueQueryEntity] Before BlueQuery.Creator
        2018-08-16 13:54:32,841 DEBUG [main-interface-114] [BlueQueryEntity] -- ieCh0naj oH2cah4A
        2018-08-16 13:54:32,841 DEBUG [main-interface-114] [BlueTaskEntity] Operator constructor
        2018-08-16 13:54:32,841 DEBUG [main-interface-114] [BlueTaskEntity]   thread [395][main-interface-114]
        2018-08-16 13:54:32,842 DEBUG [main-interface-114] [BlueTaskEntity$TaskRunner] thread(Creator)
        2018-08-16 13:54:32,842 DEBUG [main-interface-114] [BlueTaskEntity$TaskRunner]   thread [395][main-interface-114]
        2018-08-16 13:54:32,842 DEBUG [main-interface-114] [BlueTaskEntity$TaskRunner] Before future()
        2018-08-16 13:54:32,842 DEBUG [main-interface-114] [BlueTaskEntity$TaskRunner] Setting current operation [21079307]
            2018-08-16 13:54:32,842 DEBUG [FireThornTaskExecutor-11] [BlueTaskEntity$TaskRunner] future(Creator)
            2018-08-16 13:54:32,842 DEBUG [FireThornTaskExecutor-11] [BlueTaskEntity$TaskRunner]   thread [80][FireThornTaskExecutor-11]
            2018-08-16 13:54:32,842 DEBUG [FireThornTaskExecutor-11] [BlueTaskEntity$TaskRunner] Getting current operation [21074000]
            2018-08-16 13:54:32,842 DEBUG [FireThornTaskExecutor-11] [BlueTaskEntity$TaskRunner] Setting current operation [21079307]
            2018-08-16 13:54:32,842 DEBUG [FireThornTaskExecutor-11] [BlueQueryEntity] -- een6Dae1 Eshohva5 []
            2018-08-16 13:54:32,842 DEBUG [FireThornTaskExecutor-11] [BlueQueryEntity] create.Creator.create()
            2018-08-16 13:54:32,842 DEBUG [FireThornTaskExecutor-11] [BlueQueryEntity] Creating BlueQuery
            2018-08-16 13:54:32,842 DEBUG [FireThornTaskExecutor-11] [IdentityEntity] Converting current instance [21079357]
            2018-08-16 13:54:32,843 DEBUG [FireThornTaskExecutor-11] [BlueQueryEntity] Owner (inner) [21079357][anon-WWEZAWE6CAP64AAAAFSUGBBRAA]
            2018-08-16 13:54:32,843 DEBUG [FireThornTaskExecutor-11] [BlueQueryEntity] services()
            2018-08-16 13:54:32,843 DEBUG [FireThornTaskExecutor-11] [BlueQueryEntity] prepare(String)
            2018-08-16 13:54:32,843 DEBUG [FireThornTaskExecutor-11] [BlueQueryEntity] -- EeCoo6oo Tui9Goog [null]
            2018-08-16 13:54:32,843 DEBUG [FireThornTaskExecutor-11] [BlueQueryEntity] prepare()
            2018-08-16 13:54:32,843 DEBUG [FireThornTaskExecutor-11] [BlueQueryEntity]   ident [null]
            2018-08-16 13:54:32,843 DEBUG [FireThornTaskExecutor-11] [BlueQueryEntity]   state [EDITING]
            2018-08-16 13:54:32,843 DEBUG [FireThornTaskExecutor-11] [AdqlQueryTimings] AdqlQueryTimings()
            2018-08-16 13:54:32,843 INFO  [FireThornTaskExecutor-11] [AdqlQueryTimings] TIMING - adqlstart()
            2018-08-16 13:54:32,843 DEBUG [FireThornTaskExecutor-11] [MySearchTableList] MySearchTableList(AdqlResource, AdqlParserTable.Factory, AdqlQuery.Mode)
            2018-08-16 13:54:32,843 DEBUG [FireThornTaskExecutor-11] [MySearchTableList] MySearchTableList(AdqlResource, AdqlParserTable.Factory, AdqlQuery.Mode)
            2018-08-16 13:54:32,843 DEBUG [FireThornTaskExecutor-11] [BlueQueryEntity] Query mode [AUTO]
            2018-08-16 13:54:32,843 DEBUG [FireThornTaskExecutor-11] [BlueQueryEntity] Processing as [DIRECT] query
        2018-08-16 13:54:32,844 DEBUG [main-interface-114] [BlueTaskEntity$TaskRunner] After future()
        2018-08-16 13:54:32,844 DEBUG [main-interface-114] [BlueTaskEntity$TaskRunner]   thread [395][main-interface-114]
        2018-08-16 13:54:32,844 DEBUG [main-interface-114] [BlueTaskEntity$TaskRunner] Before future.get()
            2018-08-16 13:54:32,844 DEBUG [FireThornTaskExecutor-11] [MySearchTableList] search(ADQLTable)
            2018-08-16 13:54:32,844 DEBUG [FireThornTaskExecutor-11] [MySearchTableList]   target [null][TWOXMM][twoxmm]
            2018-08-16 13:54:32,844 DEBUG [FireThornTaskExecutor-11] [MySearchTableList] search schema [TWOXMM]
            2018-08-16 13:54:32,844 DEBUG [FireThornTaskExecutor-11] [AdqlResourceEntity] schemas() for [61][OSA ADQL resource]
            2018-08-16 13:54:32,844 DEBUG [FireThornTaskExecutor-11] [BaseComponentEntity] scan for [61][OSA ADQL resource]
            2018-08-16 13:54:32,844 DEBUG [FireThornTaskExecutor-11] [BaseComponentEntity] scantest for [61][OSA ADQL resource]
            2018-08-16 13:54:32,844 DEBUG [FireThornTaskExecutor-11] [BaseComponentEntity$EntityFactory] scanperiod()
            2018-08-16 13:54:32,844 DEBUG [FireThornTaskExecutor-11] [BaseComponentEntity$EntityFactory]   value [PT25H]
            2018-08-16 13:54:32,844 DEBUG [FireThornTaskExecutor-11] [BaseComponentEntity] Factory scanperiod  [PT25H]
            2018-08-16 13:54:32,844 DEBUG [FireThornTaskExecutor-11] [BaseComponentEntity] prevscan   [2018-08-15T18:26:08.981Z]
            2018-08-16 13:54:32,844 DEBUG [FireThornTaskExecutor-11] [BaseComponentEntity] scanperiod [PT25H]
            2018-08-16 13:54:32,844 DEBUG [FireThornTaskExecutor-11] [BaseComponentEntity] prev scan is recent - skipping
            2018-08-16 13:54:32,847 DEBUG [FireThornTaskExecutor-11] [MySearchTableList]   schema [TWOXMM]
            2018-08-16 13:54:32,847 DEBUG [FireThornTaskExecutor-11] [AdqlSchemaEntity] tables() for [44689][TWOXMM]
            2018-08-16 13:54:32,847 DEBUG [FireThornTaskExecutor-11] [BaseComponentEntity] scan for [44689][TWOXMM]
            2018-08-16 13:54:32,847 DEBUG [FireThornTaskExecutor-11] [BaseComponentEntity] scantest for [44689][TWOXMM]
            2018-08-16 13:54:32,847 DEBUG [FireThornTaskExecutor-11] [AdqlSchemaEntity] factory()
            2018-08-16 13:54:32,847 DEBUG [FireThornTaskExecutor-11] [BaseComponentEntity$EntityFactory] scanperiod()
            2018-08-16 13:54:32,847 DEBUG [FireThornTaskExecutor-11] [BaseComponentEntity$EntityFactory]   value [PT25H]
            2018-08-16 13:54:32,848 DEBUG [FireThornTaskExecutor-11] [BaseComponentEntity] Factory scanperiod  [PT25H]
            2018-08-16 13:54:32,848 DEBUG [FireThornTaskExecutor-11] [BaseComponentEntity] prevscan   [2018-08-16T13:50:21.283Z]
            2018-08-16 13:54:32,848 DEBUG [FireThornTaskExecutor-11] [BaseComponentEntity] scanperiod [PT25H]
            2018-08-16 13:54:32,848 DEBUG [FireThornTaskExecutor-11] [BaseComponentEntity] prev scan is recent - skipping
            2018-08-16 13:54:32,850 DEBUG [FireThornTaskExecutor-11] [MySearchTableList]   table [TWOXMM.twoxmm]
            2018-08-16 13:54:32,850 DEBUG [FireThornTaskExecutor-11] [AdqlParserTableImpl] AdqlParserTableImpl(AdqlQuery.Mode mode, AdqlTable, String, String)
            2018-08-16 13:54:32,850 DEBUG [FireThornTaskExecutor-11] [AdqlParserTableImpl] real name [twoxmm]
            2018-08-16 13:54:32,850 DEBUG [FireThornTaskExecutor-11] [AdqlParserTableImpl] BASE name [null]
            2018-08-16 13:54:32,850 DEBUG [FireThornTaskExecutor-11] [AdqlParserTableImpl] ADQL name [null]
            2018-08-16 13:54:32,850 DEBUG [FireThornTaskExecutor-11] [AdqlParserTableImpl] Iterator<DBColumn> iterator()
            2018-08-16 13:54:32,850 DEBUG [FireThornTaskExecutor-11] [AdqlTableEntity] columns() for [52447][TWOXMM.twoxmm]
            2018-08-16 13:54:32,850 DEBUG [FireThornTaskExecutor-11] [BaseComponentEntity] scan for [52447][twoxmm]
            2018-08-16 13:54:32,850 DEBUG [FireThornTaskExecutor-11] [BaseComponentEntity] scantest for [52447][twoxmm]
            2018-08-16 13:54:32,850 DEBUG [FireThornTaskExecutor-11] [AdqlTableEntity] factory()
            2018-08-16 13:54:32,850 DEBUG [FireThornTaskExecutor-11] [BaseComponentEntity$EntityFactory] scanperiod()
            2018-08-16 13:54:32,850 DEBUG [FireThornTaskExecutor-11] [BaseComponentEntity$EntityFactory]   value [PT25H]
            2018-08-16 13:54:32,850 DEBUG [FireThornTaskExecutor-11] [BaseComponentEntity] Factory scanperiod  [PT25H]
            2018-08-16 13:54:32,850 DEBUG [FireThornTaskExecutor-11] [BaseComponentEntity] prevscan   [2018-08-16T13:50:21.287Z]
            2018-08-16 13:54:32,850 DEBUG [FireThornTaskExecutor-11] [BaseComponentEntity] scanperiod [PT25H]
            2018-08-16 13:54:32,850 DEBUG [FireThornTaskExecutor-11] [BaseComponentEntity] prev scan is recent - skipping
            2018-08-16 13:54:32,860 DEBUG [FireThornTaskExecutor-11] [AdqlParserImpl] process(AdqlParserQuery, ADQLQuery, ADQLQuery)
            2018-08-16 13:54:32,860 DEBUG [FireThornTaskExecutor-11] [AdqlParserImpl] process(AdqlParserQuery, ADQLQuery, Iterable<ADQLObject>)
            2018-08-16 13:54:32,860 DEBUG [FireThornTaskExecutor-11] [AdqlParserImpl]  ----
            2018-08-16 13:54:32,860 DEBUG [FireThornTaskExecutor-11] [AdqlParserImpl]  ADQLObject [adql.query.ClauseSelect]
            2018-08-16 13:54:32,860 DEBUG [FireThornTaskExecutor-11] [AdqlParserImpl]  ----
            2018-08-16 13:54:32,860 DEBUG [FireThornTaskExecutor-11] [AdqlParserImpl]  ClauseSelect
            2018-08-16 13:54:32,860 DEBUG [FireThornTaskExecutor-11] [AdqlParserImpl] process(AdqlParserQuery, ADQLQuery, ClauseSelect)
            2018-08-16 13:54:32,860 DEBUG [FireThornTaskExecutor-11] [AdqlParserImpl]  Select item ----
            2018-08-16 13:54:32,860 DEBUG [FireThornTaskExecutor-11] [AdqlParserImpl]   name  [DETID]
            2018-08-16 13:54:32,860 DEBUG [FireThornTaskExecutor-11] [AdqlParserImpl]   alias [null]
            2018-08-16 13:54:32,860 DEBUG [FireThornTaskExecutor-11] [AdqlParserImpl]   class [adql.query.SelectItem]
            2018-08-16 13:54:32,862 DEBUG [FireThornTaskExecutor-11] [BlueQueryEntity] add(SelectField)
            2018-08-16 13:54:32,862 DEBUG [FireThornTaskExecutor-11] [BlueQueryEntity]   Name [DETID]
            2018-08-16 13:54:32,862 DEBUG [FireThornTaskExecutor-11] [BlueQueryEntity]   Size [0]
            2018-08-16 13:54:32,862 DEBUG [FireThornTaskExecutor-11] [BlueQueryEntity]   Type [INTEGER]
            2018-08-16 13:54:32,862 DEBUG [FireThornTaskExecutor-11] [AdqlParserImpl]  ----
            2018-08-16 13:54:32,862 DEBUG [FireThornTaskExecutor-11] [AdqlParserImpl]  ADQLObject [adql.query.from.ADQLTable]
            2018-08-16 13:54:32,862 DEBUG [FireThornTaskExecutor-11] [AdqlParserImpl]  ----
            2018-08-16 13:54:32,862 DEBUG [FireThornTaskExecutor-11] [AdqlParserImpl]  ADQLTable [twoxmm]
            2018-08-16 13:54:32,862 DEBUG [FireThornTaskExecutor-11] [AdqlParserImpl] process(AdqlParserQuery, ADQLQuery, ADQLTable)
            2018-08-16 13:54:32,862 DEBUG [FireThornTaskExecutor-11] [AdqlParserImpl]    ----
            2018-08-16 13:54:32,862 DEBUG [FireThornTaskExecutor-11] [AdqlParserImpl]    AdqlTable [TWOXMM.twoxmm]
            2018-08-16 13:54:32,862 DEBUG [FireThornTaskExecutor-11] [AdqlParserImpl]    BaseTable [TWOXMM.dbo.twoxmm]
            2018-08-16 13:54:32,862 DEBUG [FireThornTaskExecutor-11] [AdqlParserImpl]    RootTable [TWOXMM.dbo.twoxmm]
            2018-08-16 13:54:32,862 DEBUG [FireThornTaskExecutor-11] [BlueQueryEntity] add(AdqlTable)
            2018-08-16 13:54:32,862 DEBUG [FireThornTaskExecutor-11] [BlueQueryEntity]   Name [twoxmm]
            2018-08-16 13:54:32,862 DEBUG [FireThornTaskExecutor-11] [BlueQueryEntity] add(BaseResource)
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [BlueQueryEntity]   Name [OSA JDBC]
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [AdqlParserImpl]  ----
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [AdqlParserImpl]  ADQLObject [adql.query.ClauseConstraints]
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [AdqlParserImpl] process(AdqlParserQuery, ADQLQuery, Iterable<ADQLObject>)
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [AdqlParserImpl]  ----
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [AdqlParserImpl]  ADQLObject [adql.query.ClauseADQL]
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [AdqlParserImpl] process(AdqlParserQuery, ADQLQuery, Iterable<ADQLObject>)
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [AdqlParserImpl]  ----
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [AdqlParserImpl]  ADQLObject [adql.query.ClauseConstraints]
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [AdqlParserImpl] process(AdqlParserQuery, ADQLQuery, Iterable<ADQLObject>)
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [AdqlParserImpl]  ----
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [AdqlParserImpl]  ADQLObject [adql.query.ClauseADQL]
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [AdqlParserImpl] process(AdqlParserQuery, ADQLQuery, Iterable<ADQLObject>)
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [JdbcConnectionEntity] translator() for [mssql]
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator] translate(ADQLQuery)
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator] translate(ClauseSelect)
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator] translate(ADQLColumn)
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator]     column.getFullColumnName() [DETID]
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator] Checking column.getDBLink()
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator]     column.getDBLink() [uk.ac.roe.wfau.firethorn.adql.parser.AdqlParserTableImpl$AdqlColumnImpl@380572a0]
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator] Checking column.getAdqlTable().hasAlias()
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator]     column.getAdqlTable() [adql.query.from.ADQLTable@18c7c8b9]
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator] No alias
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator] Checking dbCol.getTable()
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator]     dbCol.getTable() [uk.ac.roe.wfau.firethorn.adql.parser.AdqlParserTableImpl@bc583dc]
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator]     dbCol.getTable().getDBName() [twoxmm]
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator] Checking column.getAdqlTable()
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator]     column.getAdqlTable() [adql.query.from.ADQLTable@18c7c8b9]
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator] Using dbCol.getTable()
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator]     dbCol.getTable() [uk.ac.roe.wfau.firethorn.adql.parser.AdqlParserTableImpl@bc583dc]
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator] Using getQualifiedTableName()
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator] getQualifiedTableName [TWOXMM][dbo][twoxmm]
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator] getQualifiedSchemaName [TWOXMM][dbo]
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator]   result [[TWOXMM].[dbo]]
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator]   result [[TWOXMM].[dbo].[twoxmm]]
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator]     getQualifiedTableName() [[TWOXMM].[dbo].[twoxmm]]
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator] getQualifiedTableName [TWOXMM][dbo][twoxmm]
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator] getQualifiedSchemaName [TWOXMM][dbo]
            2018-08-16 13:54:32,863 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator]   result [[TWOXMM].[dbo]]
            2018-08-16 13:54:32,864 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator]   result [[TWOXMM].[dbo].[twoxmm]]
            2018-08-16 13:54:32,864 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator] Checking getAdqlTable
            2018-08-16 13:54:32,864 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator]     getAdqlTable() [adql.query.from.ADQLTable@18c7c8b9]
            2018-08-16 13:54:32,864 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator] Using dbCol.getDBName()
            2018-08-16 13:54:32,864 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator]   dbCol.getDBName() [DETID]
            2018-08-16 13:54:32,864 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator]   result [[TWOXMM].[dbo].[twoxmm].[DETID]]
            2018-08-16 13:54:32,864 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator] getQualifiedTableName [TWOXMM][dbo][twoxmm]
            2018-08-16 13:54:32,864 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator] getQualifiedSchemaName [TWOXMM][dbo]
            2018-08-16 13:54:32,864 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator]   result [[TWOXMM].[dbo]]
            2018-08-16 13:54:32,864 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator]   result [[TWOXMM].[dbo].[twoxmm]]
            2018-08-16 13:54:32,864 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator] Translated --------
            2018-08-16 13:54:32,864 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator] SELECT TOP 10 [TWOXMM].[dbo].[twoxmm].[DETID] AS [DETID]
            FROM [TWOXMM].[dbo].[twoxmm]
            2018-08-16 13:54:32,864 DEBUG [FireThornTaskExecutor-11] [SQLServerTranslator] --------
            2018-08-16 13:54:32,864 INFO  [FireThornTaskExecutor-11] [AdqlQueryTimings] TIMING - adqldone()
            2018-08-16 13:54:32,864 DEBUG [FireThornTaskExecutor-11] [BlueTaskEntity] transition(TaskState)
            2018-08-16 13:54:32,864 DEBUG [FireThornTaskExecutor-11] [BlueTaskEntity]   ident [null]
            2018-08-16 13:54:32,864 DEBUG [FireThornTaskExecutor-11] [BlueTaskEntity]   state [EDITING][READY]
            2018-08-16 13:54:32,864 DEBUG [FireThornTaskExecutor-11] [BlueTaskEntity] accept(TaskState)
            2018-08-16 13:54:32,864 DEBUG [FireThornTaskExecutor-11] [BlueTaskEntity]   ident [null]
            2018-08-16 13:54:32,864 DEBUG [FireThornTaskExecutor-11] [BlueTaskEntity]   state [EDITING][READY]
            2018-08-16 13:54:32,864 DEBUG [FireThornTaskExecutor-11] [AdqlQueryTimings] AdqlQueryTimings()
        2018-08-16 13:54:32,871 DEBUG [main-interface-114] [BlueTaskEntity$TaskRunner] After future.get()
        2018-08-16 13:54:32,871 DEBUG [main-interface-114] [BlueTaskEntity$TaskRunner]   result [entity[class[uk.ac.roe.wfau.firethorn.adql.query.blue.BlueQueryEntity] ident[21074134]]]
        2018-08-16 13:54:32,871 DEBUG [main-interface-114] [BlueQueryEntity] After BlueQuery.Creator
        2018-08-16 13:54:32,871 DEBUG [main-interface-114] [BlueQueryEntity] -- Sohkue2b Cae5Aifa [21074134]
        2018-08-16 13:54:32,871 DEBUG [main-interface-114] [BlueQueryEntity]   ident [21074134]
        2018-08-16 13:54:32,871 DEBUG [main-interface-114] [BlueQueryEntity]   state [READY]
        2018-08-16 13:54:32,871 DEBUG [main-interface-114] [BlueQueryEntity] Calling BlueQuery.Updator
        2018-08-16 13:54:32,871 DEBUG [main-interface-114] [BlueTaskEntity] Operator constructor
        2018-08-16 13:54:32,871 DEBUG [main-interface-114] [BlueTaskEntity]   thread [395][main-interface-114]
        2018-08-16 13:54:32,872 DEBUG [main-interface-114] [BlueQueryEntity] Converting current instance [21074134]
        2018-08-16 13:54:32,872 DEBUG [main-interface-114] [BlueQueryEntity] services()
        2018-08-16 13:54:32,873 DEBUG [main-interface-114] [AdqlQueryTimings] AdqlQueryTimings()
        2018-08-16 13:54:32,873 DEBUG [main-interface-114] [AdqlQueryTimings] AdqlQueryTimings()
        2018-08-16 13:54:32,873 DEBUG [main-interface-114] [BlueTaskEntity$TaskRunner] thread(Updator)
        2018-08-16 13:54:32,873 DEBUG [main-interface-114] [BlueTaskEntity$TaskRunner]   ident [21074134]
        2018-08-16 13:54:32,873 DEBUG [main-interface-114] [BlueTaskEntity$TaskRunner]   thread [395][main-interface-114]
        2018-08-16 13:54:32,873 DEBUG [main-interface-114] [BlueTaskEntity$TaskRunner] Before future()
        2018-08-16 13:54:32,873 DEBUG [main-interface-114] [BlueTaskEntity$TaskRunner] Setting current operation [21079307]
        2018-08-16 13:54:32,873 DEBUG [main-interface-114] [BlueTaskEntity$TaskRunner] After future()
        2018-08-16 13:54:32,873 DEBUG [main-interface-114] [BlueTaskEntity$TaskRunner] Before future.get()
            2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-10] [BlueTaskEntity$TaskRunner] future(Updator)
            2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-10] [BlueTaskEntity$TaskRunner]   ident [21074134]
            2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-10] [BlueTaskEntity$TaskRunner]   thread [79][FireThornTaskExecutor-10]
            2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-10] [BlueTaskEntity$TaskRunner] Getting current operation [21074000]
            2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-10] [BlueTaskEntity$TaskRunner] Setting current operation [21079307]
            2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-10] [BlueQueryEntity] -- Joh6azi9 loolip2Y [21074134]
            2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-10] [BlueQueryEntity] create.Updator.update()
            2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-10] [BlueQueryEntity] Updating BlueQuery [21074134]
            2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-10] [BlueQueryEntity]   from [READY]
            2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-10] [BlueQueryEntity]   next [COMPLETED]
            2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-10] [BlueQueryEntity] Advancing BlueQuery [21074134]
            2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-10] [BlueTaskEntity] advance(TaskState, TaskState, Long)
            2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-10] [BlueTaskEntity]   ident [21074134]
            2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-10] [BlueTaskEntity]   prev  [null]
            2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-10] [BlueTaskEntity]   curr  [READY]
            2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-10] [BlueTaskEntity]   next  [COMPLETED]
            2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-10] [BlueTaskEntity]   wait  [600000]
            2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-10] [BlueTaskEntity] -- Sheejoh7 Xu7zooyo [21074134]
            2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-10] [BlueTaskEntity] Starting running()
            2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-10] [BlueTaskEntity]   ident [21074134]
            2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-10] [BlueTaskEntity]   state [READY]
            2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-10] [BlueQueryEntity] services()
            2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-10] [BlueTaskEntity] Operator constructor
            2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-10] [BlueTaskEntity]   thread [79][FireThornTaskExecutor-10]
            2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-10] [BlueTaskEntity$TaskRunner] thread(Updator)
            2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-10] [BlueTaskEntity$TaskRunner]   ident [21074134]
            2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-10] [BlueTaskEntity$TaskRunner]   thread [79][FireThornTaskExecutor-10]
            2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-10] [BlueTaskEntity$TaskRunner] Before future()
            2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-10] [BlueTaskEntity$TaskRunner] Setting current operation [21079307]
            2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-10] [BlueTaskEntity$TaskRunner] After future()
            2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-10] [BlueTaskEntity$TaskRunner] Before future.get()
                2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity$TaskRunner] future(Updator)
                2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity$TaskRunner]   ident [21074134]
                2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity$TaskRunner]   thread [72][FireThornTaskExecutor-7]
                2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity$TaskRunner] Getting current operation [21074000]
                2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity$TaskRunner] Setting current operation [21079307]
                2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity] -- yae9iTao adoh9ooW [21074134]
                2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity] running.Updator.update()
                2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity] Converting current instance [21074134]
                2018-08-16 13:54:32,874 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity] services()
                2018-08-16 13:54:32,876 DEBUG [FireThornTaskExecutor-7] [AdqlQueryTimings] AdqlQueryTimings()
                2018-08-16 13:54:32,876 DEBUG [FireThornTaskExecutor-7] [AdqlQueryTimings] AdqlQueryTimings()
                2018-08-16 13:54:32,876 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity] Before prepare()
                2018-08-16 13:54:32,876 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity]   state [READY]
                2018-08-16 13:54:32,876 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity] -- EeCoo6oo Tui9Goog [21074134]
                2018-08-16 13:54:32,876 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity] prepare()
                2018-08-16 13:54:32,876 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity]   ident [21074134]
                2018-08-16 13:54:32,876 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity]   state [READY]
                2018-08-16 13:54:32,876 INFO  [FireThornTaskExecutor-7] [AdqlQueryTimings] TIMING - adqlstart()
                2018-08-16 13:54:32,876 DEBUG [FireThornTaskExecutor-7] [MySearchTableList] MySearchTableList(AdqlResource, AdqlParserTable.Factory, AdqlQuery.Mode)
                2018-08-16 13:54:32,876 DEBUG [FireThornTaskExecutor-7] [MySearchTableList] MySearchTableList(AdqlResource, AdqlParserTable.Factory, AdqlQuery.Mode)
                2018-08-16 13:54:32,876 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity] Query mode [DIRECT]
                2018-08-16 13:54:32,876 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity] Processing as [DIRECT] query
                2018-08-16 13:54:32,877 DEBUG [FireThornTaskExecutor-7] [MySearchTableList] search(ADQLTable)
                2018-08-16 13:54:32,877 DEBUG [FireThornTaskExecutor-7] [MySearchTableList]   target [null][TWOXMM][twoxmm]
                2018-08-16 13:54:32,877 DEBUG [FireThornTaskExecutor-7] [MySearchTableList] search schema [TWOXMM]
                2018-08-16 13:54:32,878 DEBUG [FireThornTaskExecutor-7] [AdqlResourceEntity] schemas() for [61][OSA ADQL resource]
                2018-08-16 13:54:32,878 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] scan for [61][OSA ADQL resource]
                2018-08-16 13:54:32,878 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] scantest for [61][OSA ADQL resource]
                2018-08-16 13:54:32,878 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity$EntityFactory] scanperiod()
                2018-08-16 13:54:32,878 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity$EntityFactory]   value [PT25H]
                2018-08-16 13:54:32,878 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] Factory scanperiod  [PT25H]
                2018-08-16 13:54:32,878 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] prevscan   [2018-08-15T18:26:08.981Z]
                2018-08-16 13:54:32,878 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] scanperiod [PT25H]
                2018-08-16 13:54:32,878 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] prev scan is recent - skipping
                2018-08-16 13:54:32,882 DEBUG [FireThornTaskExecutor-7] [MySearchTableList]   schema [TWOXMM]
                2018-08-16 13:54:32,882 DEBUG [FireThornTaskExecutor-7] [AdqlSchemaEntity] tables() for [44689][TWOXMM]
                2018-08-16 13:54:32,882 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] scan for [44689][TWOXMM]
                2018-08-16 13:54:32,882 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] scantest for [44689][TWOXMM]
                2018-08-16 13:54:32,882 DEBUG [FireThornTaskExecutor-7] [AdqlSchemaEntity] factory()
                2018-08-16 13:54:32,882 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity$EntityFactory] scanperiod()
                2018-08-16 13:54:32,882 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity$EntityFactory]   value [PT25H]
                2018-08-16 13:54:32,882 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] Factory scanperiod  [PT25H]
                2018-08-16 13:54:32,882 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] prevscan   [2018-08-16T13:50:21.283Z]
                2018-08-16 13:54:32,882 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] scanperiod [PT25H]
                2018-08-16 13:54:32,882 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] prev scan is recent - skipping
                2018-08-16 13:54:32,887 DEBUG [FireThornTaskExecutor-7] [MySearchTableList]   table [TWOXMM.twoxmm]
                2018-08-16 13:54:32,887 DEBUG [FireThornTaskExecutor-7] [AdqlParserTableImpl] AdqlParserTableImpl(AdqlQuery.Mode mode, AdqlTable, String, String)
                2018-08-16 13:54:32,887 DEBUG [FireThornTaskExecutor-7] [AdqlParserTableImpl] real name [twoxmm]
                2018-08-16 13:54:32,887 DEBUG [FireThornTaskExecutor-7] [AdqlParserTableImpl] BASE name [null]
                2018-08-16 13:54:32,887 DEBUG [FireThornTaskExecutor-7] [AdqlParserTableImpl] ADQL name [null]
                2018-08-16 13:54:32,887 DEBUG [FireThornTaskExecutor-7] [AdqlParserTableImpl] Iterator<DBColumn> iterator()
                2018-08-16 13:54:32,887 DEBUG [FireThornTaskExecutor-7] [AdqlTableEntity] columns() for [52447][TWOXMM.twoxmm]
                2018-08-16 13:54:32,887 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] scan for [52447][twoxmm]
                2018-08-16 13:54:32,887 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] scantest for [52447][twoxmm]
                2018-08-16 13:54:32,887 DEBUG [FireThornTaskExecutor-7] [AdqlTableEntity] factory()
                2018-08-16 13:54:32,887 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity$EntityFactory] scanperiod()
                2018-08-16 13:54:32,887 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity$EntityFactory]   value [PT25H]
                2018-08-16 13:54:32,887 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] Factory scanperiod  [PT25H]
                2018-08-16 13:54:32,887 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] prevscan   [2018-08-16T13:50:21.287Z]
                2018-08-16 13:54:32,887 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] scanperiod [PT25H]
                2018-08-16 13:54:32,887 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] prev scan is recent - skipping
                2018-08-16 13:54:32,900 DEBUG [FireThornTaskExecutor-7] [AdqlParserImpl] process(AdqlParserQuery, ADQLQuery, ADQLQuery)
                2018-08-16 13:54:32,900 DEBUG [FireThornTaskExecutor-7] [AdqlParserImpl] process(AdqlParserQuery, ADQLQuery, Iterable<ADQLObject>)
                2018-08-16 13:54:32,900 DEBUG [FireThornTaskExecutor-7] [AdqlParserImpl]  ----
                2018-08-16 13:54:32,900 DEBUG [FireThornTaskExecutor-7] [AdqlParserImpl]  ADQLObject [adql.query.ClauseSelect]
                2018-08-16 13:54:32,900 DEBUG [FireThornTaskExecutor-7] [AdqlParserImpl]  ----
                2018-08-16 13:54:32,900 DEBUG [FireThornTaskExecutor-7] [AdqlParserImpl]  ClauseSelect
                2018-08-16 13:54:32,900 DEBUG [FireThornTaskExecutor-7] [AdqlParserImpl] process(AdqlParserQuery, ADQLQuery, ClauseSelect)
                2018-08-16 13:54:32,900 DEBUG [FireThornTaskExecutor-7] [AdqlParserImpl]  Select item ----
                2018-08-16 13:54:32,900 DEBUG [FireThornTaskExecutor-7] [AdqlParserImpl]   name  [DETID]
                2018-08-16 13:54:32,900 DEBUG [FireThornTaskExecutor-7] [AdqlParserImpl]   alias [null]
                2018-08-16 13:54:32,900 DEBUG [FireThornTaskExecutor-7] [AdqlParserImpl]   class [adql.query.SelectItem]
                2018-08-16 13:54:32,902 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity] add(SelectField)
                2018-08-16 13:54:32,902 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity]   Name [DETID]
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity]   Size [0]
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity]   Type [INTEGER]
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [AdqlParserImpl]  ----
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [AdqlParserImpl]  ADQLObject [adql.query.from.ADQLTable]
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [AdqlParserImpl]  ----
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [AdqlParserImpl]  ADQLTable [twoxmm]
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [AdqlParserImpl] process(AdqlParserQuery, ADQLQuery, ADQLTable)
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [AdqlParserImpl]    ----
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [AdqlParserImpl]    AdqlTable [TWOXMM.twoxmm]
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [AdqlParserImpl]    BaseTable [TWOXMM.dbo.twoxmm]
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [AdqlParserImpl]    RootTable [TWOXMM.dbo.twoxmm]
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity] add(AdqlTable)
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity]   Name [twoxmm]
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity] add(BaseResource)
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity]   Name [OSA JDBC]
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [AdqlParserImpl]  ----
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [AdqlParserImpl]  ADQLObject [adql.query.ClauseConstraints]
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [AdqlParserImpl] process(AdqlParserQuery, ADQLQuery, Iterable<ADQLObject>)
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [AdqlParserImpl]  ----
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [AdqlParserImpl]  ADQLObject [adql.query.ClauseADQL]
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [AdqlParserImpl] process(AdqlParserQuery, ADQLQuery, Iterable<ADQLObject>)
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [AdqlParserImpl]  ----
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [AdqlParserImpl]  ADQLObject [adql.query.ClauseConstraints]
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [AdqlParserImpl] process(AdqlParserQuery, ADQLQuery, Iterable<ADQLObject>)
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [AdqlParserImpl]  ----
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [AdqlParserImpl]  ADQLObject [adql.query.ClauseADQL]
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [AdqlParserImpl] process(AdqlParserQuery, ADQLQuery, Iterable<ADQLObject>)
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [JdbcConnectionEntity] translator() for [mssql]
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator] translate(ADQLQuery)
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator] translate(ClauseSelect)
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator] translate(ADQLColumn)
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator]     column.getFullColumnName() [DETID]
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator] Checking column.getDBLink()
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator]     column.getDBLink() [uk.ac.roe.wfau.firethorn.adql.parser.AdqlParserTableImpl$AdqlColumnImpl@4c9820fa]
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator] Checking column.getAdqlTable().hasAlias()
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator]     column.getAdqlTable() [adql.query.from.ADQLTable@5137fc0d]
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator] No alias
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator] Checking dbCol.getTable()
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator]     dbCol.getTable() [uk.ac.roe.wfau.firethorn.adql.parser.AdqlParserTableImpl@28e986e1]
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator]     dbCol.getTable().getDBName() [twoxmm]
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator] Checking column.getAdqlTable()
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator]     column.getAdqlTable() [adql.query.from.ADQLTable@5137fc0d]
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator] Using dbCol.getTable()
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator]     dbCol.getTable() [uk.ac.roe.wfau.firethorn.adql.parser.AdqlParserTableImpl@28e986e1]
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator] Using getQualifiedTableName()
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator] getQualifiedTableName [TWOXMM][dbo][twoxmm]
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator] getQualifiedSchemaName [TWOXMM][dbo]
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator]   result [[TWOXMM].[dbo]]
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator]   result [[TWOXMM].[dbo].[twoxmm]]
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator]     getQualifiedTableName() [[TWOXMM].[dbo].[twoxmm]]
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator] getQualifiedTableName [TWOXMM][dbo][twoxmm]
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator] getQualifiedSchemaName [TWOXMM][dbo]
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator]   result [[TWOXMM].[dbo]]
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator]   result [[TWOXMM].[dbo].[twoxmm]]
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator] Checking getAdqlTable
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator]     getAdqlTable() [adql.query.from.ADQLTable@5137fc0d]
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator] Using dbCol.getDBName()
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator]   dbCol.getDBName() [DETID]
                2018-08-16 13:54:32,903 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator]   result [[TWOXMM].[dbo].[twoxmm].[DETID]]
                2018-08-16 13:54:32,904 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator] getQualifiedTableName [TWOXMM][dbo][twoxmm]
                2018-08-16 13:54:32,904 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator] getQualifiedSchemaName [TWOXMM][dbo]
                2018-08-16 13:54:32,904 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator]   result [[TWOXMM].[dbo]]
                2018-08-16 13:54:32,904 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator]   result [[TWOXMM].[dbo].[twoxmm]]
                2018-08-16 13:54:32,904 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator] Translated --------
                2018-08-16 13:54:32,904 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator] SELECT TOP 10 [TWOXMM].[dbo].[twoxmm].[DETID] AS [DETID]
                FROM [TWOXMM].[dbo].[twoxmm]
                2018-08-16 13:54:32,904 DEBUG [FireThornTaskExecutor-7] [SQLServerTranslator] --------
                2018-08-16 13:54:32,904 INFO  [FireThornTaskExecutor-7] [AdqlQueryTimings] TIMING - adqldone()
                2018-08-16 13:54:32,904 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity] transition(TaskState)
                2018-08-16 13:54:32,904 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity]   ident [21074134]
                2018-08-16 13:54:32,904 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity]   state [READY][READY]
                2018-08-16 13:54:32,904 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity] No-op status change [READY]
                2018-08-16 13:54:32,904 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity] After prepare()
                2018-08-16 13:54:32,904 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity]   state [READY]
                2018-08-16 13:54:32,904 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity] Before execute()
                2018-08-16 13:54:32,904 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity]   state [READY]
                2018-08-16 13:54:32,904 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity] -- Doo7uuc3 Da0ohphu [21074134]
                2018-08-16 13:54:32,904 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity] Starting execute()
                2018-08-16 13:54:32,904 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity]   ident [21074134]
                2018-08-16 13:54:32,904 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity]   state [READY]
                2018-08-16 13:54:32,904 DEBUG [FireThornTaskExecutor-7] [BlueTaskLogEntity] LogEntryEntity()
                2018-08-16 13:54:32,904 DEBUG [FireThornTaskExecutor-7] [BlueTaskLogEntity]   task    [entity[class[uk.ac.roe.wfau.firethorn.adql.query.blue.BlueQueryEntity] ident[21074134]]]
                2018-08-16 13:54:32,904 DEBUG [FireThornTaskExecutor-7] [BlueTaskLogEntity]   level   [INFO]
                2018-08-16 13:54:32,904 DEBUG [FireThornTaskExecutor-7] [BlueTaskLogEntity]   source  [uk.ac.roe.wfau.firethorn.adql.query.blue.BlueTaskLogEntity$EntityFactory]
                2018-08-16 13:54:32,904 DEBUG [FireThornTaskExecutor-7] [BlueTaskLogEntity]   message [Executing query]
                2018-08-16 13:54:32,908 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity] services()
                2018-08-16 13:54:32,908 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity] Operator constructor
                2018-08-16 13:54:32,908 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity]   thread [72][FireThornTaskExecutor-7]
                2018-08-16 13:54:32,909 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity$TaskRunner] thread(Updator)
                2018-08-16 13:54:32,909 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity$TaskRunner]   ident [21074134]
                2018-08-16 13:54:32,909 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity$TaskRunner]   thread [72][FireThornTaskExecutor-7]
                2018-08-16 13:54:32,909 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity$TaskRunner] Before future()
                2018-08-16 13:54:32,909 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity$TaskRunner] Setting current operation [21079307]
                2018-08-16 13:54:32,909 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity$TaskRunner] After future()
                2018-08-16 13:54:32,910 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity$TaskRunner] Before future.get()
                    2018-08-16 13:54:32,919 DEBUG [FireThornTaskExecutor-8] [BlueTaskEntity$TaskRunner] future(Updator)
                    2018-08-16 13:54:32,919 DEBUG [FireThornTaskExecutor-8] [BlueTaskEntity$TaskRunner]   ident [21074134]
                    2018-08-16 13:54:32,919 DEBUG [FireThornTaskExecutor-8] [BlueTaskEntity$TaskRunner]   thread [77][FireThornTaskExecutor-8]
                    2018-08-16 13:54:32,919 DEBUG [FireThornTaskExecutor-8] [BlueTaskEntity$TaskRunner] Getting current operation [21074001]
                    2018-08-16 13:54:32,919 DEBUG [FireThornTaskExecutor-8] [BlueTaskEntity$TaskRunner] Setting current operation [21079307]
                    2018-08-16 13:54:32,919 DEBUG [FireThornTaskExecutor-8] [BlueQueryEntity] Converting current instance [21074134]
                    2018-08-16 13:54:32,919 DEBUG [FireThornTaskExecutor-8] [BlueQueryEntity] services()
                    2018-08-16 13:54:32,924 DEBUG [FireThornTaskExecutor-8] [AdqlQueryTimings] AdqlQueryTimings()
                    2018-08-16 13:54:32,924 DEBUG [FireThornTaskExecutor-8] [AdqlQueryTimings] AdqlQueryTimings()
                    2018-08-16 13:54:32,924 DEBUG [FireThornTaskExecutor-8] [BlueQueryEntity] build()
                    2018-08-16 13:54:32,924 INFO  [FireThornTaskExecutor-8] [AdqlQueryTimings] TIMING - jdbcstart()
                    2018-08-16 13:54:32,924 DEBUG [FireThornTaskExecutor-8] [BlueQueryEntity]  Identity [entity[class[uk.ac.roe.wfau.firethorn.identity.IdentityEntity] ident[21079357]]]
                    2018-08-16 13:54:32,926 DEBUG [FireThornTaskExecutor-8] [BlueQueryEntity]  Identity [21079357][anon-WWEZAWE6CAP64AAAAFSUGBBRAA]
                    2018-08-16 13:54:32,926 DEBUG [FireThornTaskExecutor-8] [BlueQueryEntity]  JDBC space [null]
                    2018-08-16 13:54:32,926 DEBUG [FireThornTaskExecutor-8] [IdentityEntity] jdbcschema()
                    2018-08-16 13:54:32,927 DEBUG [FireThornTaskExecutor-8] [CommunityEntity] space(boolean) [true]
                    2018-08-16 13:54:32,928 DEBUG [FireThornTaskExecutor-8] [JdbcResourceEntity] schemas() for [52][Userdata resource]
                    2018-08-16 13:54:32,928 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] scan for [52][Userdata resource]
                    2018-08-16 13:54:32,928 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] scantest for [52][Userdata resource]
                    2018-08-16 13:54:32,928 DEBUG [FireThornTaskExecutor-8] [JdbcResourceEntity] factory()
                    2018-08-16 13:54:32,928 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity$EntityFactory] scanperiod()
                    2018-08-16 13:54:32,928 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity$EntityFactory]   value [PT25H]
                    2018-08-16 13:54:32,929 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] Factory scanperiod  [PT25H]
                    2018-08-16 13:54:32,929 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] prevscan   [2018-08-16T11:20:00.070Z]
                    2018-08-16 13:54:32,929 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] scanperiod [PT25H]
                    2018-08-16 13:54:32,929 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] prev scan is recent - skipping
                    2018-08-16 13:54:32,929 DEBUG [FireThornTaskExecutor-8] [JdbcSchemaEntity] JdbcSchema select(JdbcResource, String, String)
                    2018-08-16 13:54:32,929 DEBUG [FireThornTaskExecutor-8] [JdbcSchemaEntity]   Parent  [52]
                    2018-08-16 13:54:32,929 DEBUG [FireThornTaskExecutor-8] [JdbcSchemaEntity]   Catalog [TESTFirethornUserdataSHEP20170525]
                    2018-08-16 13:54:32,929 DEBUG [FireThornTaskExecutor-8] [JdbcSchemaEntity]   Schema  [dbo]
                    2018-08-16 13:54:32,929 DEBUG [FireThornTaskExecutor-8] [JdbcSchemaEntity] JdbcSchema search(JdbcResource, String, String)
                    2018-08-16 13:54:32,929 DEBUG [FireThornTaskExecutor-8] [JdbcSchemaEntity]   Parent  [52]
                    2018-08-16 13:54:32,929 DEBUG [FireThornTaskExecutor-8] [JdbcSchemaEntity]   Catalog [TESTFirethornUserdataSHEP20170525]
                    2018-08-16 13:54:32,929 DEBUG [FireThornTaskExecutor-8] [JdbcSchemaEntity]   Schema  [dbo]
                    2018-08-16 13:54:32,932 DEBUG [FireThornTaskExecutor-8] [BlueQueryEntity]  JDBC space [62867][TESTFirethornUserdataSHEP20170525.dbo]
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BlueQueryEntity]  ADQL space [null]
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [IdentityEntity] adqlschema()
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [AdqlResourceEntity] schemas() for [21073733][user space]
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] scan for [21073733][user space]
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] scantest for [21073733][user space]
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity$EntityFactory] scanperiod()
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity$EntityFactory]   value [PT25H]
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] Factory scanperiod  [PT25H]
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] prevscan   [null]
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] scanperiod [PT25H]
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] prev scan is null - scanning
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] Checking for existing lock [21073733][user space]
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] No existing lock found [21073733][user space]
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] Adding new lock [21073733][user space][2018-08-16T13:54:32.933Z]
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] Running scan [21073733][user space]
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [AdqlResourceEntity] scanimpl() for [21073733][user space]
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] Releasing locks [21073733][user space]
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] Found existing lock [21073733][user space][2018-08-16T13:54:32.933Z]
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] Removing ....
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] Notifying ....
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BlueQueryEntity]  ADQL space [21073783][temp]
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [JdbcSchemaEntity] tables() for [62867][TESTFirethornUserdataSHEP20170525.dbo]
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] scan for [62867][TESTFirethornUserdataSHEP20170525.dbo]
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] scantest for [62867][TESTFirethornUserdataSHEP20170525.dbo]
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [JdbcSchemaEntity] factory()
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity$EntityFactory] scanperiod()
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity$EntityFactory]   value [PT25H]
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] Factory scanperiod  [PT25H]
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] prevscan   [2018-08-15T18:26:21.138Z]
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] scanperiod [PT25H]
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] prev scan is recent - skipping
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [JdbcTableEntity] JdbcTableEntity [TESTFirethornUserdataSHEP20170525.dbo][XX_EWHNN73GDDH72AAAAFSUGBBRMU][TABLE]
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [AdqlSchemaEntity] tables() for [21073783][temp]
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] scan for [21073783][temp]
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] scantest for [21073783][temp]
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [AdqlSchemaEntity] factory()
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity$EntityFactory] scanperiod()
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity$EntityFactory]   value [PT25H]
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] Factory scanperiod  [PT25H]
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] prevscan   [null]
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] scanperiod [PT25H]
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] prev scan is null - scanning
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] Checking for existing lock [21073783][temp]
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] No existing lock found [21073783][temp]
                    2018-08-16 13:54:32,933 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] Adding new lock [21073783][temp][2018-08-16T13:54:32.933Z]
                    2018-08-16 13:54:32,934 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] Running scan [21073783][temp]
                    2018-08-16 13:54:32,934 DEBUG [FireThornTaskExecutor-8] [AdqlSchemaEntity] scanimpl() for [21073783][temp]
                    2018-08-16 13:54:32,934 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] Releasing locks [21073783][temp]
                    2018-08-16 13:54:32,934 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] Found existing lock [21073783][temp][2018-08-16T13:54:32.933Z]
                    2018-08-16 13:54:32,934 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] Removing ....
                    2018-08-16 13:54:32,934 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] Notifying ....
                    2018-08-16 13:54:32,934 DEBUG [FireThornTaskExecutor-8] [AdqlTableEntity] realize() [21077815][XX_EWHNN73GDDH72AAAAFSUGBBRMU]
                    2018-08-16 13:54:32,934 DEBUG [FireThornTaskExecutor-8] [BlueQueryEntity] Adding SelectField [DETID]
                    2018-08-16 13:54:32,934 DEBUG [FireThornTaskExecutor-8] [JdbcTableEntity] columns() for [21077814][TESTFirethornUserdataSHEP20170525.dbo.XX_EWHNN73GDDH72AAAAFSUGBBRMU]
                    2018-08-16 13:54:32,934 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] scan for [21077814][XX_EWHNN73GDDH72AAAAFSUGBBRMU]
                    2018-08-16 13:54:32,934 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] scantest for [21077814][XX_EWHNN73GDDH72AAAAFSUGBBRMU]
                    2018-08-16 13:54:32,934 DEBUG [FireThornTaskExecutor-8] [JdbcTableEntity] factory()
                    2018-08-16 13:54:32,934 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity$EntityFactory] scanperiod()
                    2018-08-16 13:54:32,934 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity$EntityFactory]   value [PT25H]
                    2018-08-16 13:54:32,934 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] Factory scanperiod  [PT25H]
                    2018-08-16 13:54:32,934 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] prevscan   [null]
                    2018-08-16 13:54:32,934 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] scanperiod [PT25H]
                    2018-08-16 13:54:32,934 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] prev scan is null - scanning
                    2018-08-16 13:54:32,934 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] Checking for existing lock [21077814][XX_EWHNN73GDDH72AAAAFSUGBBRMU]
                    2018-08-16 13:54:32,934 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] No existing lock found [21077814][XX_EWHNN73GDDH72AAAAFSUGBBRMU]
                    2018-08-16 13:54:32,934 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] Adding new lock [21077814][XX_EWHNN73GDDH72AAAAFSUGBBRMU][2018-08-16T13:54:32.934Z]
                    2018-08-16 13:54:32,934 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] Running scan [21077814][XX_EWHNN73GDDH72AAAAFSUGBBRMU]
                    2018-08-16 13:54:32,934 DEBUG [FireThornTaskExecutor-8] [JdbcTableEntity] scanimpl() for [21077814][TESTFirethornUserdataSHEP20170525.dbo.XX_EWHNN73GDDH72AAAAFSUGBBRMU]
                    2018-08-16 13:54:32,934 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] scanner() for [mssql]
                    2018-08-16 13:54:32,936 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] operator() for [mssql]
                    2018-08-16 13:54:32,936 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] open [jdbc:jtds:sqlserver://ramses2/TESTFirethornUserdataSHEP20170525][1]
                    2018-08-16 13:54:32,936 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] operator() for [mssql]
                    2018-08-16 13:54:32,936 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] get() [jdbc:jtds:sqlserver://ramses2/TESTFirethornUserdataSHEP20170525]
                    2018-08-16 13:54:32,936 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] operator() for [mssql]
                    2018-08-16 13:54:32,936 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] initialValue() [jdbc:jtds:sqlserver://ramses2/TESTFirethornUserdataSHEP20170525]
                    2018-08-16 13:54:32,936 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] operator() for [mssql]
                    2018-08-16 13:54:32,936 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] connect [jdbc:jtds:sqlserver://ramses2/TESTFirethornUserdataSHEP20170525]
                    2018-08-16 13:54:32,936 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] Source is null, updating to EMPTY
                    2018-08-16 13:54:32,936 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] State is EMPTY, initialising DataSource
                    2018-08-16 13:54:32,936 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] operator() for [mssql]
                    2018-08-16 13:54:32,936 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] operator() for [mssql]
                    2018-08-16 13:54:32,936 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] State is READY, initialising Connection
                    2018-08-16 13:54:32,936 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] With user/pass
                    2018-08-16 13:54:32,936 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] connecting ....
                    2018-08-16 13:54:32,942 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] .... connected
                    2018-08-16 13:54:32,987 DEBUG [FireThornTaskExecutor-8] [SQLServerScanner] Including schema [dbo]
                    2018-08-16 13:54:32,989 DEBUG [FireThornTaskExecutor-8] [JdbcTableEntity] scanning table [null]
                    2018-08-16 13:54:32,989 WARN  [FireThornTaskExecutor-8] [JdbcTableEntity] Null table
                    2018-08-16 13:54:32,989 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] operator() for [mssql]
                    2018-08-16 13:54:32,989 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] close [jdbc:jtds:sqlserver://ramses2/TESTFirethornUserdataSHEP20170525][1]
                    2018-08-16 13:54:32,989 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] operator() for [mssql]
                    2018-08-16 13:54:32,989 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] get() [jdbc:jtds:sqlserver://ramses2/TESTFirethornUserdataSHEP20170525]
                    2018-08-16 13:54:32,989 DEBUG [FireThornTaskExecutor-8] [JdbcTableEntity] columns() scan done for [21077814][TESTFirethornUserdataSHEP20170525.dbo.XX_EWHNN73GDDH72AAAAFSUGBBRMU]
                    2018-08-16 13:54:32,989 DEBUG [FireThornTaskExecutor-8] [JdbcTableEntity] Matching columns [0]
                    2018-08-16 13:54:32,989 DEBUG [FireThornTaskExecutor-8] [JdbcTableEntity] Listed but not matched [0]
                    2018-08-16 13:54:32,989 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] Releasing locks [21077814][XX_EWHNN73GDDH72AAAAFSUGBBRMU]
                    2018-08-16 13:54:32,989 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] Found existing lock [21077814][XX_EWHNN73GDDH72AAAAFSUGBBRMU][2018-08-16T13:54:32.934Z]
                    2018-08-16 13:54:32,989 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] Removing ....
                    2018-08-16 13:54:32,989 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] Notifying ....
                    2018-08-16 13:54:32,989 DEBUG [FireThornTaskExecutor-8] [JdbcColumnEntity] JdbcColumnEntity [null][INTEGER][0]
                    2018-08-16 13:54:32,989 DEBUG [FireThornTaskExecutor-8] [AdqlTableEntity] columns() for [21077815][temp.XX_EWHNN73GDDH72AAAAFSUGBBRMU]
                    2018-08-16 13:54:32,989 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] scan for [21077815][XX_EWHNN73GDDH72AAAAFSUGBBRMU]
                    2018-08-16 13:54:32,989 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] scantest for [21077815][XX_EWHNN73GDDH72AAAAFSUGBBRMU]
                    2018-08-16 13:54:32,989 DEBUG [FireThornTaskExecutor-8] [AdqlTableEntity] factory()
                    2018-08-16 13:54:32,989 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity$EntityFactory] scanperiod()
                    2018-08-16 13:54:32,989 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity$EntityFactory]   value [PT25H]
                    2018-08-16 13:54:32,989 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] Factory scanperiod  [PT25H]
                    2018-08-16 13:54:32,989 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] prevscan   [null]
                    2018-08-16 13:54:32,989 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] scanperiod [PT25H]
                    2018-08-16 13:54:32,989 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] prev scan is null - scanning
                    2018-08-16 13:54:32,989 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] Checking for existing lock [21077815][XX_EWHNN73GDDH72AAAAFSUGBBRMU]
                    2018-08-16 13:54:32,989 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] No existing lock found [21077815][XX_EWHNN73GDDH72AAAAFSUGBBRMU]
                    2018-08-16 13:54:32,990 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] Adding new lock [21077815][XX_EWHNN73GDDH72AAAAFSUGBBRMU][2018-08-16T13:54:32.990Z]
                    2018-08-16 13:54:32,990 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] Running scan [21077815][XX_EWHNN73GDDH72AAAAFSUGBBRMU]
                    2018-08-16 13:54:32,990 DEBUG [FireThornTaskExecutor-8] [AdqlTableEntity] scanimpl() for [21077815][temp.XX_EWHNN73GDDH72AAAAFSUGBBRMU]
                    2018-08-16 13:54:32,990 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] Releasing locks [21077815][XX_EWHNN73GDDH72AAAAFSUGBBRMU]
                    2018-08-16 13:54:32,990 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] Found existing lock [21077815][XX_EWHNN73GDDH72AAAAFSUGBBRMU][2018-08-16T13:54:32.990Z]
                    2018-08-16 13:54:32,990 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] Removing ....
                    2018-08-16 13:54:32,990 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] Notifying ....
                    2018-08-16 13:54:32,990 DEBUG [FireThornTaskExecutor-8] [AdqlTableEntity] realize() [21077815][XX_EWHNN73GDDH72AAAAFSUGBBRMU]
                    2018-08-16 13:54:32,990 DEBUG [FireThornTaskExecutor-8] [BlueQueryEntity] Creating JDBC table
                    2018-08-16 13:54:32,990 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] operator() for [mssql]
                    2018-08-16 13:54:32,990 DEBUG [FireThornTaskExecutor-8] [SQLServerOperator] Create JdbcTable [XX_EWHNN73GDDH72AAAAFSUGBBRMU]
                    2018-08-16 13:54:32,990 DEBUG [FireThornTaskExecutor-8] [JdbcTableEntity] columns() for [21077814][TESTFirethornUserdataSHEP20170525.dbo.XX_EWHNN73GDDH72AAAAFSUGBBRMU]
                    2018-08-16 13:54:32,990 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] scan for [21077814][XX_EWHNN73GDDH72AAAAFSUGBBRMU]
                    2018-08-16 13:54:32,990 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] scantest for [21077814][XX_EWHNN73GDDH72AAAAFSUGBBRMU]
                    2018-08-16 13:54:32,990 DEBUG [FireThornTaskExecutor-8] [JdbcTableEntity] factory()
                    2018-08-16 13:54:32,990 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity$EntityFactory] scanperiod()
                    2018-08-16 13:54:32,990 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity$EntityFactory]   value [PT25H]
                    2018-08-16 13:54:32,990 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] Factory scanperiod  [PT25H]
                    2018-08-16 13:54:32,990 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] prevscan   [2018-08-16T13:54:32.989Z]
                    2018-08-16 13:54:32,990 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] scanperiod [PT25H]
                    2018-08-16 13:54:32,990 DEBUG [FireThornTaskExecutor-8] [BaseComponentEntity] prev scan is recent - skipping
                    2018-08-16 13:54:33,006 DEBUG [FireThornTaskExecutor-8] [AdqlQueryTimings] AdqlQueryTimings()
                    2018-08-16 13:54:33,013 DEBUG [FireThornTaskExecutor-8] [SQLServerOperator] Create JdbcColumn [XX_M2CCYOC7C27K4AAAAFSUGBBRTU]
                    2018-08-16 13:54:33,013 DEBUG [FireThornTaskExecutor-8] [SQLServerOperator] sqltype()
                    2018-08-16 13:54:33,013 DEBUG [FireThornTaskExecutor-8] [SQLServerOperator]   name [XX_M2CCYOC7C27K4AAAAFSUGBBRTU]
                    2018-08-16 13:54:33,013 DEBUG [FireThornTaskExecutor-8] [SQLServerOperator]   type [INTEGER]
                    2018-08-16 13:54:33,013 DEBUG [FireThornTaskExecutor-8] [SQLServerOperator]   size [0]
                    2018-08-16 13:54:33,013 DEBUG [FireThornTaskExecutor-8] [SQLServerOperator]   temp [INTEGER]
                    2018-08-16 13:54:33,013 DEBUG [FireThornTaskExecutor-8] [SQLServerOperator] SQL statement [CREATE TABLE [TESTFirethornUserdataSHEP20170525].[dbo].[XX_EWHNN73GDDH72AAAAFSUGBBRMU] ([XX_M2CCYOC7C27K4AAAAFSUGBBRTU] INTEGER )]
                    2018-08-16 13:54:33,013 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] operator() for [mssql]
                    2018-08-16 13:54:33,013 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] open [jdbc:jtds:sqlserver://ramses2/TESTFirethornUserdataSHEP20170525][1]
                    2018-08-16 13:54:33,013 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] operator() for [mssql]
                    2018-08-16 13:54:33,013 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] get() [jdbc:jtds:sqlserver://ramses2/TESTFirethornUserdataSHEP20170525]
                    2018-08-16 13:54:33,013 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] operator() for [mssql]
                    2018-08-16 13:54:33,013 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] initialValue() [jdbc:jtds:sqlserver://ramses2/TESTFirethornUserdataSHEP20170525]
                    2018-08-16 13:54:33,013 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] operator() for [mssql]
                    2018-08-16 13:54:33,013 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] connect [jdbc:jtds:sqlserver://ramses2/TESTFirethornUserdataSHEP20170525]
                    2018-08-16 13:54:33,013 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] State is CLOSED, updating to READY
                    2018-08-16 13:54:33,013 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] State is READY, initialising Connection
                    2018-08-16 13:54:33,013 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] With user/pass
                    2018-08-16 13:54:33,013 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] connecting ....
                    2018-08-16 13:54:33,018 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] .... connected
                    2018-08-16 13:54:33,397 DEBUG [FireThornTaskExecutor-8] [SQLServerOperator] SQL result [0]
                    2018-08-16 13:54:33,397 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] operator() for [mssql]
                    2018-08-16 13:54:33,397 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] close [jdbc:jtds:sqlserver://ramses2/TESTFirethornUserdataSHEP20170525][1]
                    2018-08-16 13:54:33,397 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] operator() for [mssql]
                    2018-08-16 13:54:33,397 DEBUG [FireThornTaskExecutor-8] [JdbcConnectionEntity] get() [jdbc:jtds:sqlserver://ramses2/TESTFirethornUserdataSHEP20170525]
                    2018-08-16 13:54:33,397 DEBUG [FireThornTaskExecutor-8] [BlueQueryEntity] JDBC table created
                    2018-08-16 13:54:33,397 INFO  [FireThornTaskExecutor-8] [AdqlQueryTimings] TIMING - jdbcdone()
                    2018-08-16 13:54:33,401 DEBUG [FireThornTaskExecutor-8] [AdqlQueryTimings] AdqlQueryTimings()
                2018-08-16 13:54:33,405 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity$TaskRunner] After future.get()
                2018-08-16 13:54:33,405 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity$TaskRunner]   result [READY]
                2018-08-16 13:54:33,405 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity] Refreshing Hibernate entity [21074134]
                2018-08-16 13:54:33,410 DEBUG [FireThornTaskExecutor-7] [AdqlQueryTimings] AdqlQueryTimings()
                2018-08-16 13:54:33,410 DEBUG [FireThornTaskExecutor-7] [AdqlQueryTimings] AdqlQueryTimings()
                2018-08-16 13:54:33,411 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity] Getting base BaseResource
                2018-08-16 13:54:33,411 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity] Found base BaseResource [OSA JDBC]
                2018-08-16 13:54:33,411 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity] Getting direct resource
                2018-08-16 13:54:33,411 DEBUG [FireThornTaskExecutor-7] [OgsaJdbcResourceEntity$EntityFactory] primary(JdbcResource) [60]
                2018-08-16 13:54:33,412 DEBUG [FireThornTaskExecutor-7] [OgsaServiceEntity] primary()
                2018-08-16 13:54:33,415 DEBUG [FireThornTaskExecutor-7] [OgsaJdbcResourceEntity$EntityFactory] primary(OgsaService, JdbcResource) [73952][60]
                2018-08-16 13:54:33,418 DEBUG [FireThornTaskExecutor-7] [OgsaJdbcResourceEntity$EntityFactory] Found primary OgsaJdbcResource [106475]
                2018-08-16 13:54:33,419 DEBUG [FireThornTaskExecutor-7] [OgsaJdbcResourceEntity$EntityFactory] Checking ogsaid ...
                2018-08-16 13:54:33,419 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] ogsaid [ACTIVE][ogsadai-4870eb42-19f9-4af5-b6d9-47a18063e3b0]
                2018-08-16 13:54:33,419 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] scan for [106475][XX_KFTK2R26VPTHUAAAAFSALZC3PU]
                2018-08-16 13:54:33,419 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] scantest()
                2018-08-16 13:54:33,419 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   name   [XX_KFTK2R26VPTHUAAAAFSALZC3PU]
                2018-08-16 13:54:33,419 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   ident  [106475]
                2018-08-16 13:54:33,419 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   ogsaid [ogsadai-4870eb42-19f9-4af5-b6d9-47a18063e3b0]
                2018-08-16 13:54:33,419 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] prevscan   [2018-08-16T13:41:20.468Z]
                2018-08-16 13:54:33,419 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] start time [2018-08-15T17:12:47.123Z]
                2018-08-16 13:54:33,419 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] scantest for [106475][XX_KFTK2R26VPTHUAAAAFSALZC3PU]
                2018-08-16 13:54:33,419 DEBUG [FireThornTaskExecutor-7] [OgsaJdbcResourceEntity] factory()
                2018-08-16 13:54:33,419 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity$EntityFactory] scanperiod()
                2018-08-16 13:54:33,419 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity$EntityFactory]   value [PT11M]
                2018-08-16 13:54:33,419 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] Factory scanperiod  [PT11M]
                2018-08-16 13:54:33,419 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] prevscan   [2018-08-16T13:41:20.468Z]
                2018-08-16 13:54:33,419 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] scanperiod [PT11M]
                2018-08-16 13:54:33,419 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] scan period expired - scanning
                2018-08-16 13:54:33,419 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] Checking for existing lock [106475][XX_KFTK2R26VPTHUAAAAFSALZC3PU]
                2018-08-16 13:54:33,419 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] No existing lock found [106475][XX_KFTK2R26VPTHUAAAAFSALZC3PU]
                2018-08-16 13:54:33,419 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] Adding new lock [106475][XX_KFTK2R26VPTHUAAAAFSALZC3PU][2018-08-16T13:54:33.419Z]
                2018-08-16 13:54:33,419 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] Running scan [106475][XX_KFTK2R26VPTHUAAAAFSALZC3PU]
                2018-08-16 13:54:33,419 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] scanimpl()
                2018-08-16 13:54:33,419 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   name   [XX_KFTK2R26VPTHUAAAAFSALZC3PU]
                2018-08-16 13:54:33,419 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   ident  [106475]
                2018-08-16 13:54:33,419 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   ogsaid [ogsadai-4870eb42-19f9-4af5-b6d9-47a18063e3b0]
                2018-08-16 13:54:33,419 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] ping()
                2018-08-16 13:54:33,419 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   name   [XX_KFTK2R26VPTHUAAAAFSALZC3PU]
                2018-08-16 13:54:33,419 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   ident  [106475]
                2018-08-16 13:54:33,419 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   ogsaid [ogsadai-4870eb42-19f9-4af5-b6d9-47a18063e3b0]
                2018-08-16 13:54:33,419 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] Service request [106475][http://jarmila:8080/ogsadai/services/dataResources/ogsadai-4870eb42-19f9-4af5-b6d9-47a18063e3b0]
                2018-08-16 13:54:33,542 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] Service response [106475][null]
                2018-08-16 13:54:33,542 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] Ping test passed [106475][ogsadai-4870eb42-19f9-4af5-b6d9-47a18063e3b0]
                2018-08-16 13:54:33,542 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] status(status)
                2018-08-16 13:54:33,542 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   name   [XX_KFTK2R26VPTHUAAAAFSALZC3PU]
                2018-08-16 13:54:33,542 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   ident  [106475]
                2018-08-16 13:54:33,542 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   ogsaid [ogsadai-4870eb42-19f9-4af5-b6d9-47a18063e3b0]
                2018-08-16 13:54:33,542 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   status [ACTIVE]
                2018-08-16 13:54:33,542 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] Releasing locks [106475][XX_KFTK2R26VPTHUAAAAFSALZC3PU]
                2018-08-16 13:54:33,542 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] Found existing lock [106475][XX_KFTK2R26VPTHUAAAAFSALZC3PU][2018-08-16T13:54:33.419Z]
                2018-08-16 13:54:33,542 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] Removing ....
                2018-08-16 13:54:33,542 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] Notifying ....
                2018-08-16 13:54:33,542 DEBUG [FireThornTaskExecutor-7] [OgsaJdbcResourceEntity$EntityFactory] Found ogsaid [ogsadai-4870eb42-19f9-4af5-b6d9-47a18063e3b0][ACTIVE]
                2018-08-16 13:54:33,542 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity] Using direct resource [XX_KFTK2R26VPTHUAAAAFSALZC3PU]
                2018-08-16 13:54:33,542 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity] Getting source OgsaService
                2018-08-16 13:54:33,542 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity] Found source OgsaService [http://jarmila:8080/ogsadai/services]
                2018-08-16 13:54:33,542 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity] Getting target table
                2018-08-16 13:54:33,548 DEBUG [FireThornTaskExecutor-7] [JdbcConnectionEntity] operator() for [mssql]
                2018-08-16 13:54:33,549 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity] Found target table [[TESTFirethornUserdataSHEP20170525].[dbo].[XX_EWHNN73GDDH72AAAAFSUGBBRMU]]
                2018-08-16 13:54:33,549 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity] Getting target OgsaBaseResource
                2018-08-16 13:54:33,549 DEBUG [FireThornTaskExecutor-7] [OgsaJdbcResourceEntity$EntityFactory] primary(JdbcResource) [52]
                2018-08-16 13:54:33,549 DEBUG [FireThornTaskExecutor-7] [OgsaServiceEntity] primary()
                2018-08-16 13:54:33,551 DEBUG [FireThornTaskExecutor-7] [OgsaJdbcResourceEntity$EntityFactory] primary(OgsaService, JdbcResource) [73952][52]
                2018-08-16 13:54:33,554 DEBUG [FireThornTaskExecutor-7] [OgsaJdbcResourceEntity$EntityFactory] Found primary OgsaJdbcResource [74003]
                2018-08-16 13:54:33,554 DEBUG [FireThornTaskExecutor-7] [OgsaJdbcResourceEntity$EntityFactory] Checking ogsaid ...
                2018-08-16 13:54:33,554 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] ogsaid [ACTIVE][ogsadai-d4d40aa9-ae60-4968-b024-c27b6c8c3fb5]
                2018-08-16 13:54:33,554 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] scan for [74003][XX_I3XE2MFQCSBFOAAAAFSAIEKBPI]
                2018-08-16 13:54:33,554 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] scantest()
                2018-08-16 13:54:33,554 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   name   [XX_I3XE2MFQCSBFOAAAAFSAIEKBPI]
                2018-08-16 13:54:33,554 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   ident  [74003]
                2018-08-16 13:54:33,554 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   ogsaid [ogsadai-d4d40aa9-ae60-4968-b024-c27b6c8c3fb5]
                2018-08-16 13:54:33,554 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] prevscan   [2018-08-16T13:41:20.484Z]
                2018-08-16 13:54:33,554 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] start time [2018-08-15T17:12:47.123Z]
                2018-08-16 13:54:33,554 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] scantest for [74003][XX_I3XE2MFQCSBFOAAAAFSAIEKBPI]
                2018-08-16 13:54:33,554 DEBUG [FireThornTaskExecutor-7] [OgsaJdbcResourceEntity] factory()
                2018-08-16 13:54:33,554 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity$EntityFactory] scanperiod()
                2018-08-16 13:54:33,554 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity$EntityFactory]   value [PT11M]
                2018-08-16 13:54:33,554 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] Factory scanperiod  [PT11M]
                2018-08-16 13:54:33,554 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] prevscan   [2018-08-16T13:41:20.484Z]
                2018-08-16 13:54:33,554 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] scanperiod [PT11M]
                2018-08-16 13:54:33,554 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] scan period expired - scanning
                2018-08-16 13:54:33,554 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] Checking for existing lock [74003][XX_I3XE2MFQCSBFOAAAAFSAIEKBPI]
                2018-08-16 13:54:33,554 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] No existing lock found [74003][XX_I3XE2MFQCSBFOAAAAFSAIEKBPI]
                2018-08-16 13:54:33,554 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] Adding new lock [74003][XX_I3XE2MFQCSBFOAAAAFSAIEKBPI][2018-08-16T13:54:33.554Z]
                2018-08-16 13:54:33,555 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] Running scan [74003][XX_I3XE2MFQCSBFOAAAAFSAIEKBPI]
                2018-08-16 13:54:33,555 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] scanimpl()
                2018-08-16 13:54:33,555 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   name   [XX_I3XE2MFQCSBFOAAAAFSAIEKBPI]
                2018-08-16 13:54:33,555 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   ident  [74003]
                2018-08-16 13:54:33,555 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   ogsaid [ogsadai-d4d40aa9-ae60-4968-b024-c27b6c8c3fb5]
                2018-08-16 13:54:33,555 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] ping()
                2018-08-16 13:54:33,555 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   name   [XX_I3XE2MFQCSBFOAAAAFSAIEKBPI]
                2018-08-16 13:54:33,555 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   ident  [74003]
                2018-08-16 13:54:33,555 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   ogsaid [ogsadai-d4d40aa9-ae60-4968-b024-c27b6c8c3fb5]
                2018-08-16 13:54:33,555 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] Service request [74003][http://jarmila:8080/ogsadai/services/dataResources/ogsadai-d4d40aa9-ae60-4968-b024-c27b6c8c3fb5]
                2018-08-16 13:54:33,560 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] Service response [74003][null]
                2018-08-16 13:54:33,560 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] Ping test passed [74003][ogsadai-d4d40aa9-ae60-4968-b024-c27b6c8c3fb5]
                2018-08-16 13:54:33,560 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] status(status)
                2018-08-16 13:54:33,560 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   name   [XX_I3XE2MFQCSBFOAAAAFSAIEKBPI]
                2018-08-16 13:54:33,560 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   ident  [74003]
                2018-08-16 13:54:33,560 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   ogsaid [ogsadai-d4d40aa9-ae60-4968-b024-c27b6c8c3fb5]
                2018-08-16 13:54:33,560 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   status [ACTIVE]
                2018-08-16 13:54:33,560 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] Releasing locks [74003][XX_I3XE2MFQCSBFOAAAAFSAIEKBPI]
                2018-08-16 13:54:33,560 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] Found existing lock [74003][XX_I3XE2MFQCSBFOAAAAFSAIEKBPI][2018-08-16T13:54:33.554Z]
                2018-08-16 13:54:33,560 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] Removing ....
                2018-08-16 13:54:33,560 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] Notifying ....
                2018-08-16 13:54:33,560 DEBUG [FireThornTaskExecutor-7] [OgsaJdbcResourceEntity$EntityFactory] Found ogsaid [ogsadai-d4d40aa9-ae60-4968-b024-c27b6c8c3fb5][ACTIVE]
                2018-08-16 13:54:33,560 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity] Found target OgsaBaseResource [XX_I3XE2MFQCSBFOAAAAFSAIEKBPI]
                2018-08-16 13:54:33,560 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity] -- ci3ooN5u Ohmei0Ga --
                2018-08-16 13:54:33,560 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity] Setting state to [RUNNING]
                2018-08-16 13:54:33,560 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity] transition(TaskState)
                2018-08-16 13:54:33,560 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity]   ident [21074134]
                2018-08-16 13:54:33,560 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity]   state [READY][RUNNING]
                2018-08-16 13:54:33,560 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity] accept(TaskState)
                2018-08-16 13:54:33,560 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity]   ident [21074134]
                2018-08-16 13:54:33,560 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity]   state [READY][RUNNING]
                2018-08-16 13:54:33,560 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity] Activating handler
                2018-08-16 13:54:33,560 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity] handle()
                2018-08-16 13:54:33,560 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity]   ident [21074134]
                2018-08-16 13:54:33,561 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity] Checking for existing handle [21074134]
                2018-08-16 13:54:33,561 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity] handle(String)
                2018-08-16 13:54:33,561 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity]   key [21074134]
                2018-08-16 13:54:33,561 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity] No Handle found, checking state [21074134]
                2018-08-16 13:54:33,561 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity] State is active, creating new Handle [21074134]
                2018-08-16 13:54:33,561 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity] -- Ooj6Loqu gi8Hiej7 [21074134]
                2018-08-16 13:54:33,561 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity] event(TaskState, boolean)
                2018-08-16 13:54:33,561 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity]   state [RUNNING][RUNNING]
                2018-08-16 13:54:33,561 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity]   sticky [false][true]
                2018-08-16 13:54:33,561 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity] Checking state
                2018-08-16 13:54:33,561 ERROR [FireThornTaskExecutor-7] [BlueTaskEntity] Ignoring backward state change
                2018-08-16 13:54:33,561 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity] before notify
                2018-08-16 13:54:33,561 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity] after notify
                2018-08-16 13:54:33,561 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity] -- diHohj8a Reez1OeY [21074134]
                2018-08-16 13:54:33,561 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity] Checking Handler
                2018-08-16 13:54:33,561 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity]   state  [RUNNING]
                2018-08-16 13:54:33,561 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity]   sticky [true]
                2018-08-16 13:54:33,561 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity] TaskState is active, keeping Handler
                2018-08-16 13:54:33,561 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity] Creating workflow ...
                2018-08-16 13:54:33,561 DEBUG [FireThornTaskExecutor-7] [OgsaExecResourceEntity$EntityFactory] primary(OgsaService) [73952]
                2018-08-16 13:54:33,577 DEBUG [FireThornTaskExecutor-7] [OgsaExecResourceEntity$EntityFactory] No primary OgsaExecResource, creating a new one
                2018-08-16 13:54:33,577 DEBUG [FireThornTaskExecutor-7] [OgsaExecResourceEntity$EntityFactory] simple(OgsaService) [73952]
                2018-08-16 13:54:33,577 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] ogsaid [CREATED][DataRequestExecutionResource]
                2018-08-16 13:54:33,577 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] scan for [21073883][XX_EXQYFXJBM76WOAAAAFSUGBBT5E]
                2018-08-16 13:54:33,577 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] scantest()
                2018-08-16 13:54:33,577 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   name   [XX_EXQYFXJBM76WOAAAAFSUGBBT5E]
                2018-08-16 13:54:33,577 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   ident  [21073883]
                2018-08-16 13:54:33,577 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   ogsaid [DataRequestExecutionResource]
                2018-08-16 13:54:33,577 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] prevscan   [null]
                2018-08-16 13:54:33,577 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] start time [2018-08-15T17:12:47.123Z]
                2018-08-16 13:54:33,577 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] scantest for [21073883][XX_EXQYFXJBM76WOAAAAFSUGBBT5E]
                2018-08-16 13:54:33,577 DEBUG [FireThornTaskExecutor-7] [OgsaExecResourceEntity] factory()
                2018-08-16 13:54:33,577 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity$EntityFactory] scanperiod()
                2018-08-16 13:54:33,577 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity$EntityFactory]   value [PT11M]
                2018-08-16 13:54:33,577 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] Factory scanperiod  [PT11M]
                2018-08-16 13:54:33,577 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] prevscan   [null]
                2018-08-16 13:54:33,577 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] scanperiod [PT11M]
                2018-08-16 13:54:33,577 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] prev scan is null - scanning
                2018-08-16 13:54:33,577 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] Checking for existing lock [21073883][XX_EXQYFXJBM76WOAAAAFSUGBBT5E]
                2018-08-16 13:54:33,577 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] No existing lock found [21073883][XX_EXQYFXJBM76WOAAAAFSUGBBT5E]
                2018-08-16 13:54:33,578 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] Adding new lock [21073883][XX_EXQYFXJBM76WOAAAAFSUGBBT5E][2018-08-16T13:54:33.578Z]
                2018-08-16 13:54:33,578 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] Running scan [21073883][XX_EXQYFXJBM76WOAAAAFSUGBBT5E]
                2018-08-16 13:54:33,578 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] scanimpl()
                2018-08-16 13:54:33,578 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   name   [XX_EXQYFXJBM76WOAAAAFSUGBBT5E]
                2018-08-16 13:54:33,578 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   ident  [21073883]
                2018-08-16 13:54:33,578 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   ogsaid [DataRequestExecutionResource]
                2018-08-16 13:54:33,578 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] ping()
                2018-08-16 13:54:33,578 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   name   [XX_EXQYFXJBM76WOAAAAFSUGBBT5E]
                2018-08-16 13:54:33,578 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   ident  [21073883]
                2018-08-16 13:54:33,578 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   ogsaid [DataRequestExecutionResource]
                2018-08-16 13:54:33,578 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] Service request [21073883][http://jarmila:8080/ogsadai/services/dataResources/DataRequestExecutionResource]
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] Service response [21073883][null]
                2018-08-16 13:54:33,582 ERROR [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] Ping test failed [21073883][DataRequestExecutionResource][404]
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] status(status)
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   name   [XX_EXQYFXJBM76WOAAAAFSUGBBT5E]
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   ident  [21073883]
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   ogsaid [DataRequestExecutionResource]
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   status [ERROR]
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] Releasing locks [21073883][XX_EXQYFXJBM76WOAAAAFSUGBBT5E]
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] Found existing lock [21073883][XX_EXQYFXJBM76WOAAAAFSUGBBT5E][2018-08-16T13:54:33.578Z]
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] Removing ....
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] Notifying ....
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] ogsaid [ACTIVE][ogsadai-4870eb42-19f9-4af5-b6d9-47a18063e3b0]
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] scan for [106475][XX_KFTK2R26VPTHUAAAAFSALZC3PU]
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] scantest()
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   name   [XX_KFTK2R26VPTHUAAAAFSALZC3PU]
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   ident  [106475]
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   ogsaid [ogsadai-4870eb42-19f9-4af5-b6d9-47a18063e3b0]
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] prevscan   [2018-08-16T13:54:33.542Z]
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] start time [2018-08-15T17:12:47.123Z]
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] scantest for [106475][XX_KFTK2R26VPTHUAAAAFSALZC3PU]
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [OgsaJdbcResourceEntity] factory()
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity$EntityFactory] scanperiod()
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity$EntityFactory]   value [PT11M]
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] Factory scanperiod  [PT11M]
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] prevscan   [2018-08-16T13:54:33.542Z]
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] scanperiod [PT11M]
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] prev scan is recent - skipping
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] ogsaid [ACTIVE][ogsadai-d4d40aa9-ae60-4968-b024-c27b6c8c3fb5]
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] scan for [74003][XX_I3XE2MFQCSBFOAAAAFSAIEKBPI]
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] scantest()
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   name   [XX_I3XE2MFQCSBFOAAAAFSAIEKBPI]
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   ident  [74003]
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity]   ogsaid [ogsadai-d4d40aa9-ae60-4968-b024-c27b6c8c3fb5]
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] prevscan   [2018-08-16T13:54:33.560Z]
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [OgsaBaseResourceEntity] start time [2018-08-15T17:12:47.123Z]
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] scantest for [74003][XX_I3XE2MFQCSBFOAAAAFSAIEKBPI]
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [OgsaJdbcResourceEntity] factory()
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity$EntityFactory] scanperiod()
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity$EntityFactory]   value [PT11M]
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] Factory scanperiod  [PT11M]
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] prevscan   [2018-08-16T13:54:33.560Z]
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] scanperiod [PT11M]
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [BaseComponentEntity] prev scan is recent - skipping
                2018-08-16 13:54:33,582 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity] Executing workflow ...
                2018-08-16 13:54:33,735 DEBUG [FireThornTaskExecutor-7] [SimpleWorkflowResult] RequestExecutionStatus [uk.org.ogsadai.resource.request.status.PROCESSING]
                2018-08-16 13:54:33,735 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity] -- Meex9Lae OzoDei0b [21074134]
                2018-08-16 13:54:33,735 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity] After workflow ...
                2018-08-16 13:54:33,735 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity]   state [RUNNING]
                2018-08-16 13:54:33,735 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity] Refreshing entity
                2018-08-16 13:54:33,735 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity] Refreshing Hibernate entity [21074134]
                2018-08-16 13:54:33,743 DEBUG [FireThornTaskExecutor-7] [AdqlQueryTimings] AdqlQueryTimings()
                2018-08-16 13:54:33,743 DEBUG [FireThornTaskExecutor-7] [AdqlQueryTimings] AdqlQueryTimings()
                2018-08-16 13:54:33,744 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity] After refresh
                2018-08-16 13:54:33,744 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity]   state [READY]
                2018-08-16 13:54:33,744 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity] Workflow result [RUNNING]
                2018-08-16 13:54:33,744 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity] transition(TaskState)
                2018-08-16 13:54:33,744 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity]   ident [21074134]
                2018-08-16 13:54:33,744 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity]   state [READY][RUNNING]
                2018-08-16 13:54:33,744 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity] accept(TaskState)
                2018-08-16 13:54:33,744 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity]   ident [21074134]
                2018-08-16 13:54:33,744 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity]   state [READY][RUNNING]
                2018-08-16 13:54:33,744 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity] -- Fui7uiNe oVash5sh [21074134]
                2018-08-16 13:54:33,744 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity] Finishing execute()
                2018-08-16 13:54:33,744 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity]   ident [21074134]
                2018-08-16 13:54:33,744 DEBUG [FireThornTaskExecutor-7] [BlueQueryEntity]   state [RUNNING]
                2018-08-16 13:54:33,744 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity] After execute()
                2018-08-16 13:54:33,744 DEBUG [FireThornTaskExecutor-7] [BlueTaskEntity]   state [RUNNING]
                2018-08-16 13:54:33,747 DEBUG [FireThornTaskExecutor-7] [AdqlQueryTimings] AdqlQueryTimings()
            2018-08-16 13:54:33,751 DEBUG [FireThornTaskExecutor-10] [BlueTaskEntity$TaskRunner] After future.get()
            2018-08-16 13:54:33,751 DEBUG [FireThornTaskExecutor-10] [BlueTaskEntity$TaskRunner]   result [RUNNING]
            2018-08-16 13:54:33,751 DEBUG [FireThornTaskExecutor-10] [BlueTaskEntity] Finished thread()
            2018-08-16 13:54:33,751 DEBUG [FireThornTaskExecutor-10] [BlueTaskEntity]   state [READY]
            2018-08-16 13:54:33,751 DEBUG [FireThornTaskExecutor-10] [BlueTaskEntity] Refreshing state
            2018-08-16 13:54:33,751 DEBUG [FireThornTaskExecutor-10] [BlueTaskEntity] Refreshing Hibernate entity [21074134]
            2018-08-16 13:54:33,755 DEBUG [FireThornTaskExecutor-10] [AdqlQueryTimings] AdqlQueryTimings()
            2018-08-16 13:54:33,756 DEBUG [FireThornTaskExecutor-10] [AdqlQueryTimings] AdqlQueryTimings()
            2018-08-16 13:54:33,756 DEBUG [FireThornTaskExecutor-10] [BlueTaskEntity] Finished running()
            2018-08-16 13:54:33,756 DEBUG [FireThornTaskExecutor-10] [BlueTaskEntity]   state [RUNNING]
            2018-08-16 13:54:33,756 DEBUG [FireThornTaskExecutor-10] [BlueQueryEntity] Completing update
            2018-08-16 13:54:33,756 DEBUG [FireThornTaskExecutor-10] [BlueQueryEntity]   state [RUNNING]
        2018-08-16 13:54:33,757 DEBUG [main-interface-114] [BlueTaskEntity$TaskRunner] After future.get()
        2018-08-16 13:54:33,757 DEBUG [main-interface-114] [BlueTaskEntity$TaskRunner]   result [RUNNING]
        2018-08-16 13:54:33,757 DEBUG [main-interface-114] [BlueQueryEntity] -- ohx7aeRu raid3Sho [21074134]
        2018-08-16 13:54:33,757 DEBUG [main-interface-114] [BlueQueryEntity] After BlueQuery Updator
        2018-08-16 13:54:33,757 DEBUG [main-interface-114] [BlueQueryEntity]   state [READY]
        2018-08-16 13:54:33,757 DEBUG [main-interface-114] [BlueQueryEntity] Converting current instance [21074134]
        2018-08-16 13:54:33,757 DEBUG [main-interface-114] [BlueQueryEntity] services()
        2018-08-16 13:54:33,757 DEBUG [main-interface-114] [BlueQueryEntity] After BlueQuery rebase
        2018-08-16 13:54:33,757 DEBUG [main-interface-114] [BlueQueryEntity]   state [RUNNING]
        2018-08-16 13:54:33,757 DEBUG [main-interface-114] [BlueTaskEntity] Refreshing Hibernate entity [21074134]
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [AdqlQueryTimings] AdqlQueryTimings()
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [AdqlQueryTimings] AdqlQueryTimings()
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [BlueQueryEntity] After BlueQuery refresh
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [BlueQueryEntity]   state [RUNNING]
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [BlueQueryEntity] Before BlueQuery wait
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [BlueQueryEntity]   state [RUNNING]
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [BlueQueryEntity] -- ohj0Toh3 Iequae3e [21074134]
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [BlueQueryEntity] waitfor(TaskState, Long)
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [BlueTaskEntity] -- CheaCh0X aew1aiSh [21074134]
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [BlueTaskEntity] waitfor(TaskState, Long)
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [BlueTaskEntity]   ident [21074134]
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [BlueTaskEntity]   state [RUNNING]
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [BlueTaskEntity]   prev  [RUNNING]
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [BlueTaskEntity]   next  [COMPLETED]
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [BlueTaskEntity]   wait  [600000]
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [BlueTaskEntity] State is active - getting handle
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [BlueTaskEntity] handle()
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [BlueTaskEntity]   ident [21074134]
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [BlueTaskEntity] Checking for existing handle [21074134]
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [BlueTaskEntity] handle(String)
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [BlueTaskEntity]   key [21074134]
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [BlueTaskEntity] Found existing Handle [21074134]
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [BlueTaskEntity]   ident [21074134]
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [BlueTaskEntity]   state [RUNNING]
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [BlueTaskEntity] Before listener.waitfor()
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [BlueTaskEntity]   ident [21074134]
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [BlueTaskEntity]   ident [21074134]
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [BlueTaskEntity]   state [RUNNING]
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [BlueTaskEntity]   state [RUNNING]
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [BlueTaskEntity] Waiting for state change event
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [BlueTaskEntity]   prev  [RUNNING]
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [BlueTaskEntity]   next  [COMPLETED]
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [BlueTaskEntity$BaseEventListener] waitfor(Handle)
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [BlueTaskEntity$BaseEventListener]   ident [21074134]
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [BlueTaskEntity$BaseEventListener]   state [RUNNING]
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [BlueTaskEntity$BaseEventListener] Handle state is active, starting loop
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [BlueTaskEntity$StatusEventListener] -- fei9viGh rieR2soo [21074134]
        2018-08-16 13:54:33,758 DEBUG [main-interface-114] [BlueTaskEntity$StatusEventListener] test()
        2018-08-16 13:54:33,759 DEBUG [main-interface-114] [BlueTaskEntity$StatusEventListener] Checking state
        2018-08-16 13:54:33,759 DEBUG [main-interface-114] [BlueTaskEntity$StatusEventListener]   prev  [RUNNING]
        2018-08-16 13:54:33,759 DEBUG [main-interface-114] [BlueTaskEntity$StatusEventListener]   state [RUNNING]
        2018-08-16 13:54:33,759 DEBUG [main-interface-114] [BlueTaskEntity$StatusEventListener]   next  [COMPLETED]
        2018-08-16 13:54:33,759 DEBUG [main-interface-114] [BlueTaskEntity$StatusEventListener] Handle state is active
        2018-08-16 13:54:33,759 DEBUG [main-interface-114] [BlueTaskEntity$BaseEventListener] -- aseez2oJ Oa4oophu [21074134]
        2018-08-16 13:54:33,759 DEBUG [main-interface-114] [BlueTaskEntity$BaseEventListener] test()
        2018-08-16 13:54:33,759 DEBUG [main-interface-114] [BlueTaskEntity$BaseEventListener] Checking elapsed time
        2018-08-16 13:54:33,759 DEBUG [main-interface-114] [BlueTaskEntity$BaseEventListener]   elapsed [1]
        2018-08-16 13:54:33,759 DEBUG [main-interface-114] [BlueTaskEntity$BaseEventListener]   timeout [600000]
        2018-08-16 13:54:33,759 DEBUG [main-interface-114] [BlueTaskEntity$BaseEventListener] (elapsed < timeout), return false
        2018-08-16 13:54:33,759 DEBUG [main-interface-114] [BlueTaskEntity$BaseEventListener] Handle wait loop [0]
        2018-08-16 13:54:33,759 DEBUG [main-interface-114] [BlueTaskEntity$BaseEventListener] starting wait [599999]
        2018-08-16 13:54:39,953 DEBUG [callback-interface-5] [HttpRequestDebug] preHandle()


    container=root_jarmila_1
    pushd $(
        docker inspect \
            "${container:?}" \
      | jq -r '
            .[].Mounts | .[] | select(.Destination == "/var/local/tomcat/logs") | .Source
            '
            )
        tail -f ogsadai.log

        2018-08-16 13:54:33,424 DEBUG context.RequestContextFactory [http-nio-8080-exec-5,createContext:60] createContext(HttpServletRequest)
        2018-08-16 13:54:33,425 DEBUG context.RequestContextFactory [http-nio-8080-exec-5,createContext:62] remote [172.20.0.5]
        2018-08-16 13:54:33,557 DEBUG context.RequestContextFactory [http-nio-8080-exec-6,createContext:60] createContext(HttpServletRequest)
        2018-08-16 13:54:33,558 DEBUG context.RequestContextFactory [http-nio-8080-exec-6,createContext:62] remote [172.20.0.5]
        2018-08-16 13:54:33,580 DEBUG context.RequestContextFactory [http-nio-8080-exec-7,createContext:60] createContext(HttpServletRequest)
        2018-08-16 13:54:33,580 DEBUG context.RequestContextFactory [http-nio-8080-exec-7,createContext:62] remote [172.20.0.5]
        2018-08-16 13:54:33,680 DEBUG context.RequestContextFactory [http-nio-8080-exec-8,createContext:60] createContext(HttpServletRequest)
        2018-08-16 13:54:33,681 DEBUG context.RequestContextFactory [http-nio-8080-exec-8,createContext:62] remote [172.20.0.5]
        2018-08-16 13:54:33,682 DEBUG drer.SimpleDRER [http-nio-8080-exec-8,debug:84] Entered execute(CandidateRequestDescriptor)
        2018-08-16 13:54:33,683 DEBUG drer.SimpleDRER [http-nio-8080-exec-8,debug:84] Workflow: Activity:
            activity name   = uk.ac.roe.wfau.firethorn.JdbcInsertData
            instance name   = uk.ac.roe.wfau.firethorn.JdbcInsertData-ogsadai-063e84ae-6bdb-42c7-b8d0-fb994da7f0ed
            target resource = ogsadai-d4d40aa9-ae60-4968-b024-c27b6c8c3fb5
            inputs:
                ActivityInputStream[name=tuples,pipeName=ogsadai-558dab09-2f22-4477-98d7-f33855edccb9]
                Literal: jdbc.insert.table.name : [TESTFirethornUserdataSHEP20170525].[dbo].[XX_EWHNN73GDDH72AAAAFSUGBBRMU]
            outputs:
                ActivityOutputStream[name=jdbc.insert.results,pipeName=ogsadai-cbcd275e-abca-4b6f-8c8c-d5659610cacb,source=uk.ac.roe.wfau.firethorn.JdbcInsertData-ogsadai-063e84ae-6bdb-42c7-b8d0-fb994da7f0ed

        Activity:
            activity name   = uk.ac.roe.wfau.firethorn.Context
            instance name   = uk.ac.roe.wfau.firethorn.Context-ogsadai-4521cb42-52b8-44a8-a47d-bf83c206c8be
            inputs:
                Literal: callback.port.input : 8081
                Literal: context.ident.input : 21074134
                Literal: context.pipeline.input : SELECT TOP 10 [TWOXMM].[dbo].[twoxmm].[DETID] AS [DETID]
        FROM [TWOXMM].[dbo].[twoxmm]
            outputs:
                ActivityOutputStream[name=context.pipeline.output,pipeName=ogsadai-35ec5e0b-ac8c-4b49-b8c6-2647a8e94305,source=uk.ac.roe.wfau.firethorn.Context-ogsadai-4521cb42-52b8-44a8-a47d-bf83c206c8be

        Activity:
            activity name   = uk.org.ogsadai.DeliverToRequestStatus
            instance name   = uk.org.ogsadai.DeliverToRequestStatus-ogsadai-e97264f4-4177-4c04-8948-47ff3e210425
            inputs:
                ActivityInputStream[name=input,pipeName=ogsadai-cbcd275e-abca-4b6f-8c8c-d5659610cacb]
            outputs:

        Activity:
            activity name   = uk.ac.roe.wfau.firethorn.Limits
            instance name   = uk.ac.roe.wfau.firethorn.Limits-ogsadai-cfce50e6-63bb-4f76-9bd4-4ac03c160909
            inputs:
                Literal: limit.rows : 1000000
                ActivityInputStream[name=tuples,pipeName=ogsadai-e9da2927-67ae-4b28-9bb9-e1a0bebd7768]
            outputs:
                ActivityOutputStream[name=tuples,pipeName=ogsadai-558dab09-2f22-4477-98d7-f33855edccb9,source=uk.ac.roe.wfau.firethorn.Limits-ogsadai-cfce50e6-63bb-4f76-9bd4-4ac03c160909

        Activity:
            activity name   = uk.ac.roe.wfau.firethorn.Delays
            instance name   = uk.ac.roe.wfau.firethorn.Delays-ogsadai-a1fe60d3-b6cb-4fbb-8c9b-865b219c0057
            inputs:
                Literal: delay.first : 500
                ActivityInputStream[name=tuples,pipeName=ogsadai-0392cfc6-25f2-442f-8fd0-0918bab280e9]
            outputs:
                ActivityOutputStream[name=tuples,pipeName=ogsadai-e9da2927-67ae-4b28-9bb9-e1a0bebd7768,source=uk.ac.roe.wfau.firethorn.Delays-ogsadai-a1fe60d3-b6cb-4fbb-8c9b-865b219c0057

        Activity:
            activity name   = uk.org.ogsadai.SQLQuery
            instance name   = uk.org.ogsadai.SQLQuery-ogsadai-02d87579-819e-420c-8a25-0ed9fe57fa0a
            target resource = ogsadai-4870eb42-19f9-4af5-b6d9-47a18063e3b0
            inputs:
                ActivityInputStream[name=expression,pipeName=ogsadai-35ec5e0b-ac8c-4b49-b8c6-2647a8e94305]
            outputs:
                ActivityOutputStream[name=data,pipeName=ogsadai-0392cfc6-25f2-442f-8fd0-0918bab280e9,source=uk.org.ogsadai.SQLQuery-ogsadai-02d87579-819e-420c-8a25-0ed9fe57fa0a


        2018-08-16 13:54:33,684 DEBUG drer.SimpleDRER [http-nio-8080-exec-8,debug:84] Entered execute(activity.RequestDescriptor)
        2018-08-16 13:54:33,685 DEBUG activity.OGSADAIActivityFramework [http-nio-8080-exec-8,debug:84] Found Workflow in RequestDescriptor: Activity:
            activity name   = uk.ac.roe.wfau.firethorn.JdbcInsertData
            instance name   = uk.ac.roe.wfau.firethorn.JdbcInsertData-ogsadai-063e84ae-6bdb-42c7-b8d0-fb994da7f0ed
            target resource = ogsadai-d4d40aa9-ae60-4968-b024-c27b6c8c3fb5
            inputs:
                ActivityInputStream[name=tuples,pipeName=ogsadai-558dab09-2f22-4477-98d7-f33855edccb9]
                Literal: jdbc.insert.table.name : [TESTFirethornUserdataSHEP20170525].[dbo].[XX_EWHNN73GDDH72AAAAFSUGBBRMU]
            outputs:
                ActivityOutputStream[name=jdbc.insert.results,pipeName=ogsadai-cbcd275e-abca-4b6f-8c8c-d5659610cacb,source=uk.ac.roe.wfau.firethorn.JdbcInsertData-ogsadai-063e84ae-6bdb-42c7-b8d0-fb994da7f0ed

        Activity:
            activity name   = uk.ac.roe.wfau.firethorn.Context
            instance name   = uk.ac.roe.wfau.firethorn.Context-ogsadai-4521cb42-52b8-44a8-a47d-bf83c206c8be
            inputs:
                Literal: callback.port.input : 8081
                Literal: context.ident.input : 21074134
                Literal: context.pipeline.input : SELECT TOP 10 [TWOXMM].[dbo].[twoxmm].[DETID] AS [DETID]
        FROM [TWOXMM].[dbo].[twoxmm]
            outputs:
                ActivityOutputStream[name=context.pipeline.output,pipeName=ogsadai-35ec5e0b-ac8c-4b49-b8c6-2647a8e94305,source=uk.ac.roe.wfau.firethorn.Context-ogsadai-4521cb42-52b8-44a8-a47d-bf83c206c8be

        Activity:
            activity name   = uk.org.ogsadai.DeliverToRequestStatus
            instance name   = uk.org.ogsadai.DeliverToRequestStatus-ogsadai-e97264f4-4177-4c04-8948-47ff3e210425
            inputs:
                ActivityInputStream[name=input,pipeName=ogsadai-cbcd275e-abca-4b6f-8c8c-d5659610cacb]
            outputs:

        Activity:
            activity name   = uk.ac.roe.wfau.firethorn.Limits
            instance name   = uk.ac.roe.wfau.firethorn.Limits-ogsadai-cfce50e6-63bb-4f76-9bd4-4ac03c160909
            inputs:
                Literal: limit.rows : 1000000
                ActivityInputStream[name=tuples,pipeName=ogsadai-e9da2927-67ae-4b28-9bb9-e1a0bebd7768]
            outputs:
                ActivityOutputStream[name=tuples,pipeName=ogsadai-558dab09-2f22-4477-98d7-f33855edccb9,source=uk.ac.roe.wfau.firethorn.Limits-ogsadai-cfce50e6-63bb-4f76-9bd4-4ac03c160909

        Activity:
            activity name   = uk.ac.roe.wfau.firethorn.Delays
            instance name   = uk.ac.roe.wfau.firethorn.Delays-ogsadai-a1fe60d3-b6cb-4fbb-8c9b-865b219c0057
            inputs:
                Literal: delay.first : 500
                ActivityInputStream[name=tuples,pipeName=ogsadai-0392cfc6-25f2-442f-8fd0-0918bab280e9]
            outputs:
                ActivityOutputStream[name=tuples,pipeName=ogsadai-e9da2927-67ae-4b28-9bb9-e1a0bebd7768,source=uk.ac.roe.wfau.firethorn.Delays-ogsadai-a1fe60d3-b6cb-4fbb-8c9b-865b219c0057

        Activity:
            activity name   = uk.org.ogsadai.SQLQuery
            instance name   = uk.org.ogsadai.SQLQuery-ogsadai-02d87579-819e-420c-8a25-0ed9fe57fa0a
            target resource = ogsadai-4870eb42-19f9-4af5-b6d9-47a18063e3b0
            inputs:
                ActivityInputStream[name=expression,pipeName=ogsadai-35ec5e0b-ac8c-4b49-b8c6-2647a8e94305]
            outputs:
                ActivityOutputStream[name=data,pipeName=ogsadai-0392cfc6-25f2-442f-8fd0-0918bab280e9,source=uk.org.ogsadai.SQLQuery-ogsadai-02d87579-819e-420c-8a25-0ed9fe57fa0a


        2018-08-16 13:54:33,685 DEBUG drer.SimpleDRER [http-nio-8080-exec-8,debug:84] Created engine.Request: uk.org.ogsadai.activity.request.WorkflowRequest@421234a0
        2018-08-16 13:54:33,686 DEBUG drer.SimpleDRER [http-nio-8080-exec-8,debug:84] About to submit request to engine: uk.org.ogsadai.engine.RequestQueueingEngine@2d3e6ff0
        2018-08-16 13:54:33,686 DEBUG drer.SimpleDRER [http-nio-8080-exec-8,debug:84] Sucessfully submitted request to engine: uk.org.ogsadai.engine.RequestQueueingEngine@2d3e6ff0
        2018-08-16 13:54:33,687 DEBUG request.WorkflowRequest [pool-2-thread-4,debug:84] Did not get a workflow transformation from the context
        2018-08-16 13:54:33,687 DEBUG pipeline.AutomaticTee [pool-2-thread-4,debug:84] Graph before transformation:
        2018-08-16 13:54:33,688 DEBUG pipeline.AutomaticTee [pool-2-thread-4,debug:84] Activity:
            activity name   = uk.ac.roe.wfau.firethorn.JdbcInsertData
            instance name   = uk.ac.roe.wfau.firethorn.JdbcInsertData-ogsadai-063e84ae-6bdb-42c7-b8d0-fb994da7f0ed
            target resource = ogsadai-d4d40aa9-ae60-4968-b024-c27b6c8c3fb5
            inputs:
                ActivityInputStream[name=tuples,pipeName=ogsadai-558dab09-2f22-4477-98d7-f33855edccb9]
                Literal: jdbc.insert.table.name : [TESTFirethornUserdataSHEP20170525].[dbo].[XX_EWHNN73GDDH72AAAAFSUGBBRMU]
            outputs:
                ActivityOutputStream[name=jdbc.insert.results,pipeName=ogsadai-cbcd275e-abca-4b6f-8c8c-d5659610cacb,source=uk.ac.roe.wfau.firethorn.JdbcInsertData-ogsadai-063e84ae-6bdb-42c7-b8d0-fb994da7f0ed

        Activity:
            activity name   = uk.ac.roe.wfau.firethorn.Context
            instance name   = uk.ac.roe.wfau.firethorn.Context-ogsadai-4521cb42-52b8-44a8-a47d-bf83c206c8be
            inputs:
                Literal: callback.port.input : 8081
                Literal: context.ident.input : 21074134
                Literal: context.pipeline.input : SELECT TOP 10 [TWOXMM].[dbo].[twoxmm].[DETID] AS [DETID]
        FROM [TWOXMM].[dbo].[twoxmm]
            outputs:
                ActivityOutputStream[name=context.pipeline.output,pipeName=ogsadai-35ec5e0b-ac8c-4b49-b8c6-2647a8e94305,source=uk.ac.roe.wfau.firethorn.Context-ogsadai-4521cb42-52b8-44a8-a47d-bf83c206c8be

        Activity:
            activity name   = uk.org.ogsadai.DeliverToRequestStatus
            instance name   = uk.org.ogsadai.DeliverToRequestStatus-ogsadai-e97264f4-4177-4c04-8948-47ff3e210425
            inputs:
                ActivityInputStream[name=input,pipeName=ogsadai-cbcd275e-abca-4b6f-8c8c-d5659610cacb]
            outputs:

        Activity:
            activity name   = uk.ac.roe.wfau.firethorn.Limits
            instance name   = uk.ac.roe.wfau.firethorn.Limits-ogsadai-cfce50e6-63bb-4f76-9bd4-4ac03c160909
            inputs:
                Literal: limit.rows : 1000000
                ActivityInputStream[name=tuples,pipeName=ogsadai-e9da2927-67ae-4b28-9bb9-e1a0bebd7768]
            outputs:
                ActivityOutputStream[name=tuples,pipeName=ogsadai-558dab09-2f22-4477-98d7-f33855edccb9,source=uk.ac.roe.wfau.firethorn.Limits-ogsadai-cfce50e6-63bb-4f76-9bd4-4ac03c160909

        Activity:
            activity name   = uk.ac.roe.wfau.firethorn.Delays
            instance name   = uk.ac.roe.wfau.firethorn.Delays-ogsadai-a1fe60d3-b6cb-4fbb-8c9b-865b219c0057
            inputs:
                Literal: delay.first : 500
                ActivityInputStream[name=tuples,pipeName=ogsadai-0392cfc6-25f2-442f-8fd0-0918bab280e9]
            outputs:
                ActivityOutputStream[name=tuples,pipeName=ogsadai-e9da2927-67ae-4b28-9bb9-e1a0bebd7768,source=uk.ac.roe.wfau.firethorn.Delays-ogsadai-a1fe60d3-b6cb-4fbb-8c9b-865b219c0057

        Activity:
            activity name   = uk.org.ogsadai.SQLQuery
            instance name   = uk.org.ogsadai.SQLQuery-ogsadai-02d87579-819e-420c-8a25-0ed9fe57fa0a
            target resource = ogsadai-4870eb42-19f9-4af5-b6d9-47a18063e3b0
            inputs:
                ActivityInputStream[name=expression,pipeName=ogsadai-35ec5e0b-ac8c-4b49-b8c6-2647a8e94305]
            outputs:
                ActivityOutputStream[name=data,pipeName=ogsadai-0392cfc6-25f2-442f-8fd0-0918bab280e9,source=uk.org.ogsadai.SQLQuery-ogsadai-02d87579-819e-420c-8a25-0ed9fe57fa0a


        2018-08-16 13:54:33,689 DEBUG pipeline.AutomaticTee [pool-2-thread-4,debug:84] Transformed graph:
        2018-08-16 13:54:33,689 DEBUG pipeline.AutomaticTee [pool-2-thread-4,debug:84] Activity:
            activity name   = uk.ac.roe.wfau.firethorn.JdbcInsertData
            instance name   = uk.ac.roe.wfau.firethorn.JdbcInsertData-ogsadai-063e84ae-6bdb-42c7-b8d0-fb994da7f0ed
            target resource = ogsadai-d4d40aa9-ae60-4968-b024-c27b6c8c3fb5
            inputs:
                ActivityInputStream[name=tuples,pipeName=ogsadai-558dab09-2f22-4477-98d7-f33855edccb9]
                Literal: jdbc.insert.table.name : [TESTFirethornUserdataSHEP20170525].[dbo].[XX_EWHNN73GDDH72AAAAFSUGBBRMU]
            outputs:
                ActivityOutputStream[name=jdbc.insert.results,pipeName=ogsadai-cbcd275e-abca-4b6f-8c8c-d5659610cacb,source=uk.ac.roe.wfau.firethorn.JdbcInsertData-ogsadai-063e84ae-6bdb-42c7-b8d0-fb994da7f0ed

        Activity:
            activity name   = uk.ac.roe.wfau.firethorn.Context
            instance name   = uk.ac.roe.wfau.firethorn.Context-ogsadai-4521cb42-52b8-44a8-a47d-bf83c206c8be
            inputs:
                Literal: callback.port.input : 8081
                Literal: context.ident.input : 21074134
                Literal: context.pipeline.input : SELECT TOP 10 [TWOXMM].[dbo].[twoxmm].[DETID] AS [DETID]
        FROM [TWOXMM].[dbo].[twoxmm]
            outputs:
                ActivityOutputStream[name=context.pipeline.output,pipeName=ogsadai-35ec5e0b-ac8c-4b49-b8c6-2647a8e94305,source=uk.ac.roe.wfau.firethorn.Context-ogsadai-4521cb42-52b8-44a8-a47d-bf83c206c8be

        Activity:
            activity name   = uk.org.ogsadai.DeliverToRequestStatus
            instance name   = uk.org.ogsadai.DeliverToRequestStatus-ogsadai-e97264f4-4177-4c04-8948-47ff3e210425
            inputs:
                ActivityInputStream[name=input,pipeName=ogsadai-cbcd275e-abca-4b6f-8c8c-d5659610cacb]
            outputs:

        Activity:
            activity name   = uk.ac.roe.wfau.firethorn.Limits
            instance name   = uk.ac.roe.wfau.firethorn.Limits-ogsadai-cfce50e6-63bb-4f76-9bd4-4ac03c160909
            inputs:
                Literal: limit.rows : 1000000
                ActivityInputStream[name=tuples,pipeName=ogsadai-e9da2927-67ae-4b28-9bb9-e1a0bebd7768]
            outputs:
                ActivityOutputStream[name=tuples,pipeName=ogsadai-558dab09-2f22-4477-98d7-f33855edccb9,source=uk.ac.roe.wfau.firethorn.Limits-ogsadai-cfce50e6-63bb-4f76-9bd4-4ac03c160909

        Activity:
            activity name   = uk.ac.roe.wfau.firethorn.Delays
            instance name   = uk.ac.roe.wfau.firethorn.Delays-ogsadai-a1fe60d3-b6cb-4fbb-8c9b-865b219c0057
            inputs:
                Literal: delay.first : 500
                ActivityInputStream[name=tuples,pipeName=ogsadai-0392cfc6-25f2-442f-8fd0-0918bab280e9]
            outputs:
                ActivityOutputStream[name=tuples,pipeName=ogsadai-e9da2927-67ae-4b28-9bb9-e1a0bebd7768,source=uk.ac.roe.wfau.firethorn.Delays-ogsadai-a1fe60d3-b6cb-4fbb-8c9b-865b219c0057

        Activity:
            activity name   = uk.org.ogsadai.SQLQuery
            instance name   = uk.org.ogsadai.SQLQuery-ogsadai-02d87579-819e-420c-8a25-0ed9fe57fa0a
            target resource = ogsadai-4870eb42-19f9-4af5-b6d9-47a18063e3b0
            inputs:
                ActivityInputStream[name=expression,pipeName=ogsadai-35ec5e0b-ac8c-4b49-b8c6-2647a8e94305]
            outputs:
                ActivityOutputStream[name=data,pipeName=ogsadai-0392cfc6-25f2-442f-8fd0-0918bab280e9,source=uk.org.ogsadai.SQLQuery-ogsadai-02d87579-819e-420c-8a25-0ed9fe57fa0a


        2018-08-16 13:54:33,692 DEBUG extension.InputsAndOutputsActivityInitialiser [pool-1-thread-21,debug:84] Activity uk.ac.roe.wfau.firethorn.JdbcInsertData hasInputAttributes: false
        2018-08-16 13:54:33,692 DEBUG io.BufferedPipe [pool-1-thread-21,debug:84] Created a BufferedPipe: ogsadai-558dab09-2f22-4477-98d7-f33855edccb9
        2018-08-16 13:54:33,693 DEBUG extension.InputsAndOutputsActivityInitialiser [pool-1-thread-21,debug:84] Activity uk.ac.roe.wfau.firethorn.Delays hasInputAttributes: false
        2018-08-16 13:54:33,693 DEBUG io.BufferedPipe [pool-1-thread-21,debug:84] Created a BufferedPipe: ogsadai-0392cfc6-25f2-442f-8fd0-0918bab280e9
        2018-08-16 13:54:33,694 DEBUG extension.InputsAndOutputsActivityInitialiser [pool-1-thread-21,debug:84] Activity uk.ac.roe.wfau.firethorn.Context hasInputAttributes: false
        2018-08-16 13:54:33,694 DEBUG extension.InputsAndOutputsActivityInitialiser [pool-1-thread-21,debug:84] Activity uk.org.ogsadai.DeliverToRequestStatus hasInputAttributes: false
        2018-08-16 13:54:33,694 DEBUG io.BufferedPipe [pool-1-thread-21,debug:84] Created a BufferedPipe: ogsadai-cbcd275e-abca-4b6f-8c8c-d5659610cacb
        2018-08-16 13:54:33,695 DEBUG extension.InputsAndOutputsActivityInitialiser [pool-1-thread-21,debug:84] Activity uk.ac.roe.wfau.firethorn.Limits hasInputAttributes: false
        2018-08-16 13:54:33,695 DEBUG io.BufferedPipe [pool-1-thread-21,debug:84] Created a BufferedPipe: ogsadai-e9da2927-67ae-4b28-9bb9-e1a0bebd7768
        2018-08-16 13:54:33,696 DEBUG extension.InputsAndOutputsActivityInitialiser [pool-1-thread-21,debug:84] Activity uk.org.ogsadai.SQLQuery hasInputAttributes: false
        2018-08-16 13:54:33,696 DEBUG io.BufferedPipe [pool-1-thread-21,debug:84] Created a BufferedPipe: ogsadai-35ec5e0b-ac8c-4b49-b8c6-2647a8e94305
        2018-08-16 13:54:33,697 ERROR extension.ServiceAddressesActivityInitialiser [pool-1-thread-21,errorExceptionAndChildren:401] #1534427673697:139# java.net.MalformedURLException: no protocol: ${ogsadai.endpoint}
        2018-08-16 13:54:33,697 DEBUG event.LoggingActivityListener [pool-1-thread-21,debug:84] PENDING: Activity uk.ac.roe.wfau.firethorn.JdbcInsertData (instance name = uk.ac.roe.wfau.firethorn.JdbcInsertData-ogsadai-063e84ae-6bdb-42c7-b8d0-fb994da7f0ed)
        2018-08-16 13:54:33,698 DEBUG event.LoggingActivityListener [pool-1-thread-21,debug:84] PENDING: Activity uk.ac.roe.wfau.firethorn.Delays (instance name = uk.ac.roe.wfau.firethorn.Delays-ogsadai-a1fe60d3-b6cb-4fbb-8c9b-865b219c0057)
        2018-08-16 13:54:33,698 DEBUG event.LoggingActivityListener [pool-1-thread-21,debug:84] PENDING: Activity uk.ac.roe.wfau.firethorn.Context (instance name = uk.ac.roe.wfau.firethorn.Context-ogsadai-4521cb42-52b8-44a8-a47d-bf83c206c8be)
        2018-08-16 13:54:33,698 DEBUG event.LoggingActivityListener [pool-1-thread-21,debug:84] PENDING: Activity uk.org.ogsadai.DeliverToRequestStatus (instance name = uk.org.ogsadai.DeliverToRequestStatus-ogsadai-e97264f4-4177-4c04-8948-47ff3e210425)
        2018-08-16 13:54:33,699 DEBUG event.LoggingActivityListener [pool-1-thread-21,debug:84] PENDING: Activity uk.ac.roe.wfau.firethorn.Limits (instance name = uk.ac.roe.wfau.firethorn.Limits-ogsadai-cfce50e6-63bb-4f76-9bd4-4ac03c160909)
        2018-08-16 13:54:33,699 DEBUG event.LoggingActivityListener [pool-1-thread-21,debug:84] PENDING: Activity uk.org.ogsadai.SQLQuery (instance name = uk.org.ogsadai.SQLQuery-ogsadai-02d87579-819e-420c-8a25-0ed9fe57fa0a)
        2018-08-16 13:54:33,700 DEBUG event.LoggingActivityListener [pool-1-thread-22,debug:84] PROCESSING: Activity uk.ac.roe.wfau.firethorn.JdbcInsertData (instance name = uk.ac.roe.wfau.firethorn.JdbcInsertData-ogsadai-063e84ae-6bdb-42c7-b8d0-fb994da7f0ed)
        2018-08-16 13:54:33,700 DEBUG activity.MatchedIterativeActivity [pool-1-thread-22,debug:84] performing first stage of processing
        2018-08-16 13:54:33,700 DEBUG file.SimpleFileLoginProvider [pool-1-thread-22,debug:84] In SimpleFileLogin:getLogin
        2018-08-16 13:54:33,701 DEBUG event.LoggingActivityListener [pool-1-thread-23,debug:84] PROCESSING: Activity uk.ac.roe.wfau.firethorn.Delays (instance name = uk.ac.roe.wfau.firethorn.Delays-ogsadai-a1fe60d3-b6cb-4fbb-8c9b-865b219c0057)
        2018-08-16 13:54:33,701 DEBUG file.SimpleFileLoginProvider [pool-1-thread-22,debug:84] In getLogin: ResourceID:  User ID: null
        2018-08-16 13:54:33,701 DEBUG activity.MatchedIterativeActivity [pool-1-thread-23,debug:84] performing first stage of processing
        2018-08-16 13:54:33,702 DEBUG data.DelaysActivity [pool-1-thread-23,preprocess:102] preprocess()
        2018-08-16 13:54:33,702 DEBUG activity.MatchedIterativeActivity [pool-1-thread-23,debug:84] performing iterative stage of processing
        2018-08-16 13:54:33,702 DEBUG file.SimpleFileLoginProvider [pool-1-thread-22,debug:84] Found 4 lines that match
        2018-08-16 13:54:33,702 DEBUG file.SimpleFileLoginProvider [pool-1-thread-22,debug:84] Found a login for null
        2018-08-16 13:54:33,702 DEBUG jdbc.JDBCDataResource [pool-1-thread-22,debug:84] Using JDBC URL : jdbc:apache:commons:dbcp:ogsadai-jdbcpool-ogsadai-d4d40aa9-ae60-4968-b024-c27b6c8c3fb5
        2018-08-16 13:54:33,702 DEBUG event.LoggingActivityListener [pool-1-thread-24,debug:84] PROCESSING: Activity uk.org.ogsadai.DeliverToRequestStatus (instance name = uk.org.ogsadai.DeliverToRequestStatus-ogsadai-e97264f4-4177-4c04-8948-47ff3e210425)
        2018-08-16 13:54:33,703 DEBUG activity.MatchedIterativeActivity [pool-1-thread-22,debug:84] performing iterative stage of processing
        2018-08-16 13:54:33,704 DEBUG event.LoggingActivityListener [pool-1-thread-25,debug:84] PROCESSING: Activity uk.org.ogsadai.SQLQuery (instance name = uk.org.ogsadai.SQLQuery-ogsadai-02d87579-819e-420c-8a25-0ed9fe57fa0a)
        2018-08-16 13:54:33,704 DEBUG activity.MatchedIterativeActivity [pool-1-thread-25,debug:84] performing first stage of processing
        2018-08-16 13:54:33,704 DEBUG event.LoggingActivityListener [pool-1-thread-26,debug:84] PROCESSING: Activity uk.ac.roe.wfau.firethorn.Context (instance name = uk.ac.roe.wfau.firethorn.Context-ogsadai-4521cb42-52b8-44a8-a47d-bf83c206c8be)
        2018-08-16 13:54:33,704 DEBUG file.SimpleFileLoginProvider [pool-1-thread-25,debug:84] In SimpleFileLogin:getLogin
        2018-08-16 13:54:33,704 DEBUG event.LoggingActivityListener [pool-1-thread-27,debug:84] PROCESSING: Activity uk.ac.roe.wfau.firethorn.Limits (instance name = uk.ac.roe.wfau.firethorn.Limits-ogsadai-cfce50e6-63bb-4f76-9bd4-4ac03c160909)
        2018-08-16 13:54:33,704 DEBUG activity.MatchedIterativeActivity [pool-1-thread-26,debug:84] performing first stage of processing
        2018-08-16 13:54:33,705 DEBUG blue.ContextActivity [pool-1-thread-26,preprocess:117] preprocess()
        2018-08-16 13:54:33,705 DEBUG activity.MatchedIterativeActivity [pool-1-thread-26,debug:84] performing iterative stage of processing
        2018-08-16 13:54:33,705 DEBUG blue.ContextActivity [pool-1-thread-26,processIteration:141] processIteration(Object[])
        2018-08-16 13:54:33,706 DEBUG blue.ContextActivity [pool-1-thread-26,processIteration:185]  value [SELECT TOP 10 [TWOXMM].[dbo].[twoxmm].[DETID] AS [DETID]
        FROM [TWOXMM].[dbo].[twoxmm]]
        2018-08-16 13:54:33,706 DEBUG activity.MatchedIterativeActivity [pool-1-thread-26,debug:84] performing last stage of processing
        2018-08-16 13:54:33,706 DEBUG blue.ContextActivity [pool-1-thread-26,postprocess:208] postprocess()
        2018-08-16 13:54:33,706 DEBUG activity.MatchedIterativeActivity [pool-1-thread-26,debug:84] performing clean-up
        2018-08-16 13:54:33,706 DEBUG event.LoggingActivityListener [pool-1-thread-26,debug:84] COMPLETED: Activity uk.ac.roe.wfau.firethorn.Context (instance name = uk.ac.roe.wfau.firethorn.Context-ogsadai-4521cb42-52b8-44a8-a47d-bf83c206c8be)
        2018-08-16 13:54:33,705 DEBUG activity.MatchedIterativeActivity [pool-1-thread-27,debug:84] performing first stage of processing
        2018-08-16 13:54:33,705 DEBUG file.SimpleFileLoginProvider [pool-1-thread-25,debug:84] In getLogin: ResourceID:  User ID: null
        2018-08-16 13:54:33,707 DEBUG data.LimitsActivity [pool-1-thread-27,preprocess:144] preprocess()
        2018-08-16 13:54:33,707 DEBUG file.SimpleFileLoginProvider [pool-1-thread-25,debug:84] Found 4 lines that match
        2018-08-16 13:54:33,707 DEBUG file.SimpleFileLoginProvider [pool-1-thread-25,debug:84] Found a login for null
        2018-08-16 13:54:33,708 DEBUG jdbc.JDBCDataResource [pool-1-thread-25,debug:84] Using JDBC URL : jdbc:apache:commons:dbcp:ogsadai-jdbcpool-ogsadai-4870eb42-19f9-4af5-b6d9-47a18063e3b0
        2018-08-16 13:54:33,707 DEBUG activity.MatchedIterativeActivity [pool-1-thread-27,debug:84] performing iterative stage of processing
        2018-08-16 13:54:33,714 DEBUG activity.MatchedIterativeActivity [pool-1-thread-25,debug:84] performing iterative stage of processing
        2018-08-16 13:54:33,715 DEBUG sql.SQLQueryActivity [pool-1-thread-25,debug:84] SQL QUERY: SELECT TOP 10 [TWOXMM].[dbo].[twoxmm].[DETID] AS [DETID]
        FROM [TWOXMM].[dbo].[twoxmm]
        2018-08-16 13:54:33,715 DEBUG sql.SQLQueryActivity [pool-1-thread-25,processIteration:234] Initialising query
        2018-08-16 13:54:33,715 DEBUG sql.SQLQueryActivity [pool-1-thread-25,processIteration:246] Executing query
        2018-08-16 13:54:33,716 DEBUG sql.SQLQueryActivity [pool-1-thread-25,debug:84] Creating CallableStatement for query
        2018-08-16 13:54:33,716 DEBUG sql.SQLQueryActivity [pool-1-thread-25,debug:84] Submitting CallableStatement to ExecutorService
        2018-08-16 13:54:33,716 DEBUG sql.SQLQueryActivity [pool-1-thread-25,debug:84] Initiating CallableStatement and starting background execution
        2018-08-16 13:54:33,728 DEBUG context.RequestContextFactory [http-nio-8080-exec-9,createContext:60] createContext(HttpServletRequest)
        2018-08-16 13:54:33,728 DEBUG context.RequestContextFactory [http-nio-8080-exec-9,createContext:62] remote [172.20.0.5]
        2018-08-16 13:54:35,259 DEBUG sql.SQLQueryActivity [pool-1-thread-25,debug:84] CallableStatement encountered problem in query execution
        2018-08-16 13:54:35,260 DEBUG activity.MatchedIterativeActivity [pool-1-thread-25,debug:84] performing clean-up
        2018-08-16 13:54:35,261 WARN  activity.MatchedIterativeActivity [pool-1-thread-25,warnExceptionAndChildren:343] #1534427675261:147# There was a problem cleaning up the activity instance (activity name uk.org.ogsadai.SQLQuery, instance name uk.org.ogsadai.SQLQuery-ogsadai-02d87579-819e-420c-8a25-0ed9fe57fa0a).
        2018-08-16 13:54:35,261 WARN  activity.MatchedIterativeActivity [pool-1-thread-25,warnExceptionAndChildren:343] #1534427675261:147# java.sql.SQLException: Invalid state, the Connection object is closed.
        2018-08-16 13:54:35,262 DEBUG event.LoggingActivityListener [pool-1-thread-25,debug:84] uk.org.ogsadai.activity.sql.ActivitySQLUserException: The activity encountered a problem while interacting with a relational database.
	        at uk.ac.roe.wfau.firethorn.ogsadai.activity.server.sql.SQLQueryActivity.processIteration(SQLQueryActivity.java:293)
	        at uk.org.ogsadai.activity.MatchedIterativeActivity.process(MatchedIterativeActivity.java:90)
	        at uk.org.ogsadai.activity.event.EventfulActivity.process(EventfulActivity.java:78)
	        at uk.org.ogsadai.activity.concurrency.ActivityProcessingTask.call(ActivityProcessingTask.java:81)
	        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	        at java.lang.Thread.run(Thread.java:748)
        Caused by: java.sql.SQLException: Warning: Fatal error 823 occurred at Aug 16 2018  2:55PM. Note the error and time, and contact your system administrator.
	        at net.sourceforge.jtds.jdbc.SQLDiagnostic.addDiagnostic(SQLDiagnostic.java:372)
	        at net.sourceforge.jtds.jdbc.TdsCore.tdsErrorToken(TdsCore.java:2988)
	        at net.sourceforge.jtds.jdbc.TdsCore.nextToken(TdsCore.java:2421)
	        at net.sourceforge.jtds.jdbc.TdsCore.getMoreResults(TdsCore.java:671)
	        at net.sourceforge.jtds.jdbc.JtdsStatement.executeSQLQuery(JtdsStatement.java:505)
	        at net.sourceforge.jtds.jdbc.JtdsStatement.executeQuery(JtdsStatement.java:1427)
	        at org.apache.commons.dbcp.DelegatingStatement.executeQuery(DelegatingStatement.java:208)
	        at org.apache.commons.dbcp.DelegatingStatement.executeQuery(DelegatingStatement.java:208)
	        at uk.org.ogsadai.activity.sql.CallableStatement.call(CallableStatement.java:66)
	        at uk.org.ogsadai.activity.sql.CallableStatement.call(CallableStatement.java:30)
	        ... 4 more

        2018-08-16 13:54:35,262 WARN  event.LoggingActivityListener [pool-1-thread-25,warnExceptionAndChildren:343] #1534427675260:146# A problem has occurred during processing of activity uk.org.ogsadai.SQLQuery with instance name uk.org.ogsadai.SQLQuery-ogsadai-02d87579-819e-420c-8a25-0ed9fe57fa0a.
        2018-08-16 13:54:35,263 WARN  event.LoggingActivityListener [pool-1-thread-25,warnExceptionAndChildren:343] #1534427675260:146# The activity encountered a problem while interacting with a relational database.
        2018-08-16 13:54:35,263 WARN  event.LoggingActivityListener [pool-1-thread-25,warnExceptionAndChildren:343] #1534427675260:146# java.sql.SQLException: Warning: Fatal error 823 occurred at Aug 16 2018  2:55PM. Note the error and time, and contact your system administrator.
        2018-08-16 13:54:35,264 DEBUG activity.MatchedIterativeActivity [pool-1-thread-23,debug:84] performing clean-up
        2018-08-16 13:54:35,264 DEBUG event.LoggingActivityListener [pool-1-thread-23,debug:84] uk.org.ogsadai.activity.io.DataError: The pipe has been closed due to an error that occurred at the data producer.
	        at uk.org.ogsadai.activity.io.BufferedPipe.read(BufferedPipe.java:154)
	        at uk.org.ogsadai.activity.event.EventfulPipe.read(EventfulPipe.java:118)
	        at uk.org.ogsadai.activity.io.TupleListActivityInput.read(TupleListActivityInput.java:77)
	        at uk.org.ogsadai.activity.MatchedIterativeActivity.performNextIteration(MatchedIterativeActivity.java:183)
	        at uk.org.ogsadai.activity.MatchedIterativeActivity.process(MatchedIterativeActivity.java:88)
	        at uk.org.ogsadai.activity.event.EventfulActivity.process(EventfulActivity.java:78)
	        at uk.org.ogsadai.activity.concurrency.ActivityProcessingTask.call(ActivityProcessingTask.java:81)
	        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	        at java.lang.Thread.run(Thread.java:748)

        2018-08-16 13:54:35,264 WARN  event.LoggingActivityListener [pool-1-thread-23,warnExceptionAndChildren:343] #1534427675264:150# A problem has occurred during processing of activity uk.ac.roe.wfau.firethorn.Delays with instance name uk.ac.roe.wfau.firethorn.Delays-ogsadai-a1fe60d3-b6cb-4fbb-8c9b-865b219c0057.
        2018-08-16 13:54:35,265 WARN  event.LoggingActivityListener [pool-1-thread-23,warnExceptionAndChildren:343] #1534427675264:150# The pipe has been closed due to an error that occurred at the data producer.
        2018-08-16 13:54:35,265 DEBUG activity.MatchedIterativeActivity [pool-1-thread-27,debug:84] performing clean-up
        2018-08-16 13:54:35,266 DEBUG event.LoggingActivityListener [pool-1-thread-27,debug:84] uk.org.ogsadai.activity.io.DataError: The pipe has been closed due to an error that occurred at the data producer.
	        at uk.org.ogsadai.activity.io.BufferedPipe.read(BufferedPipe.java:154)
	        at uk.org.ogsadai.activity.event.EventfulPipe.read(EventfulPipe.java:118)
	        at uk.org.ogsadai.activity.io.TupleListActivityInput.read(TupleListActivityInput.java:77)
	        at uk.org.ogsadai.activity.MatchedIterativeActivity.performNextIteration(MatchedIterativeActivity.java:183)
	        at uk.org.ogsadai.activity.MatchedIterativeActivity.process(MatchedIterativeActivity.java:88)
	        at uk.org.ogsadai.activity.event.EventfulActivity.process(EventfulActivity.java:78)
	        at uk.org.ogsadai.activity.concurrency.ActivityProcessingTask.call(ActivityProcessingTask.java:81)
	        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	        at java.lang.Thread.run(Thread.java:748)

        2018-08-16 13:54:35,266 WARN  event.LoggingActivityListener [pool-1-thread-27,warnExceptionAndChildren:343] #1534427675265:153# A problem has occurred during processing of activity uk.ac.roe.wfau.firethorn.Limits with instance name uk.ac.roe.wfau.firethorn.Limits-ogsadai-cfce50e6-63bb-4f76-9bd4-4ac03c160909.
        2018-08-16 13:54:35,267 WARN  event.LoggingActivityListener [pool-1-thread-27,warnExceptionAndChildren:343] #1534427675265:153# The pipe has been closed due to an error that occurred at the data producer.
        2018-08-16 13:54:35,267 DEBUG activity.MatchedIterativeActivity [pool-1-thread-22,debug:84] performing clean-up
        2018-08-16 13:54:35,269 DEBUG event.LoggingActivityListener [pool-1-thread-22,debug:84] uk.org.ogsadai.activity.io.DataError: The pipe has been closed due to an error that occurred at the data producer.
	        at uk.org.ogsadai.activity.io.BufferedPipe.read(BufferedPipe.java:154)
	        at uk.org.ogsadai.activity.event.EventfulPipe.read(EventfulPipe.java:118)
	        at uk.org.ogsadai.activity.io.TupleListActivityInput.read(TupleListActivityInput.java:77)
	        at uk.org.ogsadai.activity.MatchedIterativeActivity.performNextIteration(MatchedIterativeActivity.java:183)
	        at uk.org.ogsadai.activity.MatchedIterativeActivity.process(MatchedIterativeActivity.java:88)
	        at uk.org.ogsadai.activity.event.EventfulActivity.process(EventfulActivity.java:78)
	        at uk.org.ogsadai.activity.concurrency.ActivityProcessingTask.call(ActivityProcessingTask.java:81)
	        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	        at java.lang.Thread.run(Thread.java:748)

        2018-08-16 13:54:35,269 WARN  event.LoggingActivityListener [pool-1-thread-22,warnExceptionAndChildren:343] #1534427675267:156# A problem has occurred during processing of activity uk.ac.roe.wfau.firethorn.JdbcInsertData with instance name uk.ac.roe.wfau.firethorn.JdbcInsertData-ogsadai-063e84ae-6bdb-42c7-b8d0-fb994da7f0ed.
        2018-08-16 13:54:35,269 WARN  event.LoggingActivityListener [pool-1-thread-22,warnExceptionAndChildren:343] #1534427675267:156# The pipe has been closed due to an error that occurred at the data producer.
        2018-08-16 13:54:35,270 DEBUG event.LoggingActivityListener [pool-1-thread-24,debug:84] uk.org.ogsadai.activity.io.DataError: The pipe has been closed due to an error that occurred at the data producer.
	        at uk.org.ogsadai.activity.io.BufferedPipe.read(BufferedPipe.java:154)
	        at uk.org.ogsadai.activity.event.EventfulPipe.read(EventfulPipe.java:118)
	        at uk.org.ogsadai.activity.delivery.DeliverToRequestStatusActivity.process(DeliverToRequestStatusActivity.java:138)
	        at uk.org.ogsadai.activity.event.EventfulActivity.process(EventfulActivity.java:78)
	        at uk.org.ogsadai.activity.concurrency.ActivityProcessingTask.call(ActivityProcessingTask.java:81)
	        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	        at java.lang.Thread.run(Thread.java:748)

        2018-08-16 13:54:35,270 WARN  event.LoggingActivityListener [pool-1-thread-24,warnExceptionAndChildren:343] #1534427675270:159# A problem has occurred during processing of activity uk.org.ogsadai.DeliverToRequestStatus with instance name uk.org.ogsadai.DeliverToRequestStatus-ogsadai-e97264f4-4177-4c04-8948-47ff3e210425.
        2018-08-16 13:54:35,270 WARN  event.LoggingActivityListener [pool-1-thread-24,warnExceptionAndChildren:343] #1534427675270:159# The pipe has been closed due to an error that occurred at the data producer.



#----------------------------------------------------------------
# This is the area where the Exception happens ...

        2018-08-16 13:54:33,715 DEBUG sql.SQLQueryActivity [pool-1-thread-25,debug:84] SQL QUERY: SELECT TOP 10 [TWOXMM].[dbo].[twoxmm].[DETID] AS [DETID]
        FROM [TWOXMM].[dbo].[twoxmm]
        2018-08-16 13:54:33,715 DEBUG sql.SQLQueryActivity [pool-1-thread-25,processIteration:234] Initialising query
        2018-08-16 13:54:33,715 DEBUG sql.SQLQueryActivity [pool-1-thread-25,processIteration:246] Executing query
        2018-08-16 13:54:33,716 DEBUG sql.SQLQueryActivity [pool-1-thread-25,debug:84] Creating CallableStatement for query
        2018-08-16 13:54:33,716 DEBUG sql.SQLQueryActivity [pool-1-thread-25,debug:84] Submitting CallableStatement to ExecutorService
        2018-08-16 13:54:33,716 DEBUG sql.SQLQueryActivity [pool-1-thread-25,debug:84] Initiating CallableStatement and starting background execution
        2018-08-16 13:54:33,728 DEBUG context.RequestContextFactory [http-nio-8080-exec-9,createContext:60] createContext(HttpServletRequest)
        2018-08-16 13:54:33,728 DEBUG context.RequestContextFactory [http-nio-8080-exec-9,createContext:62] remote [172.20.0.5]
        2018-08-16 13:54:35,259 DEBUG sql.SQLQueryActivity [pool-1-thread-25,debug:84] CallableStatement encountered problem in query execution
        2018-08-16 13:54:35,260 DEBUG activity.MatchedIterativeActivity [pool-1-thread-25,debug:84] performing clean-up
        2018-08-16 13:54:35,261 WARN  activity.MatchedIterativeActivity [pool-1-thread-25,warnExceptionAndChildren:343] #1534427675261:147# There was a problem cleaning up the activity instance (activity name uk.org.ogsadai.SQLQuery, instance name uk.org.ogsadai.SQLQuery-ogsadai-02d87579-819e-420c-8a25-0ed9fe57fa0a).
        2018-08-16 13:54:35,261 WARN  activity.MatchedIterativeActivity [pool-1-thread-25,warnExceptionAndChildren:343] #1534427675261:147# java.sql.SQLException: Invalid state, the Connection object is closed.
        2018-08-16 13:54:35,262 DEBUG event.LoggingActivityListener [pool-1-thread-25,debug:84] uk.org.ogsadai.activity.sql.ActivitySQLUserException: The activity encountered a problem while interacting with a relational database.
	        at uk.ac.roe.wfau.firethorn.ogsadai.activity.server.sql.SQLQueryActivity.processIteration(SQLQueryActivity.java:293)
	        at uk.org.ogsadai.activity.MatchedIterativeActivity.process(MatchedIterativeActivity.java:90)
	        at uk.org.ogsadai.activity.event.EventfulActivity.process(EventfulActivity.java:78)
	        at uk.org.ogsadai.activity.concurrency.ActivityProcessingTask.call(ActivityProcessingTask.java:81)
	        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	        at java.lang.Thread.run(Thread.java:748)
        Caused by: java.sql.SQLException: Warning: Fatal error 823 occurred at Aug 16 2018  2:55PM. Note the error and time, and contact your system administrator.
	        at net.sourceforge.jtds.jdbc.SQLDiagnostic.addDiagnostic(SQLDiagnostic.java:372)
	        at net.sourceforge.jtds.jdbc.TdsCore.tdsErrorToken(TdsCore.java:2988)
	        at net.sourceforge.jtds.jdbc.TdsCore.nextToken(TdsCore.java:2421)
	        at net.sourceforge.jtds.jdbc.TdsCore.getMoreResults(TdsCore.java:671)
	        at net.sourceforge.jtds.jdbc.JtdsStatement.executeSQLQuery(JtdsStatement.java:505)
	        at net.sourceforge.jtds.jdbc.JtdsStatement.executeQuery(JtdsStatement.java:1427)
	        at org.apache.commons.dbcp.DelegatingStatement.executeQuery(DelegatingStatement.java:208)
	        at org.apache.commons.dbcp.DelegatingStatement.executeQuery(DelegatingStatement.java:208)
	        at uk.org.ogsadai.activity.sql.CallableStatement.call(CallableStatement.java:66)
	        at uk.org.ogsadai.activity.sql.CallableStatement.call(CallableStatement.java:30)
	        ... 4 more


    1) The firethorn callback is never triggered

    2) Secondardy Exception occurs in MatchedIterativeActivity when it tries to close the connection.
       java.sql.SQLException: Invalid state, the Connection object is closed.

    3) Primary Exception is thrown inside the CallableStatement.

    4) Log message "CallableStatement encountered problem in query execution" shows Exception was wrapped in an ExecutionException.

        LOG.debug("CallableStatement encountered problem in query execution");
        throw e.getCause();

    5) ActivitySQLUserException implies the cause is thrown as a SQLException

    6) Adding just one ChaosMonkey SQLException doesn't replicate the issue.

    7) Suspect it is the second SQLException, during cleanUp(), that is causing the problem.


# -----------------------------------------------------
# Trying more the ChaosMonkey calls ...
#[root@firethorn-py]

#
# This doesn't trigger the Exception :-(
params = {}
params.update({"firethorn.monkey.name" : "uk.ac.roe.wfau.firethorn.ogsadai.activity.server.sql.SQLQueryActivity"})
params.update({"firethorn.monkey.data" : "baivahP0"})

print(
    params
    )
query_obj = workspace.create_query(
    query_str,
    "COMPLETED",
    None,
    3000000,
    params=params
    )
print(
    query_obj
    )



#
# Trigger the ChaosMonkey Exception inside the CallableStatement.
# This replicates the same symptoms as the issue we are tracking :-D
params = {}
params.update({"firethorn.monkey.name" : "uk.ac.roe.wfau.firethorn.ogsadai.activity.server.sql.SQLQueryActivity$ChaoticCallableStatement"})
params.update({"firethorn.monkey.data" : "Eoph9xie"})

    2018-08-16 18:41:08,791 DEBUG sql.SQLQueryActivity [pool-1-thread-45,processIteration:263] Initialising query
    2018-08-16 18:41:08,792 DEBUG sql.SQLQueryActivity [pool-1-thread-45,processIteration:275] Executing query
    2018-08-16 18:41:08,792 DEBUG sql.SQLQueryActivity [pool-1-thread-45,debug:84] Creating CallableStatement for query
    2018-08-16 18:41:08,793 DEBUG sql.SQLQueryActivity [pool-1-thread-45,debug:84] Submitting CallableStatement to ExecutorService
    2018-08-16 18:41:08,794 DEBUG sql.SQLQueryActivity [pool-1-thread-45,debug:84] Initiating CallableStatement and starting background execution
    2018-08-16 18:41:08,794 DEBUG sql.SQLQueryActivity [pool-1-thread-45,debug:84] CallableStatement encountered problem in query execution
    2018-08-16 18:41:08,794 DEBUG sql.SQLQueryActivity [pool-1-thread-45,debug:84] Caught a SQLException, wrapping it in an ActivitySQLUserException
    2018-08-16 18:41:08,795 DEBUG activity.MatchedIterativeActivity [pool-1-thread-45,debug:84] performing clean-up
    2018-08-16 18:41:08,795 DEBUG sql.SQLQueryActivity [pool-1-thread-45,debug:84] Shutting down ExecutorService
    2018-08-16 18:41:08,796 DEBUG sql.SQLQueryActivity [pool-1-thread-45,debug:84] Closing Statement
    2018-08-16 18:41:08,797 DEBUG sql.SQLQueryActivity [pool-1-thread-45,debug:84] Releasing Connection
    2018-08-16 18:41:08,811 DEBUG event.LoggingActivityListener [pool-1-thread-45,debug:84] uk.org.ogsadai.activity.sql.ActivitySQLUserException: The activity encountered a problem while interacting with a relational database.
        at uk.ac.roe.wfau.firethorn.ogsadai.activity.server.sql.SQLQueryActivity.processIteration(SQLQueryActivity.java:323)
        at uk.org.ogsadai.activity.MatchedIterativeActivity.process(MatchedIterativeActivity.java:90)
        at uk.org.ogsadai.activity.event.EventfulActivity.process(EventfulActivity.java:78)
        at uk.org.ogsadai.activity.concurrency.ActivityProcessingTask.call(ActivityProcessingTask.java:81)
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at java.lang.Thread.run(Thread.java:748)
    Caused by: java.sql.SQLException: ChaosMonkey [uk.ac.roe.wfau.firethorn.ogsadai.activity.server.sql.SQLQueryActivity$ChaoticCallableStatement][Eoph9xie]
        at uk.ac.roe.wfau.firethorn.ogsadai.activity.common.chaos.MonkeyParamBase.sqlException(MonkeyParamBase.java:106)
        at uk.ac.roe.wfau.firethorn.ogsadai.activity.server.sql.SQLQueryActivity$ChaoticCallableStatement.call(SQLQueryActivity.java:417)
        at uk.ac.roe.wfau.firethorn.ogsadai.activity.server.sql.SQLQueryActivity$ChaoticCallableStatement.call(SQLQueryActivity.java:407)
        ... 4 more


    1) Triggering the Exception inside the CallableStatement
    2) OGSA-DAI chain gets shutdown "DataError: The pipe has been closed due to an error that occurred at the data producer."
    3) Callback is not called.
    4) Firethorn thinks the query is running [BlueQueryEntity] Workflow result [155055][RUNNING]

#
# Trigger the ChaosMonkey Exception between creating the Future and waiting for it.
# This does NOT cause the same problem ..
params = {}
params.update({"firethorn.monkey.name" : "uk.ac.roe.wfau.firethorn.ogsadai.activity.server.sql.SQLQueryActivity"})
params.update({"firethorn.monkey.data" : "uche2aNa"})

    2018-08-16 18:17:51,556 DEBUG sql.SQLQueryActivity [pool-1-thread-31,processIteration:263] Initialising query
    2018-08-16 18:17:51,557 DEBUG sql.SQLQueryActivity [pool-1-thread-31,processIteration:275] Executing query
    2018-08-16 18:17:51,557 DEBUG sql.SQLQueryActivity [pool-1-thread-31,debug:84] Creating CallableStatement for query
    2018-08-16 18:17:51,557 DEBUG sql.SQLQueryActivity [pool-1-thread-31,debug:84] Submitting CallableStatement to ExecutorService
    2018-08-16 18:17:51,559 DEBUG sql.SQLQueryActivity [pool-1-thread-31,debug:84] Caught a SQLException, wrapping it in an ActivitySQLUserException
    2018-08-16 18:17:51,559 DEBUG activity.MatchedIterativeActivity [pool-1-thread-31,debug:84] performing clean-up
    2018-08-16 18:17:51,559 DEBUG sql.SQLQueryActivity [pool-1-thread-31,debug:84] Shutting down ExecutorService
    2018-08-16 18:17:51,560 DEBUG sql.SQLQueryActivity [pool-1-thread-31,debug:84] Closing Statement
    2018-08-16 18:17:51,561 DEBUG file.SimpleFileLoginProvider [pool-1-thread-32,debug:84] Found 4 lines that match
    2018-08-16 18:17:51,561 DEBUG file.SimpleFileLoginProvider [pool-1-thread-32,debug:84] Found a login for null
    2018-08-16 18:17:51,562 DEBUG jdbc.JDBCDataResource [pool-1-thread-32,debug:84] Using JDBC URL : jdbc:apache:commons:dbcp:ogsadai-jdbcpool-ogsadai-d584798b-a4ca-459f-8873-74c2da8bb5f0
    2018-08-16 18:17:51,563 WARN  activity.MatchedIterativeActivity [pool-1-thread-31,warnExceptionAndChildren:343] #1534443471562:176# There was a problem cleaning up the activity instance (activity name uk.org.ogsadai.SQLQuery, instance name uk.org.ogsadai.SQLQuery-ogsadai-4cb60297-59a8-4afa-ae3e-bef600adacef).
    2018-08-16 18:17:51,563 WARN  activity.MatchedIterativeActivity [pool-1-thread-31,warnExceptionAndChildren:343] #1534443471562:176# java.lang.NullPointerException: null
    2018-08-16 18:17:51,564 DEBUG event.LoggingActivityListener [pool-1-thread-31,debug:84] uk.org.ogsadai.activity.sql.ActivitySQLUserException: The activity encountered a problem while interacting with a relational database.
	    at uk.ac.roe.wfau.firethorn.ogsadai.activity.server.sql.SQLQueryActivity.processIteration(SQLQueryActivity.java:323)
	    at uk.org.ogsadai.activity.MatchedIterativeActivity.process(MatchedIterativeActivity.java:90)
	    at uk.org.ogsadai.activity.event.EventfulActivity.process(EventfulActivity.java:78)
	    at uk.org.ogsadai.activity.concurrency.ActivityProcessingTask.call(ActivityProcessingTask.java:81)
	    at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	    at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	    at java.lang.Thread.run(Thread.java:748)
    Caused by: java.sql.SQLException: ChaosMonkey [uk.ac.roe.wfau.firethorn.ogsadai.activity.server.sql.SQLQueryActivity][uche2aNa]
	    at uk.ac.roe.wfau.firethorn.ogsadai.activity.common.chaos.MonkeyParamBase.sqlException(MonkeyParamBase.java:106)
	    at uk.ac.roe.wfau.firethorn.ogsadai.activity.server.sql.SQLQueryActivity.executeQuery(SQLQueryActivity.java:374)
	    at uk.ac.roe.wfau.firethorn.ogsadai.activity.server.sql.SQLQueryActivity.processIteration(SQLQueryActivity.java:276)
	    ... 9 more


    1) Triggering the Exception after creating the CallableStatement
    2) [SimpleWorkflowResult] RequestExecutionStatus [uk.org.ogsadai.resource.request.status.COMPLETED_WITH_ERROR]
    3) Firethorn gets the right result [BlueQueryEntity] Finishing execute() [155058][FAILED]

    4) Still no callback though.
    5) Secondary NullPointerException during cleanup because ??







